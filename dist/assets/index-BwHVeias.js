var m0=Object.defineProperty;var Cf=t=>{throw TypeError(t)};var p0=(t,e,n)=>e in t?m0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pr=(t,e,n)=>p0(t,typeof e!="symbol"?e+"":e,n),Lc=(t,e,n)=>e.has(t)||Cf("Cannot "+n);var _=(t,e,n)=>(Lc(t,e,"read from private field"),n?n.call(t):e.get(t)),ne=(t,e,n)=>e.has(t)?Cf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,s)=>(Lc(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),de=(t,e,n)=>(Lc(t,e,"access private method"),n);var zo=(t,e,n,s)=>({set _(r){H(t,e,r,n)},get _(){return _(t,e,s)}});import{r as g0,a as y0,g as v0}from"./vendor-C8w-UNLI.js";import{r as m,b as ec,c as Zp,a as Qp,u as _r,R as D,d as x0,N as kf,e as b0,f as w0}from"./router-COv5F-vk.js";import{t as Ie,X as Hu,U as ao,S as _f,P as Xp,M as S0,C as jn,D as C0,a as Jp,A as k0,b as Dr,H as Nf,L as Yo,c as _0,d as N0,e as T0,f as _a,g as P0,h as oi,i as lr,j as E0,k as tc,l as O0,m as xn,n as eg,o as j0,p as tg,T as ng,q as nc,r as mr,s as Hi,E as A0,u as R0,Z as sg,R as M0,F as D0,v as Xi,W as rg,w as ig,x as I0,y as F0,z as L0}from"./ui-BmGE5rQC.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Vc={exports:{}},Di={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function V0(){if(Tf)return Di;Tf=1;var t=g0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var d,f={},h=null,g=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)s.call(c,d)&&!i.hasOwnProperty(d)&&(f[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:a,key:h,ref:g,props:f,_owner:r.current}}return Di.Fragment=n,Di.jsx=o,Di.jsxs=o,Di}var Pf;function B0(){return Pf||(Pf=1,Vc.exports=V0()),Vc.exports}var l=B0();function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Ef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function og(...t){return e=>{let n=!1;const s=t.map(r=>{const i=Ef(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():Ef(t[r],null)}}}}function $e(...t){return m.useCallback(og(...t),t)}function W0(t,e){const n=m.createContext(e),s=i=>{const{children:o,...a}=i,c=m.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};s.displayName=t+"Provider";function r(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function yi(t,e=[]){let n=[];function s(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:g,...v}=f,p=((x=h==null?void 0:h[t])==null?void 0:x[c])||a,y=m.useMemo(()=>v,Object.values(v));return l.jsx(p.Provider,{value:y,children:g})};u.displayName=i+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[t])==null?void 0:p[c])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return r.scopeName=t,[s,$0(r,...e)]}function $0(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const o=s.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function pr(t){const e=U0(t),n=m.forwardRef((s,r)=>{const{children:i,...o}=s,a=m.Children.toArray(i),c=a.find(H0);if(c){const u=c.props.children,d=a.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...o,ref:r,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return l.jsx(e,{...o,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var ag=pr("Slot");function U0(t){const e=m.forwardRef((n,s)=>{const{children:r,...i}=n;if(m.isValidElement(r)){const o=Y0(r),a=z0(i,r.props);return r.type!==m.Fragment&&(a.ref=s?og(s,o):o),m.cloneElement(r,a)}return m.Children.count(r)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cg=Symbol("radix.slottable");function q0(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cg,e}function H0(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cg}function z0(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...a)=>{const c=i(...a);return r(...a),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Y0(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var G0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=G0.reduce((t,e)=>{const n=pr(`Primitive.${e}`),s=m.forwardRef((r,i)=>{const{asChild:o,...a}=r,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function K0(t,e){t&&ec.flushSync(()=>t.dispatchEvent(e))}function gr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function Z0(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t);m.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var Q0="DismissableLayer",_l="dismissableLayer.update",X0="dismissableLayer.pointerDownOutside",J0="dismissableLayer.focusOutside",Of,lg=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eo=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=m.useContext(lg),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=$e(e,T=>f(T)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,C=b>=x,S=nS(T=>{const E=T.target,A=[...u.branches].some(M=>M.contains(E));!C||A||(r==null||r(T),o==null||o(T),T.defaultPrevented||a==null||a())},h),N=sS(T=>{const E=T.target;[...u.branches].some(M=>M.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},h);return Z0(T=>{b===u.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Of=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),jf(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Of)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),jf())},[d,u]),m.useEffect(()=>{const T=()=>g({});return document.addEventListener(_l,T),()=>document.removeEventListener(_l,T)},[]),l.jsx(Re.div,{...c,ref:v,style:{pointerEvents:w?C?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,N.onFocusCapture),onBlurCapture:be(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,S.onPointerDownCapture)})});Eo.displayName=Q0;var eS="DismissableLayerBranch",tS=m.forwardRef((t,e)=>{const n=m.useContext(lg),s=m.useRef(null),r=$e(e,s);return m.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Re.div,{...t,ref:r})});tS.displayName=eS;function nS(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t),s=m.useRef(!1),r=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!s.current){let c=function(){ug(X0,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function sS(t,e=globalThis==null?void 0:globalThis.document){const n=gr(t),s=m.useRef(!1);return m.useEffect(()=>{const r=i=>{i.target&&!s.current&&ug(J0,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function jf(){const t=new CustomEvent(_l);document.dispatchEvent(t)}function ug(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?K0(r,i):r.dispatchEvent(i)}var _t=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},rS=Zp[" useId ".trim().toString()]||(()=>{}),iS=0;function ur(t){const[e,n]=m.useState(rS());return _t(()=>{n(s=>s??String(iS++))},[t]),e?`radix-${e}`:""}const oS=["top","right","bottom","left"],Ns=Math.min,Wt=Math.max,Na=Math.round,Go=Math.floor,Nn=t=>({x:t,y:t}),aS={left:"right",right:"left",bottom:"top",top:"bottom"},cS={start:"end",end:"start"};function Nl(t,e,n){return Wt(t,Ns(e,n))}function Zn(t,e){return typeof t=="function"?t(e):t}function Qn(t){return t.split("-")[0]}function vi(t){return t.split("-")[1]}function zu(t){return t==="x"?"y":"x"}function Yu(t){return t==="y"?"height":"width"}const lS=new Set(["top","bottom"]);function Cn(t){return lS.has(Qn(t))?"y":"x"}function Gu(t){return zu(Cn(t))}function uS(t,e,n){n===void 0&&(n=!1);const s=vi(t),r=Gu(t),i=Yu(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ta(o)),[o,Ta(o)]}function dS(t){const e=Ta(t);return[Tl(t),e,Tl(e)]}function Tl(t){return t.replace(/start|end/g,e=>cS[e])}const Af=["left","right"],Rf=["right","left"],fS=["top","bottom"],hS=["bottom","top"];function mS(t,e,n){switch(t){case"top":case"bottom":return n?e?Rf:Af:e?Af:Rf;case"left":case"right":return e?fS:hS;default:return[]}}function pS(t,e,n,s){const r=vi(t);let i=mS(Qn(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(Tl)))),i}function Ta(t){return t.replace(/left|right|bottom|top/g,e=>aS[e])}function gS(t){return{top:0,right:0,bottom:0,left:0,...t}}function dg(t){return typeof t!="number"?gS(t):{top:t,right:t,bottom:t,left:t}}function Pa(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function Mf(t,e,n){let{reference:s,floating:r}=t;const i=Cn(e),o=Gu(e),a=Yu(o),c=Qn(e),u=i==="y",d=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,h=s[a]/2-r[a]/2;let g;switch(c){case"top":g={x:d,y:s.y-r.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:f};break;case"left":g={x:s.x-r.width,y:f};break;default:g={x:s.x,y:s.y}}switch(vi(e)){case"start":g[o]-=h*(n&&u?-1:1);break;case"end":g[o]+=h*(n&&u?-1:1);break}return g}const yS=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:f}=Mf(u,s,c),h=s,g={},v=0;for(let p=0;p<a.length;p++){const{name:y,fn:x}=a[p],{x:b,y:w,data:C,reset:S}=await x({x:d,y:f,initialPlacement:s,placement:h,strategy:r,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=b??d,f=w??f,g={...g,[y]:{...g[y],...C}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):S.rects),{x:d,y:f}=Mf(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:r,middlewareData:g}};async function co(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=Zn(e,t),v=dg(g),y=a[h?f==="floating"?"reference":"floating":f],x=Pa(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Pa(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+v.top)/C.y,bottom:(S.bottom-x.bottom+v.bottom)/C.y,left:(x.left-S.left+v.left)/C.x,right:(S.right-x.right+v.right)/C.x}}const vS=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Zn(t,e)||{};if(u==null)return{};const f=dg(d),h={x:n,y:s},g=Gu(r),v=Yu(g),p=await o.getDimensions(u),y=g==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[g]-h[g]-i.floating[v],S=h[g]-i.reference[g],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=N?N[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(N)))&&(T=a.floating[w]||i.floating[v]);const E=C/2-S/2,A=T/2-p[v]/2-1,M=Ns(f[x],A),L=Ns(f[b],A),R=M,I=T-p[v]-L,q=T/2-p[v]/2+E,ee=Nl(R,q,I),G=!c.arrow&&vi(r)!=null&&q!==ee&&i.reference[v]/2-(q<R?M:L)-p[v]/2<0,Y=G?q<R?q-R:q-I:0;return{[g]:h[g]+Y,data:{[g]:ee,centerOffset:q-ee-Y,...G&&{alignmentOffset:Y}},reset:G}}}),xS=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...y}=Zn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Qn(r),b=Cn(a),w=Qn(a)===a,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!p?[Ta(a)]:dS(a)),N=v!=="none";!h&&N&&S.push(...pS(a,p,v,C));const T=[a,...S],E=await co(e,y),A=[];let M=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&A.push(E[x]),f){const q=uS(r,o,C);A.push(E[q[0]],E[q[1]])}if(M=[...M,{placement:r,overflows:A}],!A.every(q=>q<=0)){var L,R;const q=(((L=i.flip)==null?void 0:L.index)||0)+1,ee=T[q];if(ee&&(!(f==="alignment"?b!==Cn(ee):!1)||M.every(W=>Cn(W.placement)===b?W.overflows[0]>0:!0)))return{data:{index:q,overflows:M},reset:{placement:ee}};let G=(R=M.filter(Y=>Y.overflows[0]<=0).sort((Y,W)=>Y.overflows[1]-W.overflows[1])[0])==null?void 0:R.placement;if(!G)switch(g){case"bestFit":{var I;const Y=(I=M.filter(W=>{if(N){const Z=Cn(W.placement);return Z===b||Z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Z=>Z>0).reduce((Z,ce)=>Z+ce,0)]).sort((W,Z)=>W[1]-Z[1])[0])==null?void 0:I[0];Y&&(G=Y);break}case"initialPlacement":G=a;break}if(r!==G)return{reset:{placement:G}}}return{}}}};function Df(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function If(t){return oS.some(e=>t[e]>=0)}const bS=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Zn(t,e);switch(s){case"referenceHidden":{const i=await co(e,{...r,elementContext:"reference"}),o=Df(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:If(o)}}}case"escaped":{const i=await co(e,{...r,altBoundary:!0}),o=Df(i,n.floating);return{data:{escapedOffsets:o,escaped:If(o)}}}default:return{}}}}},fg=new Set(["left","top"]);async function wS(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Qn(n),a=vi(n),c=Cn(n)==="y",u=fg.has(o)?-1:1,d=i&&c?-1:1,f=Zn(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const SS=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:a}=e,c=await wS(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:o}}}}},CS=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=Zn(t,e),u={x:n,y:s},d=await co(e,c),f=Cn(Qn(r)),h=zu(f);let g=u[h],v=u[f];if(i){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=g+d[y],w=g-d[x];g=Nl(b,g,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=Nl(b,v,w)}const p=a.fn({...e,[h]:g,[f]:v});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[h]:i,[f]:o}}}}}},kS=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Zn(t,e),d={x:n,y:s},f=Cn(r),h=zu(f);let g=d[h],v=d[f];const p=Zn(a,e),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",C=i.reference[h]-i.floating[w]+y.mainAxis,S=i.reference[h]+i.reference[w]-y.mainAxis;g<C?g=C:g>S&&(g=S)}if(u){var x,b;const w=h==="y"?"width":"height",C=fg.has(Qn(r)),S=i.reference[f]-i.floating[w]+(C&&((x=o.offset)==null?void 0:x[f])||0)+(C?0:y.crossAxis),N=i.reference[f]+i.reference[w]+(C?0:((b=o.offset)==null?void 0:b[f])||0)-(C?y.crossAxis:0);v<S?v=S:v>N&&(v=N)}return{[h]:g,[f]:v}}}},_S=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Zn(t,e),d=await co(e,u),f=Qn(r),h=vi(r),g=Cn(r)==="y",{width:v,height:p}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=v-d.left-d.right,C=Ns(p-d[y],b),S=Ns(v-d[x],w),N=!e.middlewareData.shift;let T=C,E=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(T=b),N&&!h){const M=Wt(d.left,0),L=Wt(d.right,0),R=Wt(d.top,0),I=Wt(d.bottom,0);g?E=v-2*(M!==0||L!==0?M+L:Wt(d.left,d.right)):T=p-2*(R!==0||I!==0?R+I:Wt(d.top,d.bottom))}await c({...e,availableWidth:E,availableHeight:T});const A=await o.getDimensions(a.floating);return v!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function sc(){return typeof window<"u"}function xi(t){return hg(t)?(t.nodeName||"").toLowerCase():"#document"}function $t(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Mn(t){var e;return(e=(hg(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hg(t){return sc()?t instanceof Node||t instanceof $t(t).Node:!1}function un(t){return sc()?t instanceof Element||t instanceof $t(t).Element:!1}function An(t){return sc()?t instanceof HTMLElement||t instanceof $t(t).HTMLElement:!1}function Ff(t){return!sc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $t(t).ShadowRoot}const NS=new Set(["inline","contents"]);function Oo(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=dn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!NS.has(r)}const TS=new Set(["table","td","th"]);function PS(t){return TS.has(xi(t))}const ES=[":popover-open",":modal"];function rc(t){return ES.some(e=>{try{return t.matches(e)}catch{return!1}})}const OS=["transform","translate","scale","rotate","perspective"],jS=["transform","translate","scale","rotate","perspective","filter"],AS=["paint","layout","strict","content"];function Ku(t){const e=Zu(),n=un(t)?dn(t):t;return OS.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||jS.some(s=>(n.willChange||"").includes(s))||AS.some(s=>(n.contain||"").includes(s))}function RS(t){let e=Ts(t);for(;An(e)&&!ai(e);){if(Ku(e))return e;if(rc(e))return null;e=Ts(e)}return null}function Zu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MS=new Set(["html","body","#document"]);function ai(t){return MS.has(xi(t))}function dn(t){return $t(t).getComputedStyle(t)}function ic(t){return un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ts(t){if(xi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ff(t)&&t.host||Mn(t);return Ff(e)?e.host:e}function mg(t){const e=Ts(t);return ai(e)?t.ownerDocument?t.ownerDocument.body:t.body:An(e)&&Oo(e)?e:mg(e)}function lo(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=mg(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=$t(r);if(i){const a=Pl(o);return e.concat(o,o.visualViewport||[],Oo(r)?r:[],a&&n?lo(a):[])}return e.concat(r,lo(r,[],n))}function Pl(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pg(t){const e=dn(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=An(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,a=Na(n)!==i||Na(s)!==o;return a&&(n=i,s=o),{width:n,height:s,$:a}}function Qu(t){return un(t)?t:t.contextElement}function $r(t){const e=Qu(t);if(!An(e))return Nn(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=pg(e);let o=(i?Na(n.width):n.width)/s,a=(i?Na(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DS=Nn(0);function gg(t){const e=$t(t);return!Zu()||!e.visualViewport?DS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IS(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$t(t)?!1:e}function yr(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Qu(t);let o=Nn(1);e&&(s?un(s)&&(o=$r(s)):o=$r(t));const a=IS(i,n,s)?gg(i):Nn(0);let c=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,d=r.width/o.x,f=r.height/o.y;if(i){const h=$t(i),g=s&&un(s)?$t(s):s;let v=h,p=Pl(v);for(;p&&s&&g!==v;){const y=$r(p),x=p.getBoundingClientRect(),b=dn(p),w=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*y.x,C=x.top+(p.clientTop+parseFloat(b.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=C,v=$t(p),p=Pl(v)}}return Pa({width:d,height:f,x:c,y:u})}function oc(t,e){const n=ic(t).scrollLeft;return e?e.left+n:yr(Mn(t)).left+n}function yg(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-oc(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function FS(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=Mn(s),a=e?rc(e.floating):!1;if(s===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Nn(1);const d=Nn(0),f=An(s);if((f||!f&&!i)&&((xi(s)!=="body"||Oo(o))&&(c=ic(s)),An(s))){const g=yr(s);u=$r(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const h=o&&!f&&!i?yg(o,c):Nn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function LS(t){return Array.from(t.getClientRects())}function VS(t){const e=Mn(t),n=ic(t),s=t.ownerDocument.body,r=Wt(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Wt(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+oc(t);const a=-n.scrollTop;return dn(s).direction==="rtl"&&(o+=Wt(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}const Lf=25;function BS(t,e){const n=$t(t),s=Mn(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,c=0;if(r){i=r.width,o=r.height;const d=Zu();(!d||d&&e==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}const u=oc(s);if(u<=0){const d=s.ownerDocument,f=d.body,h=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(s.clientWidth-f.clientWidth-g);v<=Lf&&(i-=v)}else u<=Lf&&(i+=u);return{width:i,height:o,x:a,y:c}}const WS=new Set(["absolute","fixed"]);function $S(t,e){const n=yr(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=An(t)?$r(t):Nn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:o,height:a,x:c,y:u}}function Vf(t,e,n){let s;if(e==="viewport")s=BS(t,n);else if(e==="document")s=VS(Mn(t));else if(un(e))s=$S(e,n);else{const r=gg(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Pa(s)}function vg(t,e){const n=Ts(t);return n===e||!un(n)||ai(n)?!1:dn(n).position==="fixed"||vg(n,e)}function US(t,e){const n=e.get(t);if(n)return n;let s=lo(t,[],!1).filter(a=>un(a)&&xi(a)!=="body"),r=null;const i=dn(t).position==="fixed";let o=i?Ts(t):t;for(;un(o)&&!ai(o);){const a=dn(o),c=Ku(o);!c&&a.position==="fixed"&&(r=null),(i?!c&&!r:!c&&a.position==="static"&&!!r&&WS.has(r.position)||Oo(o)&&!c&&vg(t,o))?s=s.filter(d=>d!==o):r=a,o=Ts(o)}return e.set(t,s),s}function qS(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?rc(e)?[]:US(e,this._c):[].concat(n),s],a=o[0],c=o.reduce((u,d)=>{const f=Vf(e,d,r);return u.top=Wt(f.top,u.top),u.right=Ns(f.right,u.right),u.bottom=Ns(f.bottom,u.bottom),u.left=Wt(f.left,u.left),u},Vf(e,a,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HS(t){const{width:e,height:n}=pg(t);return{width:e,height:n}}function zS(t,e,n){const s=An(e),r=Mn(e),i=n==="fixed",o=yr(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Nn(0);function u(){c.x=oc(r)}if(s||!s&&!i)if((xi(e)!=="body"||Oo(r))&&(a=ic(e)),s){const g=yr(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?yg(r,a):Nn(0),f=o.left+a.scrollLeft-c.x-d.x,h=o.top+a.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Bc(t){return dn(t).position==="static"}function Bf(t,e){if(!An(t)||dn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Mn(t)===n&&(n=n.ownerDocument.body),n}function xg(t,e){const n=$t(t);if(rc(t))return n;if(!An(t)){let r=Ts(t);for(;r&&!ai(r);){if(un(r)&&!Bc(r))return r;r=Ts(r)}return n}let s=Bf(t,e);for(;s&&PS(s)&&Bc(s);)s=Bf(s,e);return s&&ai(s)&&Bc(s)&&!Ku(s)?n:s||RS(t)||n}const YS=async function(t){const e=this.getOffsetParent||xg,n=this.getDimensions,s=await n(t.floating);return{reference:zS(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function GS(t){return dn(t).direction==="rtl"}const KS={convertOffsetParentRelativeRectToViewportRelativeRect:FS,getDocumentElement:Mn,getClippingRect:qS,getOffsetParent:xg,getElementRects:YS,getClientRects:LS,getDimensions:HS,getScale:$r,isElement:un,isRTL:GS};function bg(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ZS(t,e){let n=null,s;const r=Mn(t);function i(){var a;clearTimeout(s),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(a||e(),!h||!g)return;const v=Go(f),p=Go(r.clientWidth-(d+h)),y=Go(r.clientHeight-(f+g)),x=Go(d),w={rootMargin:-v+"px "+-p+"px "+-y+"px "+-x+"px",threshold:Wt(0,Ns(1,c))||1};let C=!0;function S(N){const T=N[0].intersectionRatio;if(T!==c){if(!C)return o();T?o(!1,T):s=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!bg(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(S,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),i}function QS(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Qu(t),d=r||i?[...u?lo(u):[],...lo(e)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?ZS(u,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,p=c?yr(t):null;c&&y();function y(){const x=yr(t);p&&!bg(p,x)&&n(),p=x,v=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(b=>{r&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const XS=SS,JS=CS,eC=xS,tC=_S,nC=bS,Wf=vS,sC=kS,rC=(t,e,n)=>{const s=new Map,r={platform:KS,...n},i={...r.platform,_c:s};return yS(t,e,{...r,platform:i})};var iC=typeof document<"u",oC=function(){},ca=iC?m.useLayoutEffect:oC;function Ea(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Ea(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Ea(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function wg(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $f(t,e){const n=wg(t);return Math.round(e*n)/n}function Wc(t){const e=m.useRef(t);return ca(()=>{e.current=t}),e}function aC(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(s);Ea(h,s)||g(s);const[v,p]=m.useState(null),[y,x]=m.useState(null),b=m.useCallback(W=>{W!==N.current&&(N.current=W,p(W))},[]),w=m.useCallback(W=>{W!==T.current&&(T.current=W,x(W))},[]),C=i||v,S=o||y,N=m.useRef(null),T=m.useRef(null),E=m.useRef(d),A=c!=null,M=Wc(c),L=Wc(r),R=Wc(u),I=m.useCallback(()=>{if(!N.current||!T.current)return;const W={placement:e,strategy:n,middleware:h};L.current&&(W.platform=L.current),rC(N.current,T.current,W).then(Z=>{const ce={...Z,isPositioned:R.current!==!1};q.current&&!Ea(E.current,ce)&&(E.current=ce,ec.flushSync(()=>{f(ce)}))})},[h,e,n,L,R]);ca(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const q=m.useRef(!1);ca(()=>(q.current=!0,()=>{q.current=!1}),[]),ca(()=>{if(C&&(N.current=C),S&&(T.current=S),C&&S){if(M.current)return M.current(C,S,I);I()}},[C,S,I,M,A]);const ee=m.useMemo(()=>({reference:N,floating:T,setReference:b,setFloating:w}),[b,w]),G=m.useMemo(()=>({reference:C,floating:S}),[C,S]),Y=m.useMemo(()=>{const W={position:n,left:0,top:0};if(!G.floating)return W;const Z=$f(G.floating,d.x),ce=$f(G.floating,d.y);return a?{...W,transform:"translate("+Z+"px, "+ce+"px)",...wg(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ce}},[n,a,G.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:I,refs:ee,elements:G,floatingStyles:Y}),[d,I,ee,G,Y])}const cC=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Wf({element:s.current,padding:r}).fn(n):{}:s?Wf({element:s,padding:r}).fn(n):{}}}},lC=(t,e)=>({...XS(t),options:[t,e]}),uC=(t,e)=>({...JS(t),options:[t,e]}),dC=(t,e)=>({...sC(t),options:[t,e]}),fC=(t,e)=>({...eC(t),options:[t,e]}),hC=(t,e)=>({...tC(t),options:[t,e]}),mC=(t,e)=>({...nC(t),options:[t,e]}),pC=(t,e)=>({...cC(t),options:[t,e]});var gC="Arrow",Sg=m.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return l.jsx(Re.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Sg.displayName=gC;var yC=Sg;function vC(t){const[e,n]=m.useState(void 0);return _t(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Xu="Popper",[Cg,bi]=yi(Xu),[xC,kg]=Cg(Xu),_g=t=>{const{__scopePopper:e,children:n}=t,[s,r]=m.useState(null);return l.jsx(xC,{scope:e,anchor:s,onAnchorChange:r,children:n})};_g.displayName=Xu;var Ng="PopperAnchor",Tg=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=kg(Ng,n),o=m.useRef(null),a=$e(e,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:l.jsx(Re.div,{...r,ref:a})});Tg.displayName=Ng;var Ju="PopperContent",[bC,wC]=Cg(Ju),Pg=m.forwardRef((t,e)=>{var se,_e,Le,Se,Ne,ye;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...p}=t,y=kg(Ju,n),[x,b]=m.useState(null),w=$e(e,lt=>b(lt)),[C,S]=m.useState(null),N=vC(C),T=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,A=s+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],R=L.length>0,I={padding:M,boundary:L.filter(CC),altBoundary:R},{refs:q,floatingStyles:ee,placement:G,isPositioned:Y,middlewareData:W}=aC({strategy:"fixed",placement:A,whileElementsMounted:(...lt)=>QS(...lt,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[lC({mainAxis:r+E,alignmentAxis:o}),c&&uC({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dC():void 0,...I}),c&&fC({...I}),hC({...I,apply:({elements:lt,rects:X,availableWidth:re,availableHeight:Ve})=>{const{width:Ge,height:pt}=X.reference,Te=lt.floating.style;Te.setProperty("--radix-popper-available-width",`${re}px`),Te.setProperty("--radix-popper-available-height",`${Ve}px`),Te.setProperty("--radix-popper-anchor-width",`${Ge}px`),Te.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),C&&pC({element:C,padding:a}),kC({arrowWidth:T,arrowHeight:E}),h&&mC({strategy:"referenceHidden",...I})]}),[Z,ce]=jg(G),xe=gr(v);_t(()=>{Y&&(xe==null||xe())},[Y,xe]);const at=(se=W.arrow)==null?void 0:se.x,Xe=(_e=W.arrow)==null?void 0:_e.y,Je=((Le=W.arrow)==null?void 0:Le.centerOffset)!==0,[ct,mt]=m.useState();return _t(()=>{x&&mt(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Y?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ct,"--radix-popper-transform-origin":[(Se=W.transformOrigin)==null?void 0:Se.x,(Ne=W.transformOrigin)==null?void 0:Ne.y].join(" "),...((ye=W.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(bC,{scope:n,placedSide:Z,onArrowChange:S,arrowX:at,arrowY:Xe,shouldHideArrow:Je,children:l.jsx(Re.div,{"data-side":Z,"data-align":ce,...p,ref:w,style:{...p.style,animation:Y?void 0:"none"}})})})});Pg.displayName=Ju;var Eg="PopperArrow",SC={top:"bottom",right:"left",bottom:"top",left:"right"},Og=m.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=wC(Eg,s),o=SC[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(yC,{...r,ref:n,style:{...r.style,display:"block"}})})});Og.displayName=Eg;function CC(t){return t!==null}var kC=t=>({name:"transformOrigin",options:t,fn(e){var y,x,b;const{placement:n,rects:s,middlewareData:r}=e,o=((y=r.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=jg(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=r.arrow)==null?void 0:x.x)??0)+a/2,g=(((b=r.arrow)==null?void 0:b.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):u==="top"?(v=o?f:`${h}px`,p=`${s.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?f:`${g}px`):u==="left"&&(v=`${s.floating.width+c}px`,p=o?f:`${g}px`),{data:{x:v,y:p}}}});function jg(t){const[e,n="center"]=t.split("-");return[e,n]}var Ag=_g,ac=Tg,ed=Pg,td=Og,_C="Portal",jo=m.forwardRef((t,e)=>{var a;const{container:n,...s}=t,[r,i]=m.useState(!1);_t(()=>i(!0),[]);const o=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Qp.createPortal(l.jsx(Re.div,{...s,ref:e}),o):null});jo.displayName=_C;function NC(t,e){return m.useReducer((n,s)=>e[n][s]??n,t)}var Ms=t=>{const{present:e,children:n}=t,s=TC(e),r=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),i=$e(s.ref,PC(r));return typeof n=="function"||s.isPresent?m.cloneElement(r,{ref:i}):null};Ms.displayName="Presence";function TC(t){const[e,n]=m.useState(),s=m.useRef(null),r=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,c]=NC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ko(s.current);i.current=a==="mounted"?u:"none"},[a]),_t(()=>{const u=s.current,d=r.current;if(d!==t){const h=i.current,g=Ko(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),_t(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const p=Ko(s.current).includes(CSS.escape(g.animationName));if(g.target===e&&p&&(c("ANIMATION_END"),!r.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=g=>{g.target===e&&(i.current=Ko(s.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ko(t){return(t==null?void 0:t.animationName)||"none"}function PC(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var EC=Zp[" useInsertionEffect ".trim().toString()]||_t;function Oa({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,o]=OC({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:r;{const d=m.useRef(t!==void 0);m.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,s])}const u=m.useCallback(d=>{var f;if(a){const h=jC(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,t,i,o]);return[c,u]}function OC({defaultProp:t,onChange:e}){const[n,s]=m.useState(t),r=m.useRef(n),i=m.useRef(e);return EC(()=>{i.current=e},[e]),m.useEffect(()=>{var o;r.current!==n&&((o=i.current)==null||o.call(i,n),r.current=n)},[n,r]),[n,s,i]}function jC(t){return typeof t=="function"}var Rg=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AC="VisuallyHidden",Mg=m.forwardRef((t,e)=>l.jsx(Re.span,{...t,ref:e,style:{...Rg,...t.style}}));Mg.displayName=AC;var RC=Mg,[cc,bV]=yi("Tooltip",[bi]),nd=bi(),Dg="TooltipProvider",MC=700,Uf="tooltip.open",[DC,Ig]=cc(Dg),Fg=t=>{const{__scopeTooltip:e,delayDuration:n=MC,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(DC,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:r,children:i})};Fg.displayName=Dg;var Lg="Tooltip",[wV,Ao]=cc(Lg),El="TooltipTrigger",IC=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Ao(El,n),i=Ig(El,n),o=nd(n),a=m.useRef(null),c=$e(e,a,r.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(ac,{asChild:!0,...o,children:l.jsx(Re.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:be(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:be(t.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:be(t.onBlur,r.onClose),onClick:be(t.onClick,r.onClose)})})});IC.displayName=El;var sd="TooltipPortal",[FC,LC]=cc(sd,{forceMount:void 0}),Vg=t=>{const{__scopeTooltip:e,forceMount:n,children:s,container:r}=t,i=Ao(sd,e);return l.jsx(FC,{scope:e,forceMount:n,children:l.jsx(Ms,{present:n||i.open,children:l.jsx(jo,{asChild:!0,container:r,children:s})})})};Vg.displayName=sd;var ci="TooltipContent",Bg=m.forwardRef((t,e)=>{const n=LC(ci,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,o=Ao(ci,t.__scopeTooltip);return l.jsx(Ms,{present:s||o.open,children:o.disableHoverableContent?l.jsx(Wg,{side:r,...i,ref:e}):l.jsx(VC,{side:r,...i,ref:e})})}),VC=m.forwardRef((t,e)=>{const n=Ao(ci,t.__scopeTooltip),s=Ig(ci,t.__scopeTooltip),r=m.useRef(null),i=$e(e,r),[o,a]=m.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:f}=s,h=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((v,p)=>{const y=v.currentTarget,x={x:v.clientX,y:v.clientY},b=UC(x,y.getBoundingClientRect()),w=qC(x,b),C=HC(p.getBoundingClientRect()),S=YC([...w,...C]);a(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=y=>g(y,d),p=y=>g(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,g,h]),m.useEffect(()=>{if(o){const v=p=>{const y=p.target,x={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!zC(x,o);b?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),l.jsx(Wg,{...t,ref:i})}),[BC,WC]=cc(Lg,{isInside:!1}),$C=q0("TooltipContent"),Wg=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Ao(ci,n),u=nd(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Uf,d),()=>document.removeEventListener(Uf,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Eo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(ed,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx($C,{children:s}),l.jsx(BC,{scope:n,isInside:!0,children:l.jsx(RC,{id:c.contentId,role:"tooltip",children:r||s})})]})})});Bg.displayName=ci;var $g="TooltipArrow",Ug=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=nd(n);return WC($g,n).isInside?null:l.jsx(td,{...r,...s,ref:e})});Ug.displayName=$g;function UC(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function qC(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function HC(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function zC(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,f=c.x,h=c.y;d>s!=h>s&&n<(f-u)*(s-d)/(h-d)+u&&(r=!r)}return r}function YC(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),GC(e)}function GC(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var KC=Fg,ZC=Vg,qg=Bg,QC=Ug;function Hg(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Hg(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function zg(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Hg(t))&&(s&&(s+=" "),s+=e);return s}const rd="-",XC=t=>{const e=ek(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const a=o.split(rd);return a[0]===""&&a.length!==1&&a.shift(),Yg(a,e)||JC(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&s[o]?[...c,...s[o]]:c}}},Yg=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?Yg(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(rd);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},qf=/^\[(.+)\]$/,JC=t=>{if(qf.test(t)){const e=qf.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ek=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return nk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ol(o,s,i,e)}),s},Ol=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:Hf(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(tk(r)){Ol(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{Ol(o,Hf(e,i),n,s)})})},Hf=(t,e)=>{let n=t;return e.split(rd).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},tk=t=>t.isThemeGetter,nk=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,r]}):t,sk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},Gg="!",rk=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let x=a[y];if(u===0){if(x===r&&(s||a.slice(y,y+i)===e)){c.push(a.slice(d,y)),d=y+i;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?a:a.substring(d),g=h.startsWith(Gg),v=g?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},ik=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},ok=t=>({cache:sk(t.cacheSize),parseClassName:rk(t),...XC(t)}),ak=/\s+/,ck=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],o=t.trim().split(ak);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let v=!!g,p=s(v?h.substring(0,g):h);if(!p){if(!v){a=u+(a.length>0?" "+a:a);continue}if(p=s(h),!p){a=u+(a.length>0?" "+a:a);continue}v=!1}const y=ik(d).join(":"),x=f?y+Gg:y,b=x+p;if(i.includes(b))continue;i.push(b);const w=r(p,v);for(let C=0;C<w.length;++C){const S=w[C];i.push(x+S)}a=u+(a.length>0?" "+a:a)}return a};function lk(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Kg(e))&&(s&&(s+=" "),s+=n);return s}const Kg=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Kg(t[s]))&&(n&&(n+=" "),n+=e);return n};function uk(t,...e){let n,s,r,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=ok(u),s=n.cache.get,r=n.cache.set,i=a,a(c)}function a(c){const u=s(c);if(u)return u;const d=ck(c,n);return r(c,d),d}return function(){return i(lk.apply(null,arguments))}}const Be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zg=/^\[(?:([a-z-]+):)?(.+)\]$/i,dk=/^\d+\/\d+$/,fk=new Set(["px","full","screen"]),hk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=t=>Ur(t)||fk.has(t)||dk.test(t),ss=t=>wi(t,"length",_k),Ur=t=>!!t&&!Number.isNaN(Number(t)),$c=t=>wi(t,"number",Ur),Ii=t=>!!t&&Number.isInteger(Number(t)),vk=t=>t.endsWith("%")&&Ur(t.slice(0,-1)),ue=t=>Zg.test(t),rs=t=>hk.test(t),xk=new Set(["length","size","percentage"]),bk=t=>wi(t,xk,Qg),wk=t=>wi(t,"position",Qg),Sk=new Set(["image","url"]),Ck=t=>wi(t,Sk,Tk),kk=t=>wi(t,"",Nk),Fi=()=>!0,wi=(t,e,n)=>{const s=Zg.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},_k=t=>mk.test(t)&&!pk.test(t),Qg=()=>!1,Nk=t=>gk.test(t),Tk=t=>yk.test(t),Pk=()=>{const t=Be("colors"),e=Be("spacing"),n=Be("blur"),s=Be("brightness"),r=Be("borderColor"),i=Be("borderRadius"),o=Be("borderSpacing"),a=Be("borderWidth"),c=Be("contrast"),u=Be("grayscale"),d=Be("hueRotate"),f=Be("invert"),h=Be("gap"),g=Be("gradientColorStops"),v=Be("gradientColorStopPositions"),p=Be("inset"),y=Be("margin"),x=Be("opacity"),b=Be("padding"),w=Be("saturate"),C=Be("scale"),S=Be("sepia"),N=Be("skew"),T=Be("space"),E=Be("translate"),A=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ue,e],R=()=>[ue,e],I=()=>["",Ln,ss],q=()=>["auto",Ur,ue],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",ue],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],xe=()=>[Ur,ue];return{cacheSize:500,separator:":",theme:{colors:[Fi],spacing:[Ln,ss],blur:["none","",rs,ue],brightness:xe(),borderColor:[t],borderRadius:["none","","full",rs,ue],borderSpacing:R(),borderWidth:I(),contrast:xe(),grayscale:Z(),hueRotate:xe(),invert:Z(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[vk,ss],inset:L(),margin:L(),opacity:xe(),padding:R(),saturate:xe(),scale:xe(),sepia:Z(),skew:xe(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[rs]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ue]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ii,ue]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ii,ue]}],"grid-cols":[{"grid-cols":[Fi]}],"col-start-end":[{col:["auto",{span:["full",Ii,ue]},ue]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Fi]}],"row-start-end":[{row:["auto",{span:[Ii,ue]},ue]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[rs]},rs]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rs,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$c]}],"font-family":[{font:[Fi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ur,$c]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,ss]}],"underline-offset":[{"underline-offset":["auto",Ln,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),wk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ck]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Ln,ue]}],"outline-w":[{outline:[Ln,ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ln,ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",rs,kk]}],"shadow-color":[{shadow:[Fi]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",rs,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:xe()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:xe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ii,ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ln,ss,$c]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ek=uk(Pk);function we(...t){return Ek(zg(t))}const Ok=KC,jk=m.forwardRef(({className:t,side:e="top",align:n="center",sideOffset:s=6,variant:r="default",size:i="md",arrowAlign:o="center",arrowOffset:a=0,children:c,...u},d)=>{const f={default:"bg-background text-foreground border border-border",muted:"bg-muted text-muted-foreground border border-border",danger:"bg-destructive text-destructive-foreground border-transparent",success:"bg-emerald-600 text-white border-transparent",inverted:"bg-foreground text-background border-transparent"}[r],h={sm:"px-3 py-1.5 text-xs rounded-lg",md:"px-4 py-2 text-sm rounded-xl font-medium"}[i],g={default:"fill-background",muted:"fill-muted",danger:"fill-destructive",success:"fill-emerald-600",inverted:"fill-foreground"}[r];return l.jsx(ZC,{children:l.jsxs(qg,{ref:d,side:e,align:n,sideOffset:s,className:we("z-[9999] overflow-visible transition-none relative shadow-[0px_8px_24px_rgba(0,0,0,0.12)]",f,h,t),...u,children:[l.jsx(QC,{width:12,height:6,className:we("fill-background",g)}),c]})})});jk.displayName=qg.displayName;var Si=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ak={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},fs,qu,Vp,Rk=(Vp=class{constructor(){ne(this,fs,Ak);ne(this,qu,!1)}setTimeoutProvider(t){H(this,fs,t)}setTimeout(t,e){return _(this,fs).setTimeout(t,e)}clearTimeout(t){_(this,fs).clearTimeout(t)}setInterval(t,e){return _(this,fs).setInterval(t,e)}clearInterval(t){_(this,fs).clearInterval(t)}},fs=new WeakMap,qu=new WeakMap,Vp),Gs=new Rk;function Mk(t){setTimeout(t,0)}var vr=typeof window>"u"||"Deno"in globalThis;function Et(){}function Dk(t,e){return typeof t=="function"?t(e):t}function jl(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xg(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Cs(t,e){return typeof t=="function"?t(e):t}function Kt(t,e){return typeof t=="function"?t(e):t}function zf(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=t;if(o){if(s){if(e.queryHash!==id(o,e.options))return!1}else if(!uo(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function Yf(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(xr(e.options.mutationKey)!==xr(i))return!1}else if(!uo(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function id(t,e){return((e==null?void 0:e.queryKeyHashFn)||xr)(t)}function xr(t){return JSON.stringify(t,(e,n)=>Al(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function uo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>uo(t[n],e[n])):!1}var Ik=Object.prototype.hasOwnProperty;function Jg(t,e){if(t===e)return t;const n=Gf(t)&&Gf(e);if(!n&&!(Al(t)&&Al(e)))return e;const r=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=t[d],h=e[d];if(f===h){a[d]=f,(n?u<r:Ik.call(t,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){a[d]=h;continue}const g=Jg(f,h);a[d]=g,g===f&&c++}return r===o&&c===r?t:a}function ja(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Gf(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Al(t){if(!Kf(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Kf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Kf(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fk(t){return new Promise(e=>{Gs.setTimeout(e,t)})}function Rl(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Jg(t,e):e}function Lk(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function Vk(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var od=Symbol();function ey(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===od?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ty(t,e){return typeof t=="function"?t(...e):!!t}var er,hs,Gr,Bp,Bk=(Bp=class extends Si{constructor(){super();ne(this,er);ne(this,hs);ne(this,Gr);H(this,Gr,e=>{if(!vr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_(this,hs)||this.setEventListener(_(this,Gr))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,hs))==null||e.call(this),H(this,hs,void 0))}setEventListener(e){var n;H(this,Gr,e),(n=_(this,hs))==null||n.call(this),H(this,hs,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){_(this,er)!==e&&(H(this,er,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof _(this,er)=="boolean"?_(this,er):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},er=new WeakMap,hs=new WeakMap,Gr=new WeakMap,Bp),ad=new Bk;function Ml(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}var Wk=Mk;function $k(){let t=[],e=0,n=a=>{a()},s=a=>{a()},r=Wk;const i=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{s(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{s=a},setScheduler:a=>{r=a}}}var dt=$k(),Kr,ms,Zr,Wp,Uk=(Wp=class extends Si{constructor(){super();ne(this,Kr,!0);ne(this,ms);ne(this,Zr);H(this,Zr,e=>{if(!vr&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,ms)||this.setEventListener(_(this,Zr))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,ms))==null||e.call(this),H(this,ms,void 0))}setEventListener(e){var n;H(this,Zr,e),(n=_(this,ms))==null||n.call(this),H(this,ms,e(this.setOnline.bind(this)))}setOnline(e){_(this,Kr)!==e&&(H(this,Kr,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return _(this,Kr)}},Kr=new WeakMap,ms=new WeakMap,Zr=new WeakMap,Wp),Aa=new Uk;function qk(t){return Math.min(1e3*2**t,3e4)}function ny(t){return(t??"online")==="online"?Aa.isOnline():!0}var Dl=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sy(t){let e=!1,n=0,s;const r=Ml(),i=()=>r.status!=="pending",o=p=>{var y;if(!i()){const x=new Dl(p);h(x),(y=t.onCancel)==null||y.call(t,x)}},a=()=>{e=!0},c=()=>{e=!1},u=()=>ad.isFocused()&&(t.networkMode==="always"||Aa.isOnline())&&t.canRun(),d=()=>ny(t.networkMode)&&t.canRun(),f=p=>{i()||(s==null||s(),r.resolve(p))},h=p=>{i()||(s==null||s(),r.reject(p))},g=()=>new Promise(p=>{var y;s=x=>{(i()||u())&&p(x)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;s=void 0,i()||(p=t.onContinue)==null||p.call(t)}),v=()=>{if(i())return;let p;const y=n===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var N;if(i())return;const b=t.retry??(vr?0:3),w=t.retryDelay??qk,C=typeof w=="function"?w(n,x):w,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,x);if(e||!S){h(x);return}n++,(N=t.onFail)==null||N.call(t,n,x),Fk(C).then(()=>u()?void 0:g()).then(()=>{e?h(x):v()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(s==null||s(),r),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),r)}}var tr,$p,ry=($p=class{constructor(){ne(this,tr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jl(this.gcTime)&&H(this,tr,Gs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vr?1/0:300*1e3))}clearGcTimeout(){_(this,tr)&&(Gs.clearTimeout(_(this,tr)),H(this,tr,void 0))}},tr=new WeakMap,$p),nr,Qr,Gt,sr,ht,_o,rr,tn,Bn,Up,Hk=(Up=class extends ry{constructor(e){super();ne(this,tn);ne(this,nr);ne(this,Qr);ne(this,Gt);ne(this,sr);ne(this,ht);ne(this,_o);ne(this,rr);H(this,rr,!1),H(this,_o,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,sr,e.client),H(this,Gt,_(this,sr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,nr,Zf(this.options)),this.state=e.state??_(this,nr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,ht))==null?void 0:e.promise}setOptions(e){if(this.options={..._(this,_o),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Zf(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),H(this,nr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Gt).remove(this)}setData(e,n){const s=Rl(this.state.data,e,this.options);return de(this,tn,Bn).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){de(this,tn,Bn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=_(this,ht))==null?void 0:s.promise;return(r=_(this,ht))==null||r.cancel(e),n?n.then(Et).catch(Et):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,nr))}isActive(){return this.observers.some(e=>Kt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===od||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Cs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Xg(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,ht))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=_(this,ht))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Gt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(_(this,ht)&&(_(this,rr)?_(this,ht).cancel({revert:!0}):_(this,ht).cancelRetry()),this.scheduleGc()),_(this,Gt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||de(this,tn,Bn).call(this,{type:"invalidate"})}async fetch(e,n){var c,u,d,f,h,g,v,p,y,x,b,w;if(this.state.fetchStatus!=="idle"&&((c=_(this,ht))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_(this,ht))return _(this,ht).continueRetry(),_(this,ht).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(S=>S.options.queryFn);C&&this.setOptions(C.options)}const s=new AbortController,r=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(H(this,rr,!0),s.signal)})},i=()=>{const C=ey(this.options,n),N=(()=>{const T={client:_(this,sr),queryKey:this.queryKey,meta:this.meta};return r(T),T})();return H(this,rr,!1),this.options.persister?this.options.persister(C,N,this):C(N)},a=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:_(this,sr),state:this.state,fetchFn:i};return r(C),C})();(u=this.options.behavior)==null||u.onFetch(a,this),H(this,Qr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&de(this,tn,Bn).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta}),H(this,ht,sy({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:C=>{C instanceof Dl&&C.revert&&this.setState({..._(this,Qr),fetchStatus:"idle"}),s.abort()},onFail:(C,S)=>{de(this,tn,Bn).call(this,{type:"failed",failureCount:C,error:S})},onPause:()=>{de(this,tn,Bn).call(this,{type:"pause"})},onContinue:()=>{de(this,tn,Bn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const C=await _(this,ht).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(g=(h=_(this,Gt).config).onSuccess)==null||g.call(h,C,this),(p=(v=_(this,Gt).config).onSettled)==null||p.call(v,C,this.state.error,this),C}catch(C){if(C instanceof Dl){if(C.silent)return _(this,ht).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw de(this,tn,Bn).call(this,{type:"error",error:C}),(x=(y=_(this,Gt).config).onError)==null||x.call(y,C,this),(w=(b=_(this,Gt).config).onSettled)==null||w.call(b,this.state.data,C,this),C}finally{this.scheduleGc()}}},nr=new WeakMap,Qr=new WeakMap,Gt=new WeakMap,sr=new WeakMap,ht=new WeakMap,_o=new WeakMap,rr=new WeakMap,tn=new WeakSet,Bn=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...iy(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,Qr,e.manual?r:void 0),r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,Gt).notify({query:this,type:"updated",action:e})})},Up);function iy(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ny(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Zf(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var At,Ce,No,Tt,ir,Xr,Un,ps,To,Jr,ei,or,ar,gs,ti,Ae,zi,Il,Fl,Ll,Vl,Bl,Wl,$l,oy,qp,zk=(qp=class extends Si{constructor(e,n){super();ne(this,Ae);ne(this,At);ne(this,Ce);ne(this,No);ne(this,Tt);ne(this,ir);ne(this,Xr);ne(this,Un);ne(this,ps);ne(this,To);ne(this,Jr);ne(this,ei);ne(this,or);ne(this,ar);ne(this,gs);ne(this,ti,new Set);this.options=n,H(this,At,e),H(this,ps,null),H(this,Un,Ml()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Ce).addObserver(this),Qf(_(this,Ce),this.options)?de(this,Ae,zi).call(this):this.updateResult(),de(this,Ae,Vl).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ul(_(this,Ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ul(_(this,Ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,de(this,Ae,Bl).call(this),de(this,Ae,Wl).call(this),_(this,Ce).removeObserver(this)}setOptions(e){const n=this.options,s=_(this,Ce);if(this.options=_(this,At).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kt(this.options.enabled,_(this,Ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");de(this,Ae,$l).call(this),_(this,Ce).setOptions(this.options),n._defaulted&&!ja(this.options,n)&&_(this,At).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Ce),observer:this});const r=this.hasListeners();r&&Xf(_(this,Ce),s,this.options,n)&&de(this,Ae,zi).call(this),this.updateResult(),r&&(_(this,Ce)!==s||Kt(this.options.enabled,_(this,Ce))!==Kt(n.enabled,_(this,Ce))||Cs(this.options.staleTime,_(this,Ce))!==Cs(n.staleTime,_(this,Ce)))&&de(this,Ae,Il).call(this);const i=de(this,Ae,Fl).call(this);r&&(_(this,Ce)!==s||Kt(this.options.enabled,_(this,Ce))!==Kt(n.enabled,_(this,Ce))||i!==_(this,gs))&&de(this,Ae,Ll).call(this,i)}getOptimisticResult(e){const n=_(this,At).getQueryCache().build(_(this,At),e),s=this.createResult(n,e);return Gk(this,s)&&(H(this,Tt,s),H(this,Xr,this.options),H(this,ir,_(this,Ce).state)),s}getCurrentResult(){return _(this,Tt)}trackResult(e,n){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),n==null||n(r),r==="promise"&&!this.options.experimental_prefetchInRender&&_(this,Un).status==="pending"&&_(this,Un).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,r))})}trackProp(e){_(this,ti).add(e)}getCurrentQuery(){return _(this,Ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=_(this,At).defaultQueryOptions(e),s=_(this,At).getQueryCache().build(_(this,At),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return de(this,Ae,zi).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Tt)))}createResult(e,n){var A;const s=_(this,Ce),r=this.options,i=_(this,Tt),o=_(this,ir),a=_(this,Xr),u=e!==s?e.state:_(this,No),{state:d}=e;let f={...d},h=!1,g;if(n._optimisticResults){const M=this.hasListeners(),L=!M&&Qf(e,n),R=M&&Xf(e,s,n,r);(L||R)&&(f={...f,...iy(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:y}=f;g=f.data;let x=!1;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let M;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(M=i.data,x=!0):M=typeof n.placeholderData=="function"?n.placeholderData((A=_(this,ei))==null?void 0:A.state.data,_(this,ei)):n.placeholderData,M!==void 0&&(y="success",g=Rl(i==null?void 0:i.data,M,n),h=!0)}if(n.select&&g!==void 0&&!x)if(i&&g===(o==null?void 0:o.data)&&n.select===_(this,To))g=_(this,Jr);else try{H(this,To,n.select),g=n.select(g),g=Rl(i==null?void 0:i.data,g,n),H(this,Jr,g),H(this,ps,null)}catch(M){H(this,ps,M)}_(this,ps)&&(v=_(this,ps),g=_(this,Jr),p=Date.now(),y="error");const b=f.fetchStatus==="fetching",w=y==="pending",C=y==="error",S=w&&b,N=g!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:C,isInitialLoading:S,isLoading:S,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:C&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&N,isStale:cd(e,n),refetch:this.refetch,promise:_(this,Un),isEnabled:Kt(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},L=()=>{const I=H(this,Un,E.promise=Ml());M(I)},R=_(this,Un);switch(R.status){case"pending":e.queryHash===s.queryHash&&M(R);break;case"fulfilled":(E.status==="error"||E.data!==R.value)&&L();break;case"rejected":(E.status!=="error"||E.error!==R.reason)&&L();break}}return E}updateResult(){const e=_(this,Tt),n=this.createResult(_(this,Ce),this.options);if(H(this,ir,_(this,Ce).state),H(this,Xr,this.options),_(this,ir).data!==void 0&&H(this,ei,_(this,Ce)),ja(n,e))return;H(this,Tt,n);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!_(this,ti).size)return!0;const o=new Set(i??_(this,ti));return this.options.throwOnError&&o.add("error"),Object.keys(_(this,Tt)).some(a=>{const c=a;return _(this,Tt)[c]!==e[c]&&o.has(c)})};de(this,Ae,oy).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&de(this,Ae,Vl).call(this)}},At=new WeakMap,Ce=new WeakMap,No=new WeakMap,Tt=new WeakMap,ir=new WeakMap,Xr=new WeakMap,Un=new WeakMap,ps=new WeakMap,To=new WeakMap,Jr=new WeakMap,ei=new WeakMap,or=new WeakMap,ar=new WeakMap,gs=new WeakMap,ti=new WeakMap,Ae=new WeakSet,zi=function(e){de(this,Ae,$l).call(this);let n=_(this,Ce).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Et)),n},Il=function(){de(this,Ae,Bl).call(this);const e=Cs(this.options.staleTime,_(this,Ce));if(vr||_(this,Tt).isStale||!jl(e))return;const s=Xg(_(this,Tt).dataUpdatedAt,e)+1;H(this,or,Gs.setTimeout(()=>{_(this,Tt).isStale||this.updateResult()},s))},Fl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Ce)):this.options.refetchInterval)??!1},Ll=function(e){de(this,Ae,Wl).call(this),H(this,gs,e),!(vr||Kt(this.options.enabled,_(this,Ce))===!1||!jl(_(this,gs))||_(this,gs)===0)&&H(this,ar,Gs.setInterval(()=>{(this.options.refetchIntervalInBackground||ad.isFocused())&&de(this,Ae,zi).call(this)},_(this,gs)))},Vl=function(){de(this,Ae,Il).call(this),de(this,Ae,Ll).call(this,de(this,Ae,Fl).call(this))},Bl=function(){_(this,or)&&(Gs.clearTimeout(_(this,or)),H(this,or,void 0))},Wl=function(){_(this,ar)&&(Gs.clearInterval(_(this,ar)),H(this,ar,void 0))},$l=function(){const e=_(this,At).getQueryCache().build(_(this,At),this.options);if(e===_(this,Ce))return;const n=_(this,Ce);H(this,Ce,e),H(this,No,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},oy=function(e){dt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(_(this,Tt))}),_(this,At).getQueryCache().notify({query:_(this,Ce),type:"observerResultsUpdated"})})},qp);function Yk(t,e){return Kt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Qf(t,e){return Yk(t,e)||t.state.data!==void 0&&Ul(t,e,e.refetchOnMount)}function Ul(t,e,n){if(Kt(e.enabled,t)!==!1&&Cs(e.staleTime,t)!=="static"){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&cd(t,e)}return!1}function Xf(t,e,n,s){return(t!==e||Kt(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&cd(t,n)}function cd(t,e){return Kt(e.enabled,t)!==!1&&t.isStaleByTime(Cs(e.staleTime,t))}function Gk(t,e){return!ja(t.getCurrentResult(),e)}function Jf(t){return{onFetch:(e,n)=>{var d,f,h,g,v;const s=e.options,r=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},x=ey(e.options,e.fetchOptions),b=async(w,C,S)=>{if(p)return Promise.reject();if(C==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:C,direction:S?"backward":"forward",meta:e.options.meta};return y(L),L})(),E=await x(T),{maxPages:A}=e.options,M=S?Vk:Lk;return{pages:M(w.pages,E,A),pageParams:M(w.pageParams,C,A)}};if(r&&i.length){const w=r==="backward",C=w?Kk:eh,S={pages:i,pageParams:o},N=C(s,S);a=await b(S,N,w)}else{const w=t??i.length;do{const C=c===0?o[0]??s.initialPageParam:eh(s,a);if(c>0&&C==null)break;a=await b(a,C),c++}while(c<w)}return a};e.options.persister?e.fetchFn=()=>{var p,y;return(y=(p=e.options).persister)==null?void 0:y.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function eh(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function Kk(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var gn,Pt,cr,yn,os,Hp,Zk=(Hp=class extends ry{constructor(e){super();ne(this,yn);ne(this,gn);ne(this,Pt);ne(this,cr);this.mutationId=e.mutationId,H(this,Pt,e.mutationCache),H(this,gn,[]),this.state=e.state||ay(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,gn).includes(e)||(_(this,gn).push(e),this.clearGcTimeout(),_(this,Pt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,gn,_(this,gn).filter(n=>n!==e)),this.scheduleGc(),_(this,Pt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,gn).length||(this.state.status==="pending"?this.scheduleGc():_(this,Pt).remove(this))}continue(){var e;return((e=_(this,cr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,c,u,d,f,h,g,v,p,y,x,b,w,C,S,N,T,E;const n=()=>{de(this,yn,os).call(this,{type:"continue"})};H(this,cr,sy({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,M)=>{de(this,yn,os).call(this,{type:"failed",failureCount:A,error:M})},onPause:()=>{de(this,yn,os).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Pt).canRun(this)}));const s=this.state.status==="pending",r=!_(this,cr).canStart();try{if(s)n();else{de(this,yn,os).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=_(this,Pt).config).onMutate)==null?void 0:o.call(i,e,this));const M=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));M!==this.state.context&&de(this,yn,os).call(this,{type:"pending",context:M,variables:e,isPaused:r})}const A=await _(this,cr).start();return await((d=(u=_(this,Pt).config).onSuccess)==null?void 0:d.call(u,A,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,e,this.state.context)),await((v=(g=_(this,Pt).config).onSettled)==null?void 0:v.call(g,A,null,this.state.variables,this.state.context,this)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,A,null,e,this.state.context)),de(this,yn,os).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(x=_(this,Pt).config).onError)==null?void 0:b.call(x,A,e,this.state.context,this)),await((C=(w=this.options).onError)==null?void 0:C.call(w,A,e,this.state.context)),await((N=(S=_(this,Pt).config).onSettled)==null?void 0:N.call(S,void 0,A,this.state.variables,this.state.context,this)),await((E=(T=this.options).onSettled)==null?void 0:E.call(T,void 0,A,e,this.state.context)),A}finally{de(this,yn,os).call(this,{type:"error",error:A})}}finally{_(this,Pt).runNext(this)}}},gn=new WeakMap,Pt=new WeakMap,cr=new WeakMap,yn=new WeakSet,os=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dt.batch(()=>{_(this,gn).forEach(s=>{s.onMutationUpdate(e)}),_(this,Pt).notify({mutation:this,type:"updated",action:e})})},Hp);function ay(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qn,nn,Po,zp,Qk=(zp=class extends Si{constructor(e={}){super();ne(this,qn);ne(this,nn);ne(this,Po);this.config=e,H(this,qn,new Set),H(this,nn,new Map),H(this,Po,0)}build(e,n,s){const r=new Zk({mutationCache:this,mutationId:++zo(this,Po)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){_(this,qn).add(e);const n=Zo(e);if(typeof n=="string"){const s=_(this,nn).get(n);s?s.push(e):_(this,nn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,qn).delete(e)){const n=Zo(e);if(typeof n=="string"){const s=_(this,nn).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&_(this,nn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Zo(e);if(typeof n=="string"){const s=_(this,nn).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=Zo(e);if(typeof n=="string"){const r=(s=_(this,nn).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{_(this,qn).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,qn).clear(),_(this,nn).clear()})}getAll(){return Array.from(_(this,qn))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>Yf(n,s))}findAll(e={}){return this.getAll().filter(n=>Yf(e,n))}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Et))))}},qn=new WeakMap,nn=new WeakMap,Po=new WeakMap,zp);function Zo(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ys,vs,Rt,Hn,Kn,la,ql,Yp,Xk=(Yp=class extends Si{constructor(n,s){super();ne(this,Kn);ne(this,ys);ne(this,vs);ne(this,Rt);ne(this,Hn);H(this,ys,n),this.setOptions(s),this.bindMethods(),de(this,Kn,la).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=_(this,ys).defaultMutationOptions(n),ja(this.options,s)||_(this,ys).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,Rt),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&xr(s.mutationKey)!==xr(this.options.mutationKey)?this.reset():((r=_(this,Rt))==null?void 0:r.state.status)==="pending"&&_(this,Rt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_(this,Rt))==null||n.removeObserver(this)}onMutationUpdate(n){de(this,Kn,la).call(this),de(this,Kn,ql).call(this,n)}getCurrentResult(){return _(this,vs)}reset(){var n;(n=_(this,Rt))==null||n.removeObserver(this),H(this,Rt,void 0),de(this,Kn,la).call(this),de(this,Kn,ql).call(this)}mutate(n,s){var r;return H(this,Hn,s),(r=_(this,Rt))==null||r.removeObserver(this),H(this,Rt,_(this,ys).getMutationCache().build(_(this,ys),this.options)),_(this,Rt).addObserver(this),_(this,Rt).execute(n)}},ys=new WeakMap,vs=new WeakMap,Rt=new WeakMap,Hn=new WeakMap,Kn=new WeakSet,la=function(){var s;const n=((s=_(this,Rt))==null?void 0:s.state)??ay();H(this,vs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ql=function(n){dt.batch(()=>{var s,r,i,o,a,c,u,d;if(_(this,Hn)&&this.hasListeners()){const f=_(this,vs).variables,h=_(this,vs).context;(n==null?void 0:n.type)==="success"?((r=(s=_(this,Hn)).onSuccess)==null||r.call(s,n.data,f,h),(o=(i=_(this,Hn)).onSettled)==null||o.call(i,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(a=_(this,Hn)).onError)==null||c.call(a,n.error,f,h),(d=(u=_(this,Hn)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(_(this,vs))})})},Yp),vn,Gp,Jk=(Gp=class extends Si{constructor(e={}){super();ne(this,vn);this.config=e,H(this,vn,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??id(r,n);let o=this.get(i);return o||(o=new Hk({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){_(this,vn).has(e.queryHash)||(_(this,vn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=_(this,vn).get(e.queryHash);n&&(e.destroy(),n===e&&_(this,vn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,vn).get(e)}getAll(){return[..._(this,vn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>zf(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>zf(e,s)):n}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vn=new WeakMap,Gp),Ke,xs,bs,ni,si,ws,ri,ii,Kp,e_=(Kp=class{constructor(t={}){ne(this,Ke);ne(this,xs);ne(this,bs);ne(this,ni);ne(this,si);ne(this,ws);ne(this,ri);ne(this,ii);H(this,Ke,t.queryCache||new Jk),H(this,xs,t.mutationCache||new Qk),H(this,bs,t.defaultOptions||{}),H(this,ni,new Map),H(this,si,new Map),H(this,ws,0)}mount(){zo(this,ws)._++,_(this,ws)===1&&(H(this,ri,ad.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Ke).onFocus())})),H(this,ii,Aa.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Ke).onOnline())})))}unmount(){var t,e;zo(this,ws)._--,_(this,ws)===0&&((t=_(this,ri))==null||t.call(this),H(this,ri,void 0),(e=_(this,ii))==null||e.call(this),H(this,ii,void 0))}isFetching(t){return _(this,Ke).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,xs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,Ke).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=_(this,Ke).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Cs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return _(this,Ke).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=_(this,Ke).get(s.queryHash),i=r==null?void 0:r.state.data,o=Dk(e,i);if(o!==void 0)return _(this,Ke).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return dt.batch(()=>_(this,Ke).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=_(this,Ke).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=_(this,Ke);dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=_(this,Ke);return dt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=dt.batch(()=>_(this,Ke).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(Et).catch(Et)}invalidateQueries(t,e={}){return dt.batch(()=>(_(this,Ke).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=dt.batch(()=>_(this,Ke).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(Et)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Et)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=_(this,Ke).build(this,e);return n.isStaleByTime(Cs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Et).catch(Et)}fetchInfiniteQuery(t){return t.behavior=Jf(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Et).catch(Et)}ensureInfiniteQueryData(t){return t.behavior=Jf(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Aa.isOnline()?_(this,xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Ke)}getMutationCache(){return _(this,xs)}getDefaultOptions(){return _(this,bs)}setDefaultOptions(t){H(this,bs,t)}setQueryDefaults(t,e){_(this,ni).set(xr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,ni).values()],n={};return e.forEach(s=>{uo(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){_(this,si).set(xr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,si).values()],n={};return e.forEach(s=>{uo(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,bs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=id(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===od&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,bs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,Ke).clear(),_(this,xs).clear()}},Ke=new WeakMap,xs=new WeakMap,bs=new WeakMap,ni=new WeakMap,si=new WeakMap,ws=new WeakMap,ri=new WeakMap,ii=new WeakMap,Kp),cy=m.createContext(void 0),Dn=t=>{const e=m.useContext(cy);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},t_=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(cy.Provider,{value:t,children:e})),ly=m.createContext(!1),n_=()=>m.useContext(ly);ly.Provider;function s_(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var r_=m.createContext(s_()),i_=()=>m.useContext(r_),o_=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},a_=t=>{m.useEffect(()=>{t.clearReset()},[t])},c_=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||ty(n,[t.error,s])),l_=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},u_=(t,e)=>t.isLoading&&t.isFetching&&!e,d_=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,th=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function f_(t,e,n){var f,h,g,v,p;const s=n_(),r=i_(),i=Dn(),o=i.defaultQueryOptions(t);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",l_(o),o_(o,r),a_(r);const a=!i.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new e(i,o)),u=c.getOptimisticResult(o),d=!s&&t.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(y=>{const x=d?c.subscribe(dt.batchCalls(y)):Et;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),d_(o,u))throw th(o,c,r);if(c_({result:u,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((v=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||v.call(g,o,u),o.experimental_prefetchInRender&&!vr&&u_(u,s)){const y=a?th(o,c,r):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;y==null||y.catch(Et).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ld(t,e){return f_(t,zk)}function Ds(t,e){const n=Dn(),[s]=m.useState(()=>new Xk(n,t));m.useEffect(()=>{s.setOptions(t)},[s,t]);const r=m.useSyncExternalStore(m.useCallback(o=>s.subscribe(dt.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=m.useCallback((o,a)=>{s.mutate(o,a).catch(Et)},[s]);if(r.error&&ty(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}var Qo={},nh;function h_(){if(nh)return Qo;nh=1;var t=y0();return Qo.createRoot=t.createRoot,Qo.hydrateRoot=t.hydrateRoot,Qo}var m_=h_();const p_=v0(m_),sh=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rh=zg,ud=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return rh(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=sh(d)||sh(f);return r[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(v=>{let[p,y]=v;return Array.isArray(y)?y.includes({...i,...a}[p]):{...i,...a}[p]===y})?[...u,f,h]:u},[]);return rh(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},g_=ud("inline-flex items-center justify-center whitespace-nowrap rounded-[8px] text-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-card-foreground text-card shadow hover:bg-muted-foreground",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline","admin-primary":"bg-primary text-primary-foreground shadow hover:bg-primary/90 active:bg-primary/80","admin-secondary":"bg-background text-primary border border-primary hover:bg-accent active:bg-secondary","admin-tertiary":"bg-background text-primary hover:bg-accent active:bg-secondary"},size:{default:"h-12 px-5 py-3",sm:"h-8 rounded-[8px] px-3 text-base",lg:"h-10 rounded-[8px] px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),me=m.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,type:r="button",...i},o)=>{const a=s?ag:"button";return l.jsx(a,{className:we(g_({variant:e,size:n,className:t})),ref:o,type:r,...i})});me.displayName="Button";function uy(t,e){return function(){return t.apply(e,arguments)}}const{toString:y_}=Object.prototype,{getPrototypeOf:dd}=Object,{iterator:lc,toStringTag:dy}=Symbol,uc=(t=>e=>{const n=y_.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fn=t=>(t=t.toLowerCase(),e=>uc(e)===t),dc=t=>e=>typeof e===t,{isArray:Ci}=Array,fo=dc("undefined");function Ro(t){return t!==null&&!fo(t)&&t.constructor!==null&&!fo(t.constructor)&&It(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fy=fn("ArrayBuffer");function v_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fy(t.buffer),e}const x_=dc("string"),It=dc("function"),hy=dc("number"),Mo=t=>t!==null&&typeof t=="object",b_=t=>t===!0||t===!1,ua=t=>{if(uc(t)!=="object")return!1;const e=dd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(dy in t)&&!(lc in t)},w_=t=>{if(!Mo(t)||Ro(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},S_=fn("Date"),C_=fn("File"),k_=fn("Blob"),__=fn("FileList"),N_=t=>Mo(t)&&It(t.pipe),T_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||It(t.append)&&((e=uc(t))==="formdata"||e==="object"&&It(t.toString)&&t.toString()==="[object FormData]"))},P_=fn("URLSearchParams"),[E_,O_,j_,A_]=["ReadableStream","Request","Response","Headers"].map(fn),R_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Do(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Ci(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Ro(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function my(t,e){if(Ro(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,py=t=>!fo(t)&&t!==Ks;function Hl(){const{caseless:t}=py(this)&&this||{},e={},n=(s,r)=>{const i=t&&my(e,r)||r;ua(e[i])&&ua(s)?e[i]=Hl(e[i],s):ua(s)?e[i]=Hl({},s):Ci(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Do(arguments[s],n);return e}const M_=(t,e,n,{allOwnKeys:s}={})=>(Do(e,(r,i)=>{n&&It(r)?t[i]=uy(r,n):t[i]=r},{allOwnKeys:s}),t),D_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),I_=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},F_=(t,e,n,s)=>{let r,i,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&dd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},L_=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},V_=t=>{if(!t)return null;if(Ci(t))return t;let e=t.length;if(!hy(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},B_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dd(Uint8Array)),W_=(t,e)=>{const s=(t&&t[lc]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},$_=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},U_=fn("HTMLFormElement"),q_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),ih=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),H_=fn("RegExp"),gy=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Do(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},z_=t=>{gy(t,(e,n)=>{if(It(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(It(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Y_=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Ci(t)?s(t):s(String(t).split(e)),n},G_=()=>{},K_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Z_(t){return!!(t&&It(t.append)&&t[dy]==="FormData"&&t[lc])}const Q_=t=>{const e=new Array(10),n=(s,r)=>{if(Mo(s)){if(e.indexOf(s)>=0)return;if(Ro(s))return s;if(!("toJSON"in s)){e[r]=s;const i=Ci(s)?[]:{};return Do(s,(o,a)=>{const c=n(o,r+1);!fo(c)&&(i[a]=c)}),e[r]=void 0,i}}return s};return n(t,0)},X_=fn("AsyncFunction"),J_=t=>t&&(Mo(t)||It(t))&&It(t.then)&&It(t.catch),yy=((t,e)=>t?setImmediate:e?((n,s)=>(Ks.addEventListener("message",({source:r,data:i})=>{r===Ks&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),Ks.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",It(Ks.postMessage)),eN=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||yy,tN=t=>t!=null&&It(t[lc]),O={isArray:Ci,isArrayBuffer:fy,isBuffer:Ro,isFormData:T_,isArrayBufferView:v_,isString:x_,isNumber:hy,isBoolean:b_,isObject:Mo,isPlainObject:ua,isEmptyObject:w_,isReadableStream:E_,isRequest:O_,isResponse:j_,isHeaders:A_,isUndefined:fo,isDate:S_,isFile:C_,isBlob:k_,isRegExp:H_,isFunction:It,isStream:N_,isURLSearchParams:P_,isTypedArray:B_,isFileList:__,forEach:Do,merge:Hl,extend:M_,trim:R_,stripBOM:D_,inherits:I_,toFlatObject:F_,kindOf:uc,kindOfTest:fn,endsWith:L_,toArray:V_,forEachEntry:W_,matchAll:$_,isHTMLForm:U_,hasOwnProperty:ih,hasOwnProp:ih,reduceDescriptors:gy,freezeMethods:z_,toObjectSet:Y_,toCamelCase:q_,noop:G_,toFiniteNumber:K_,findKey:my,global:Ks,isContextDefined:py,isSpecCompliantForm:Z_,toJSONObject:Q_,isAsyncFn:X_,isThenable:J_,setImmediate:yy,asap:eN,isIterable:tN};function le(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}O.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const vy=le.prototype,xy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xy[t]={value:t}});Object.defineProperties(le,xy);Object.defineProperty(vy,"isAxiosError",{value:!0});le.from=(t,e,n,s,r,i)=>{const o=Object.create(vy);return O.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),le.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const nN=null;function zl(t){return O.isPlainObject(t)||O.isArray(t)}function by(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function oh(t,e,n){return t?t.concat(e).map(function(r,i){return r=by(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function sN(t){return O.isArray(t)&&!t.some(zl)}const rN=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function fc(t,e,n){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,y){return!O.isUndefined(y[p])});const s=n.metaTokens,r=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(r))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(O.isDate(v))return v.toISOString();if(O.isBoolean(v))return v.toString();if(!c&&O.isBlob(v))throw new le("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(v)||O.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,p,y){let x=v;if(v&&!y&&typeof v=="object"){if(O.endsWith(p,"{}"))p=s?p:p.slice(0,-2),v=JSON.stringify(v);else if(O.isArray(v)&&sN(v)||(O.isFileList(v)||O.endsWith(p,"[]"))&&(x=O.toArray(v)))return p=by(p),x.forEach(function(w,C){!(O.isUndefined(w)||w===null)&&e.append(o===!0?oh([p],C,i):o===null?p:p+"[]",u(w))}),!1}return zl(v)?!0:(e.append(oh(y,p,i),u(v)),!1)}const f=[],h=Object.assign(rN,{defaultVisitor:d,convertValue:u,isVisitable:zl});function g(v,p){if(!O.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(v),O.forEach(v,function(x,b){(!(O.isUndefined(x)||x===null)&&r.call(e,x,O.isString(b)?b.trim():b,p,h))===!0&&g(x,p?p.concat(b):[b])}),f.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return g(t),e}function ah(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function fd(t,e){this._pairs=[],t&&fc(t,this,e)}const wy=fd.prototype;wy.append=function(e,n){this._pairs.push([e,n])};wy.toString=function(e){const n=e?function(s){return e.call(this,s,ah)}:ah;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function iN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sy(t,e,n){if(!e)return t;const s=n&&n.encode||iN;O.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=O.isURLSearchParams(e)?e.toString():new fd(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ch{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Cy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oN=typeof URLSearchParams<"u"?URLSearchParams:fd,aN=typeof FormData<"u"?FormData:null,cN=typeof Blob<"u"?Blob:null,lN={isBrowser:!0,classes:{URLSearchParams:oN,FormData:aN,Blob:cN},protocols:["http","https","file","blob","url","data"]},hd=typeof window<"u"&&typeof document<"u",Yl=typeof navigator=="object"&&navigator||void 0,uN=hd&&(!Yl||["ReactNative","NativeScript","NS"].indexOf(Yl.product)<0),dN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fN=hd&&window.location.href||"http://localhost",hN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hd,hasStandardBrowserEnv:uN,hasStandardBrowserWebWorkerEnv:dN,navigator:Yl,origin:fN},Symbol.toStringTag,{value:"Module"})),Ct={...hN,...lN};function mN(t,e){return fc(t,new Ct.classes.URLSearchParams,{visitor:function(n,s,r,i){return Ct.isNode&&O.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function pN(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gN(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function ky(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&O.isArray(r)?r.length:o,c?(O.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!O.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&O.isArray(r[o])&&(r[o]=gN(r[o])),!a)}if(O.isFormData(t)&&O.isFunction(t.entries)){const n={};return O.forEachEntry(t,(s,r)=>{e(pN(s),r,n,0)}),n}return null}function yN(t,e,n){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Io={transitional:Cy,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=O.isObject(e);if(i&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return r?JSON.stringify(ky(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return mN(e,this.formSerializer).toString();if((a=O.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return fc(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),yN(e)):e}],transformResponse:[function(e){const n=this.transitional||Io.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{Io.headers[t]={}});const vN=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xN=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&vN[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},lh=Symbol("internals");function Li(t){return t&&String(t).trim().toLowerCase()}function da(t){return t===!1||t==null?t:O.isArray(t)?t.map(da):String(t)}function bN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const wN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Uc(t,e,n,s,r){if(O.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!O.isString(e)){if(O.isString(s))return e.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(e)}}function SN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function CN(t,e){const n=O.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}let Ft=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(a,c,u){const d=Li(c);if(!d)throw new Error("header name must be a non-empty string");const f=O.findKey(r,d);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||c]=da(a))}const o=(a,c)=>O.forEach(a,(u,d)=>i(u,d,c));if(O.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(O.isString(e)&&(e=e.trim())&&!wN(e))o(xN(e),n);else if(O.isObject(e)&&O.isIterable(e)){let a={},c,u;for(const d of e){if(!O.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?O.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=Li(e),e){const s=O.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return bN(r);if(O.isFunction(n))return n.call(this,r,s);if(O.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Li(e),e){const s=O.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Uc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=Li(o),o){const a=O.findKey(s,o);a&&(!n||Uc(s,s[a],a,n))&&(delete s[a],r=!0)}}return O.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Uc(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return O.forEach(this,(r,i)=>{const o=O.findKey(s,i);if(o){n[o]=da(r),delete n[i];return}const a=e?SN(i):String(i).trim();a!==i&&delete n[i],n[a]=da(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return O.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&O.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[lh]=this[lh]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Li(o);s[a]||(CN(r,o),s[a]=!0)}return O.isArray(e)?e.forEach(i):i(e),this}};Ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Ft.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});O.freezeMethods(Ft);function qc(t,e){const n=this||Io,s=e||n,r=Ft.from(s.headers);let i=s.data;return O.forEach(t,function(a){i=a.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function _y(t){return!!(t&&t.__CANCEL__)}function ki(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}O.inherits(ki,le,{__CANCEL__:!0});function Ny(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function kN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _N(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=s[i];o||(o=u),n[r]=c,s[r]=u;let f=i,h=0;for(;f!==r;)h+=n[f++],f=f%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),u-o<e)return;const g=d&&u-d;return g?Math.round(h*1e3/g):void 0}}function NN(t,e){let n=0,s=1e3/e,r,i;const o=(u,d=Date.now())=>{n=d,r=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=s?o(u,d):(r=u,i||(i=setTimeout(()=>{i=null,o(r)},s-f)))},()=>r&&o(r)]}const Ra=(t,e,n=3)=>{let s=0;const r=_N(50,250);return NN(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-s,u=r(c),d=o<=a;s=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},uh=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},dh=t=>(...e)=>O.asap(()=>t(...e)),TN=Ct.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ct.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ct.origin),Ct.navigator&&/(msie|trident)/i.test(Ct.navigator.userAgent)):()=>!0,PN=Ct.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(s)&&o.push("path="+s),O.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function EN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ON(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ty(t,e,n){let s=!EN(e);return t&&(s||n==!1)?ON(t,e):e}const fh=t=>t instanceof Ft?{...t}:t;function br(t,e){e=e||{};const n={};function s(u,d,f,h){return O.isPlainObject(u)&&O.isPlainObject(d)?O.merge.call({caseless:h},u,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function r(u,d,f,h){if(O.isUndefined(d)){if(!O.isUndefined(u))return s(void 0,u,f,h)}else return s(u,d,f,h)}function i(u,d){if(!O.isUndefined(d))return s(void 0,d)}function o(u,d){if(O.isUndefined(d)){if(!O.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function a(u,d,f){if(f in e)return s(u,d);if(f in t)return s(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,f)=>r(fh(u),fh(d),f,!0)};return O.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||r,h=f(t[d],e[d],d);O.isUndefined(h)&&f!==a||(n[d]=h)}),n}const Py=t=>{const e=br({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Ft.from(o),e.url=Sy(Ty(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(O.isFormData(n)){if(Ct.hasStandardBrowserEnv||Ct.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Ct.hasStandardBrowserEnv&&(s&&O.isFunction(s)&&(s=s(e)),s||s!==!1&&TN(e.url))){const u=r&&i&&PN.read(i);u&&o.set(r,u)}return e},jN=typeof XMLHttpRequest<"u",AN=jN&&function(t){return new Promise(function(n,s){const r=Py(t);let i=r.data;const o=Ft.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=r,d,f,h,g,v;function p(){g&&g(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function x(){if(!y)return;const w=Ft.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};Ny(function(T){n(T),p()},function(T){s(T),p()},S),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(s(new le("Request aborted",le.ECONNABORTED,t,y)),y=null)},y.onerror=function(){s(new le("Network Error",le.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const S=r.transitional||Cy;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),s(new le(C,S.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&O.forEach(o.toJSON(),function(C,S){y.setRequestHeader(S,C)}),O.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),a&&a!=="json"&&(y.responseType=r.responseType),u&&([h,v]=Ra(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,g]=Ra(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=w=>{y&&(s(!w||w.type?new ki(null,t,y):w),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const b=kN(r.url);if(b&&Ct.protocols.indexOf(b)===-1){s(new le("Unsupported protocol "+b+":",le.ERR_BAD_REQUEST,t));return}y.send(i||null)})},RN=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(u){if(!r){r=!0,a();const d=u instanceof Error?u:this.reason;s.abort(d instanceof le?d:new ki(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>O.asap(a),c}},MN=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},DN=async function*(t,e){for await(const n of IN(t))yield*MN(n,e)},IN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},hh=(t,e,n,s)=>{const r=DN(t,e);let i=0,o,a=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ey=hc&&typeof ReadableStream=="function",FN=hc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Oy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},LN=Ey&&Oy(()=>{let t=!1;const e=new Request(Ct.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),mh=64*1024,Gl=Ey&&Oy(()=>O.isReadableStream(new Response("").body)),Ma={stream:Gl&&(t=>t.body)};hc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ma[e]&&(Ma[e]=O.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,s)})})})(new Response);const VN=async t=>{if(t==null)return 0;if(O.isBlob(t))return t.size;if(O.isSpecCompliantForm(t))return(await new Request(Ct.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(O.isArrayBufferView(t)||O.isArrayBuffer(t))return t.byteLength;if(O.isURLSearchParams(t)&&(t=t+""),O.isString(t))return(await FN(t)).byteLength},BN=async(t,e)=>{const n=O.toFiniteNumber(t.getContentLength());return n??VN(e)},WN=hc&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=Py(t);u=u?(u+"").toLowerCase():"text";let g=RN([r,i&&i.toAbortSignal()],o),v;const p=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(c&&LN&&n!=="get"&&n!=="head"&&(y=await BN(d,s))!==0){let S=new Request(e,{method:"POST",body:s,duplex:"half"}),N;if(O.isFormData(s)&&(N=S.headers.get("content-type"))&&d.setContentType(N),S.body){const[T,E]=uh(y,Ra(dh(c)));s=hh(S.body,mh,T,E)}}O.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;v=new Request(e,{...h,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:x?f:void 0});let b=await fetch(v,h);const w=Gl&&(u==="stream"||u==="response");if(Gl&&(a||w&&p)){const S={};["status","statusText","headers"].forEach(A=>{S[A]=b[A]});const N=O.toFiniteNumber(b.headers.get("content-length")),[T,E]=a&&uh(N,Ra(dh(a),!0))||[];b=new Response(hh(b.body,mh,T,()=>{E&&E(),p&&p()}),S)}u=u||"text";let C=await Ma[O.findKey(Ma,u)||"text"](b,t);return!w&&p&&p(),await new Promise((S,N)=>{Ny(S,N,{data:C,headers:Ft.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:v})})}catch(x){throw p&&p(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,v),{cause:x.cause||x}):le.from(x,x&&x.code,t,v)}}),Kl={http:nN,xhr:AN,fetch:WN};O.forEach(Kl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ph=t=>`- ${t}`,$N=t=>O.isFunction(t)||t===null||t===!1,jy={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!$N(n)&&(s=Kl[(o=String(n)).toLowerCase()],s===void 0))throw new le(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ph).join(`
`):" "+ph(i[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Kl};function Hc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ki(null,t)}function gh(t){return Hc(t),t.headers=Ft.from(t.headers),t.data=qc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jy.getAdapter(t.adapter||Io.adapter)(t).then(function(s){return Hc(t),s.data=qc.call(t,t.transformResponse,s),s.headers=Ft.from(s.headers),s},function(s){return _y(s)||(Hc(t),s&&s.response&&(s.response.data=qc.call(t,t.transformResponse,s.response),s.response.headers=Ft.from(s.response.headers))),Promise.reject(s)})}const Ay="1.11.0",mc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mc[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const yh={};mc.transitional=function(e,n,s){function r(i,o){return"[Axios v"+Ay+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new le(r(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!yh[o]&&(yh[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};mc.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function UN(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new le("option "+i+" must be "+c,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+i,le.ERR_BAD_OPTION)}}const fa={assertOptions:UN,validators:mc},mn=fa.validators;let dr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ch,response:new ch}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=br(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&fa.assertOptions(s,{silentJSONParsing:mn.transitional(mn.boolean),forcedJSONParsing:mn.transitional(mn.boolean),clarifyTimeoutError:mn.transitional(mn.boolean)},!1),r!=null&&(O.isFunction(r)?n.paramsSerializer={serialize:r}:fa.assertOptions(r,{encode:mn.function,serialize:mn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fa.assertOptions(n,{baseUrl:mn.spelling("baseURL"),withXsrfToken:mn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&O.merge(i.common,i[n.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Ft.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let d,f=0,h;if(!c){const v=[gh.bind(this),void 0];for(v.unshift(...a),v.push(...u),h=v.length,d=Promise.resolve(n);f<h;)d=d.then(v[f++],v[f++]);return d}h=a.length;let g=n;for(f=0;f<h;){const v=a[f++],p=a[f++];try{g=v(g)}catch(y){p.call(this,y);break}}try{d=gh.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=br(this.defaults,e);const n=Ty(e.baseURL,e.url,e.allowAbsoluteUrls);return Sy(n,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){dr.prototype[e]=function(n,s){return this.request(br(s||{},{method:e,url:n,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,a){return this.request(br(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}dr.prototype[e]=n(),dr.prototype[e+"Form"]=n(!0)});let qN=class Ry{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new ki(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Ry(function(r){e=r}),cancel:e}}};function HN(t){return function(n){return t.apply(null,n)}}function zN(t){return O.isObject(t)&&t.isAxiosError===!0}const Zl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zl).forEach(([t,e])=>{Zl[e]=t});function My(t){const e=new dr(t),n=uy(dr.prototype.request,e);return O.extend(n,dr.prototype,e,{allOwnKeys:!0}),O.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return My(br(t,r))},n}const Qe=My(Io);Qe.Axios=dr;Qe.CanceledError=ki;Qe.CancelToken=qN;Qe.isCancel=_y;Qe.VERSION=Ay;Qe.toFormData=fc;Qe.AxiosError=le;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=HN;Qe.isAxiosError=zN;Qe.mergeConfig=br;Qe.AxiosHeaders=Ft;Qe.formToJSON=t=>ky(O.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=jy.getAdapter;Qe.HttpStatusCode=Zl;Qe.default=Qe;const{Axios:_V,AxiosError:NV,CanceledError:TV,isCancel:PV,CancelToken:EV,VERSION:OV,all:jV,Cancel:AV,isAxiosError:RV,spread:MV,toFormData:DV,AxiosHeaders:IV,HttpStatusCode:FV,formToJSON:LV,getAdapter:VV,mergeConfig:BV}=Qe,We=Qe.create({baseURL:"https://cleanhouse123-cleanhouseapi-209c.twc1.net/",withCredentials:!1}),ha=Qe.create({baseURL:"https://cleanhouse123-cleanhouseapi-209c.twc1.net/",withCredentials:!1});We.interceptors.request.use(t=>{const e=localStorage.getItem("accessToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));let zc=!1,Ql=[];const vh=(t,e=null)=>{Ql.forEach(n=>{t?n.reject(t):n.resolve(e)}),Ql=[]};We.interceptors.response.use(t=>t,async t=>{var n,s,r,i,o,a,c;const e=t.config;if(((n=t.response)==null?void 0:n.status)===429)return Promise.reject(t);if(((s=t.response)==null?void 0:s.status)===401&&!e._retry){if(zc)return new Promise((u,d)=>{Ql.push({resolve:u,reject:d})}).then(u=>(e.headers.Authorization="Bearer "+u,We(e))).catch(u=>Promise.reject(u));e._retry=!0,zc=!0;try{const u=localStorage.getItem("refreshToken"),d=localStorage.getItem("accessToken");if(!u||!d)return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Promise.reject(t);const{data:f}=await ha.post("/auth/refresh",{accessToken:d,refreshToken:u}),{accessToken:h,refreshToken:g}=f;return localStorage.setItem("accessToken",h),localStorage.setItem("refreshToken",g),We.defaults.headers.common.Authorization=`Bearer ${h}`,e.headers.Authorization=`Bearer ${h}`,vh(null,h),We(e)}catch(u){return vh(u,null),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Promise.reject(u)}finally{zc=!1}}if(((r=t.response)==null?void 0:r.status)>=500)Ie.error("Ошибка сервера",{description:"Произошла внутренняя ошибка сервера. Попробуйте позже",duration:5e3});else if(((i=t.response)==null?void 0:i.status)>=400&&((o=t.response)==null?void 0:o.status)<500){const u=((c=(a=t.response)==null?void 0:a.data)==null?void 0:c.message)||"Произошла ошибка";Ie.error("Ошибка запроса",{description:u,duration:5e3})}else t.response||Ie.error("Ошибка сети",{description:"Проверьте подключение к интернету",duration:5e3});return Promise.reject(t)});const md={sendSms:async t=>{const e={phoneNumber:t.phoneNumber,...t.isDev&&{isDev:t.isDev}};return(await ha.post("/auth/sms/send",e)).data},verifySms:async t=>(await ha.post("/auth/sms/verify",t)).data,refreshTokens:async t=>(await ha.post("/auth/refresh",t)).data,getMe:async()=>(await We.get("/auth/me")).data},wt=()=>{const t=localStorage.getItem("accessToken");return ld({queryKey:["me"],queryFn:()=>md.getMe(),enabled:!!t,staleTime:300*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:(e,n)=>{var s;return((s=n==null?void 0:n.response)==null?void 0:s.status)===401?(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),!1):e<2}})},YN="_loader_18mkw_1",GN={loader:YN},li=()=>l.jsx("div",{className:"flex items-center justify-center py-8 h-screen",children:l.jsx("div",{className:"text-center",children:l.jsx("div",{className:GN.loader})})});var Yc="focusScope.autoFocusOnMount",Gc="focusScope.autoFocusOnUnmount",xh={bubbles:!1,cancelable:!0},KN="FocusScope",pc=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...o}=t,[a,c]=m.useState(null),u=gr(r),d=gr(i),f=m.useRef(null),h=$e(e,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let p=function(w){if(g.paused||!a)return;const C=w.target;a.contains(C)?f.current=C:as(f.current,{select:!0})},y=function(w){if(g.paused||!a)return;const C=w.relatedTarget;C!==null&&(a.contains(C)||as(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&as(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const b=new MutationObserver(x);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),b.disconnect()}}},[s,a,g.paused]),m.useEffect(()=>{if(a){wh.add(g);const p=document.activeElement;if(!a.contains(p)){const x=new CustomEvent(Yc,xh);a.addEventListener(Yc,u),a.dispatchEvent(x),x.defaultPrevented||(ZN(tT(Dy(a)),{select:!0}),document.activeElement===p&&as(a))}return()=>{a.removeEventListener(Yc,u),setTimeout(()=>{const x=new CustomEvent(Gc,xh);a.addEventListener(Gc,d),a.dispatchEvent(x),x.defaultPrevented||as(p??document.body,{select:!0}),a.removeEventListener(Gc,d),wh.remove(g)},0)}}},[a,u,d,g]);const v=m.useCallback(p=>{if(!n&&!s||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const b=p.currentTarget,[w,C]=QN(b);w&&C?!p.shiftKey&&x===C?(p.preventDefault(),n&&as(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),n&&as(C,{select:!0})):x===b&&p.preventDefault()}},[n,s,g.paused]);return l.jsx(Re.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});pc.displayName=KN;function ZN(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(as(s,{select:e}),document.activeElement!==n)return}function QN(t){const e=Dy(t),n=bh(e,t),s=bh(e.reverse(),t);return[n,s]}function Dy(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bh(t,e){for(const n of t)if(!XN(n,{upTo:e}))return n}function XN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JN(t){return t instanceof HTMLInputElement&&"select"in t}function as(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&JN(t)&&e&&t.select()}}var wh=eT();function eT(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Sh(t,e),t.unshift(e)},remove(e){var n;t=Sh(t,e),(n=t[0])==null||n.resume()}}}function Sh(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function tT(t){return t.filter(e=>e.tagName!=="A")}var Kc=0;function pd(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ch()),document.body.insertAdjacentElement("beforeend",t[1]??Ch()),Kc++,()=>{Kc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kc--}},[])}function Ch(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bn=function(){return bn=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bn.apply(this,arguments)};function Iy(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function nT(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var ma="right-scroll-bar-position",pa="width-before-scroll-bar",sT="with-scroll-bars-hidden",rT="--removed-body-scroll-bar-size";function Zc(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iT(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var oT=typeof window<"u"?m.useLayoutEffect:m.useEffect,kh=new WeakMap;function aT(t,e){var n=iT(null,function(s){return t.forEach(function(r){return Zc(r,s)})});return oT(function(){var s=kh.get(n);if(s){var r=new Set(s),i=new Set(t),o=n.current;r.forEach(function(a){i.has(a)||Zc(a,null)}),i.forEach(function(a){r.has(a)||Zc(a,o)})}kh.set(n,t)},[t]),n}function cT(t){return t}function lT(t,e){e===void 0&&(e=cT);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,s);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function uT(t){t===void 0&&(t={});var e=lT(null);return e.options=bn({async:!0,ssr:!1},t),e}var Fy=function(t){var e=t.sideCar,n=Iy(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,bn({},n))};Fy.isSideCarExport=!0;function dT(t,e){return t.useMedium(e),Fy}var Ly=uT(),Qc=function(){},gc=m.forwardRef(function(t,e){var n=m.useRef(null),s=m.useState({onScrollCapture:Qc,onWheelCapture:Qc,onTouchMoveCapture:Qc}),r=s[0],i=s[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,g=t.noRelative,v=t.noIsolation,p=t.inert,y=t.allowPinchZoom,x=t.as,b=x===void 0?"div":x,w=t.gapMode,C=Iy(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=aT([n,e]),T=bn(bn({},C),r);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:Ly,removeScrollBar:u,shards:f,noRelative:g,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(a),bn(bn({},T),{ref:N})):m.createElement(b,bn({},T,{className:c,ref:N}),a))});gc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gc.classNames={fullWidth:pa,zeroRight:ma};var fT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hT(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fT();return e&&t.setAttribute("nonce",e),t}function mT(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pT(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gT=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hT())&&(mT(e,n),pT(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yT=function(){var t=gT();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Vy=function(){var t=yT(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},vT={left:0,top:0,right:0,gap:0},Xc=function(t){return parseInt(t||"",10)||0},xT=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Xc(n),Xc(s),Xc(r)]},bT=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vT;var e=xT(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},wT=Vy(),qr="data-scroll-locked",ST=function(t,e,n,s){var r=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sT,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(a,"px ").concat(s,`;
  }
  body[`).concat(qr,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ma,` {
    right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(pa,` {
    margin-right: `).concat(a,"px ").concat(s,`;
  }
  
  .`).concat(ma," .").concat(ma,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(pa," .").concat(pa,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(qr,`] {
    `).concat(rT,": ").concat(a,`px;
  }
`)},_h=function(){var t=parseInt(document.body.getAttribute(qr)||"0",10);return isFinite(t)?t:0},CT=function(){m.useEffect(function(){return document.body.setAttribute(qr,(_h()+1).toString()),function(){var t=_h()-1;t<=0?document.body.removeAttribute(qr):document.body.setAttribute(qr,t.toString())}},[])},kT=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;CT();var i=m.useMemo(function(){return bT(r)},[r]);return m.createElement(wT,{styles:ST(i,!e,r,n?"":"!important")})},Xl=!1;if(typeof window<"u")try{var Xo=Object.defineProperty({},"passive",{get:function(){return Xl=!0,!0}});window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Xl=!1}var Er=Xl?{passive:!1}:!1,_T=function(t){return t.tagName==="TEXTAREA"},By=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_T(t)&&n[e]==="visible")},NT=function(t){return By(t,"overflowY")},TT=function(t){return By(t,"overflowX")},Nh=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=Wy(t,s);if(r){var i=$y(t,s),o=i[1],a=i[2];if(o>a)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},PT=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},ET=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},Wy=function(t,e){return t==="v"?NT(e):TT(e)},$y=function(t,e){return t==="v"?PT(e):ET(e)},OT=function(t,e){return t==="h"&&e==="rtl"?-1:1},jT=function(t,e,n,s,r){var i=OT(t,window.getComputedStyle(e).direction),o=i*s,a=n.target,c=e.contains(a),u=!1,d=o>0,f=0,h=0;do{if(!a)break;var g=$y(t,a),v=g[0],p=g[1],y=g[2],x=p-y-i*v;(v||x)&&Wy(t,a)&&(f+=x,h+=v);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Jo=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Th=function(t){return[t.deltaX,t.deltaY]},Ph=function(t){return t&&"current"in t?t.current:t},AT=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},MT=0,Or=[];function DT(t){var e=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),r=m.useState(MT++)[0],i=m.useState(Vy)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var p=nT([t.lockRef.current],(t.shards||[]).map(Ph),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Jo(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-x[0],C="deltaY"in p?p.deltaY:b[1]-x[1],S,N=p.target,T=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in p&&T==="h"&&N.type==="range")return!1;var E=Nh(T,N);if(!E)return!0;if(E?S=T:(S=T==="v"?"h":"v",E=Nh(T,N)),!E)return!1;if(!s.current&&"changedTouches"in p&&(w||C)&&(s.current=S),!S)return!0;var A=s.current||S;return jT(A,y,p,A==="h"?w:C)},[]),c=m.useCallback(function(p){var y=p;if(!(!Or.length||Or[Or.length-1]!==i)){var x="deltaY"in y?Th(y):Jo(y),b=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&AT(S.delta,x)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(Ph).filter(Boolean).filter(function(S){return S.contains(y.target)}),C=w.length>0?a(y,w[0]):!o.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(p,y,x,b){var w={name:p,delta:y,target:x,should:b,shadowParent:IT(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(C){return C!==w})},1)},[]),d=m.useCallback(function(p){n.current=Jo(p),s.current=void 0},[]),f=m.useCallback(function(p){u(p.type,Th(p),p.target,a(p,t.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,Jo(p),p.target,a(p,t.lockRef.current))},[]);m.useEffect(function(){return Or.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Er),document.addEventListener("touchmove",c,Er),document.addEventListener("touchstart",d,Er),function(){Or=Or.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Er),document.removeEventListener("touchmove",c,Er),document.removeEventListener("touchstart",d,Er)}},[]);var g=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:RT(r)}):null,g?m.createElement(kT,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IT(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FT=dT(Ly,DT);var yc=m.forwardRef(function(t,e){return m.createElement(gc,bn({},t,{ref:e,sideCar:FT}))});yc.classNames=gc.classNames;var LT=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jr=new WeakMap,ea=new WeakMap,ta={},Jc=0,Uy=function(t){return t&&(t.host||Uy(t.parentNode))},VT=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=Uy(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BT=function(t,e,n,s){var r=VT(e,Array.isArray(t)?t:[t]);ta[n]||(ta[n]=new WeakMap);var i=ta[n],o=[],a=new Set,c=new Set(r),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};r.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(s),v=g!==null&&g!=="false",p=(jr.get(h)||0)+1,y=(i.get(h)||0)+1;jr.set(h,p),i.set(h,y),o.push(h),p===1&&v&&ea.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),Jc++,function(){o.forEach(function(f){var h=jr.get(f)-1,g=i.get(f)-1;jr.set(f,h),i.set(f,g),h||(ea.has(f)||f.removeAttribute(s),ea.delete(f)),g||f.removeAttribute(n)}),Jc--,Jc||(jr=new WeakMap,jr=new WeakMap,ea=new WeakMap,ta={})}},gd=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=LT(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),BT(s,r,n,"aria-hidden")):function(){return null}},vc="Dialog",[qy,WV]=yi(vc),[WT,hn]=qy(vc),Hy=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),c=m.useRef(null),[u,d]=Oa({prop:s,defaultProp:r??!1,onChange:i,caller:vc});return l.jsx(WT,{scope:e,triggerRef:a,contentRef:c,contentId:ur(),titleId:ur(),descriptionId:ur(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};Hy.displayName=vc;var zy="DialogTrigger",$T=m.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=hn(zy,n),i=$e(e,r.triggerRef);return l.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":xd(r.open),...s,ref:i,onClick:be(t.onClick,r.onOpenToggle)})});$T.displayName=zy;var yd="DialogPortal",[UT,Yy]=qy(yd,{forceMount:void 0}),Gy=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=hn(yd,e);return l.jsx(UT,{scope:e,forceMount:n,children:m.Children.map(s,o=>l.jsx(Ms,{present:n||i.open,children:l.jsx(jo,{asChild:!0,container:r,children:o})}))})};Gy.displayName=yd;var Da="DialogOverlay",Ky=m.forwardRef((t,e)=>{const n=Yy(Da,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=hn(Da,t.__scopeDialog);return i.modal?l.jsx(Ms,{present:s||i.open,children:l.jsx(HT,{...r,ref:e})}):null});Ky.displayName=Da;var qT=pr("DialogOverlay.RemoveScroll"),HT=m.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=hn(Da,n);return l.jsx(yc,{as:qT,allowPinchZoom:!0,shards:[r.contentRef],children:l.jsx(Re.div,{"data-state":xd(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),wr="DialogContent",Zy=m.forwardRef((t,e)=>{const n=Yy(wr,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=hn(wr,t.__scopeDialog);return l.jsx(Ms,{present:s||i.open,children:i.modal?l.jsx(zT,{...r,ref:e}):l.jsx(YT,{...r,ref:e})})});Zy.displayName=wr;var zT=m.forwardRef((t,e)=>{const n=hn(wr,t.__scopeDialog),s=m.useRef(null),r=$e(e,n.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return gd(i)},[]),l.jsx(Qy,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault())})}),YT=m.forwardRef((t,e)=>{const n=hn(wr,t.__scopeDialog),s=m.useRef(!1),r=m.useRef(!1);return l.jsx(Qy,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),Qy=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...o}=t,a=hn(wr,n),c=m.useRef(null),u=$e(e,c);return pd(),l.jsxs(l.Fragment,{children:[l.jsx(pc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:l.jsx(Eo,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":xd(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(GT,{titleId:a.titleId}),l.jsx(ZT,{contentRef:c,descriptionId:a.descriptionId})]})]})}),vd="DialogTitle",Xy=m.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=hn(vd,n);return l.jsx(Re.h2,{id:r.titleId,...s,ref:e})});Xy.displayName=vd;var Jy="DialogDescription",ev=m.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=hn(Jy,n);return l.jsx(Re.p,{id:r.descriptionId,...s,ref:e})});ev.displayName=Jy;var tv="DialogClose",nv=m.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=hn(tv,n);return l.jsx(Re.button,{type:"button",...s,ref:e,onClick:be(t.onClick,()=>r.onOpenChange(!1))})});nv.displayName=tv;function xd(t){return t?"open":"closed"}var sv="DialogTitleWarning",[$V,rv]=W0(sv,{contentName:wr,titleName:vd,docsSlug:"dialog"}),GT=({titleId:t})=>{const e=rv(sv),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},KT="DialogDescriptionWarning",ZT=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rv(KT).contentName}}.`;return m.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},QT=Hy,XT=Gy,iv=Ky,ov=Zy,av=Xy,cv=ev,JT=nv;const Nr=QT,eP=XT,lv=m.forwardRef(({className:t,...e},n)=>l.jsx(iv,{ref:n,className:we("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lv.displayName=iv.displayName;const Is=m.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(eP,{children:[l.jsx(lv,{}),l.jsxs(ov,{ref:s,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(JT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Hu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Is.displayName=ov.displayName;const Fs=({className:t,...e})=>l.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Fs.displayName="DialogHeader";const Ls=m.forwardRef(({className:t,...e},n)=>l.jsx(av,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Ls.displayName=av.displayName;const uv=m.forwardRef(({className:t,...e},n)=>l.jsx(cv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));uv.displayName=cv.displayName;const xt=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("rounded-[20px] bg-card text-card-foreground shadow-sm p-5",t),...e}));xt.displayName="Card";const cn=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5",t),...e}));cn.displayName="CardHeader";const ln=m.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:we("text-lg font-semibold leading-none tracking-tight text-right",t),...e}));ln.displayName="CardTitle";const bt=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("pt-4",t),...e}));bt.displayName="CardContent";const tP=({isOpen:t,onClose:e,user:n})=>{_r();const s=i=>(typeof i=="string"?new Date(i):i).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),r=()=>{};return l.jsx(Nr,{open:t,onOpenChange:e,children:l.jsxs(Is,{className:"max-w-2xl max-h-[95vh] overflow-y-auto mx-4 sm:mx-auto",children:[l.jsx(Fs,{className:"pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(Ls,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[l.jsx(ao,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Информация о профиле"]})})}),l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l.jsx(xt,{children:l.jsx(bt,{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Имя"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg",children:[l.jsx(ao,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-foreground text-sm sm:text-base truncate",children:n.name})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Роль"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg",children:[l.jsx(_f,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-foreground text-sm sm:text-base capitalize",children:n.role==="customer"?"Клиент":n.role==="currier"?"Курьер":n.role==="admin"?"Администратор":n.role})]})]}),n.phone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Телефон"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg",children:[l.jsx(Xp,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-foreground text-sm sm:text-base",children:n.phone}),n.isPhoneVerified&&l.jsx("span",{className:"text-green-600 text-xs ml-auto",children:"✓ Подтвержден"})]})]}),n.email&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Email"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg",children:[l.jsx(S0,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-foreground text-sm sm:text-base truncate",children:n.email}),n.isEmailVerified&&l.jsx("span",{className:"text-green-600 text-xs ml-auto",children:"✓ Подтвержден"})]})]})]})})}),l.jsx(xt,{children:l.jsx(bt,{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Последний вход"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg",children:[l.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:n.lastLoginAt?s(n.lastLoginAt):"Неизвестно"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Дата регистрации"}),l.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg",children:[l.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground flex-shrink-0"}),l.jsx("span",{className:"text-foreground text-xs sm:text-sm",children:n.createdAt?s(n.createdAt):"Неизвестно"})]})]})]})})}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3",children:[l.jsx(me,{variant:"outline",onClick:e,className:"w-full sm:w-auto",children:"Закрыть"}),l.jsxs(me,{onClick:r,className:"w-full sm:w-auto",children:[l.jsx(_f,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Редактировать профиль"}),l.jsx("span",{className:"sm:hidden",children:"Редактировать"})]})]})]})]})})};var Fo=t=>t.type==="checkbox",Zs=t=>t instanceof Date,Ot=t=>t==null;const dv=t=>typeof t=="object";var nt=t=>!Ot(t)&&!Array.isArray(t)&&dv(t)&&!Zs(t),fv=t=>nt(t)&&t.target?Fo(t.target)?t.target.checked:t.target.value:t,nP=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hv=(t,e)=>t.has(nP(e)),sP=t=>{const e=t.constructor&&t.constructor.prototype;return nt(e)&&e.hasOwnProperty("isPrototypeOf")},bd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ut(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(bd&&(t instanceof Blob||s))&&(n||nt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!sP(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ut(t[r]));else return t;return e}var xc=t=>/^\w*$/.test(t),tt=t=>t===void 0,wd=t=>Array.isArray(t)?t.filter(Boolean):[],Sd=t=>wd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(t,e,n)=>{if(!e||!nt(t))return n;const s=(xc(e)?[e]:Sd(e)).reduce((r,i)=>Ot(r)?r:r[i],t);return tt(s)||s===t?tt(t[e])?n:t[e]:s},Bt=t=>typeof t=="boolean",Me=(t,e,n)=>{let s=-1;const r=xc(e)?[e]:Sd(e),i=r.length,o=i-1;for(;++s<i;){const a=r[s];let c=n;if(s!==o){const u=t[a];c=nt(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=c,t=t[a]}};const Ia={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Cd=D.createContext(null);Cd.displayName="HookFormContext";const bc=()=>D.useContext(Cd),rP=t=>{const{children:e,...n}=t;return D.createElement(Cd.Provider,{value:n},e)};var mv=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const o=i;return e._proxyFormState[o]!==rn.all&&(e._proxyFormState[o]=!s||rn.all),n&&(n[o]=!0),t[o]}});return r};const kd=typeof window<"u"?D.useLayoutEffect:D.useEffect;function iP(t){const e=bc(),{control:n=e.control,disabled:s,name:r,exact:i}=t||{},[o,a]=D.useState(n._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return kd(()=>n._subscribe({name:r,formState:c.current,exact:i,callback:u=>{!s&&a({...n._formState,...u})}}),[r,s,i]),D.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),D.useMemo(()=>mv(o,n,c.current,!1),[o,n])}var kn=t=>typeof t=="string",pv=(t,e,n,s,r)=>kn(t)?(s&&e.watch.add(t),U(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),U(n,i))):(s&&(e.watchAll=!0),n),Jl=t=>Ot(t)||!dv(t);function zn(t,e,n=new WeakSet){if(Jl(t)||Jl(e))return t===e;if(Zs(t)&&Zs(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Zs(o)&&Zs(a)||nt(o)&&nt(a)||Array.isArray(o)&&Array.isArray(a)?!zn(o,a,n):o!==a)return!1}}return!0}function oP(t){const e=bc(),{control:n=e.control,name:s,defaultValue:r,disabled:i,exact:o,compute:a}=t||{},c=D.useRef(r),u=D.useRef(a),d=D.useRef(void 0);u.current=a;const f=D.useMemo(()=>n._getWatch(s,c.current),[n,s]),[h,g]=D.useState(u.current?u.current(f):f);return kd(()=>n._subscribe({name:s,formState:{values:!0},exact:o,callback:v=>{if(!i){const p=pv(s,n._names,v.values||n._formValues,!1,c.current);if(u.current){const y=u.current(p);zn(y,d.current)||(g(y),d.current=y)}else g(p)}}}),[n,i,s,o]),D.useEffect(()=>n._removeUnmounted()),h}function aP(t){const e=bc(),{name:n,disabled:s,control:r=e.control,shouldUnregister:i,defaultValue:o}=t,a=hv(r._names.array,n),c=D.useMemo(()=>U(r._formValues,n,U(r._defaultValues,n,o)),[r,n,o]),u=oP({control:r,name:n,defaultValue:c,exact:!0}),d=iP({control:r,name:n,exact:!0}),f=D.useRef(t),h=D.useRef(r.register(n,{...t.rules,value:u,...Bt(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!U(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!U(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!U(d.validatingFields,n)},error:{enumerable:!0,get:()=>U(d.errors,n)}}),[d,n]),v=D.useCallback(b=>h.current.onChange({target:{value:fv(b),name:n},type:Ia.CHANGE}),[n]),p=D.useCallback(()=>h.current.onBlur({target:{value:U(r._formValues,n),name:n},type:Ia.BLUR}),[n,r._formValues]),y=D.useCallback(b=>{const w=U(r._fields,n);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:C=>b.setCustomValidity(C),reportValidity:()=>b.reportValidity()})},[r._fields,n]),x=D.useMemo(()=>({name:n,value:u,...Bt(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:v,onBlur:p,ref:y}),[n,s,d.disabled,v,p,y,u]);return D.useEffect(()=>{const b=r._options.shouldUnregister||i;r.register(n,{...f.current.rules,...Bt(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(C,S)=>{const N=U(r._fields,C);N&&N._f&&(N._f.mount=S)};if(w(n,!0),b){const C=ut(U(r._options.defaultValues,n));Me(r._defaultValues,n,C),tt(U(r._formValues,n))&&Me(r._formValues,n,C)}return!a&&r.register(n),()=>{(a?b&&!r._state.action:b)?r.unregister(n):w(n,!1)}},[n,r,a,i]),D.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),D.useMemo(()=>({field:x,formState:d,fieldState:g}),[x,d,g])}const cP=t=>t.render(aP(t));var _d=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},Ji=t=>Array.isArray(t)?t:[t],Eh=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},Mt=t=>nt(t)&&!Object.keys(t).length,Nd=t=>t.type==="file",on=t=>typeof t=="function",Fa=t=>{if(!bd)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gv=t=>t.type==="select-multiple",Td=t=>t.type==="radio",lP=t=>Td(t)||Fo(t),el=t=>Fa(t)&&t.isConnected;function uP(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=tt(t)?s++:t[e[s++]];return t}function dP(t){for(const e in t)if(t.hasOwnProperty(e)&&!tt(t[e]))return!1;return!0}function st(t,e){const n=Array.isArray(e)?e:xc(e)?[e]:Sd(e),s=n.length===1?t:uP(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(nt(s)&&Mt(s)||Array.isArray(s)&&dP(s))&&st(t,n.slice(0,-1)),t}var yv=t=>{for(const e in t)if(on(t[e]))return!0;return!1};function La(t,e={}){const n=Array.isArray(t);if(nt(t)||n)for(const s in t)Array.isArray(t[s])||nt(t[s])&&!yv(t[s])?(e[s]=Array.isArray(t[s])?[]:{},La(t[s],e[s])):Ot(t[s])||(e[s]=!0);return e}function vv(t,e,n){const s=Array.isArray(t);if(nt(t)||s)for(const r in t)Array.isArray(t[r])||nt(t[r])&&!yv(t[r])?tt(e)||Jl(n[r])?n[r]=Array.isArray(t[r])?La(t[r],[]):{...La(t[r])}:vv(t[r],Ot(e)?{}:e[r],n[r]):n[r]=!zn(t[r],e[r]);return n}var Vi=(t,e)=>vv(t,e,La(e));const Oh={value:!1,isValid:!1},jh={value:!0,isValid:!0};var xv=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!tt(t[0].attributes.value)?tt(t[0].value)||t[0].value===""?jh:{value:t[0].value,isValid:!0}:jh:Oh}return Oh},bv=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>tt(t)?t:e?t===""?NaN:t&&+t:n&&kn(t)?new Date(t):s?s(t):t;const Ah={isValid:!1,value:null};var wv=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Ah):Ah;function Rh(t){const e=t.ref;return Nd(e)?e.files:Td(e)?wv(t.refs).value:gv(e)?[...e.selectedOptions].map(({value:n})=>n):Fo(e)?xv(t.refs).value:bv(tt(e.value)?t.ref.value:e.value,t)}var fP=(t,e,n,s)=>{const r={};for(const i of t){const o=U(e,i);o&&Me(r,i,o._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Va=t=>t instanceof RegExp,Bi=t=>tt(t)?t:Va(t)?t.source:nt(t)?Va(t.value)?t.value.source:t.value:t,Mh=t=>({isOnSubmit:!t||t===rn.onSubmit,isOnBlur:t===rn.onBlur,isOnChange:t===rn.onChange,isOnAll:t===rn.all,isOnTouch:t===rn.onTouched});const Dh="AsyncFunction";var hP=t=>!!t&&!!t.validate&&!!(on(t.validate)&&t.validate.constructor.name===Dh||nt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Dh)),mP=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ih=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const eo=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=U(t,r);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(eo(a,e))break}else if(nt(a)&&eo(a,e))break}}};function Fh(t,e,n){const s=U(t,n);if(s||xc(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),o=U(e,i),a=U(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};r.pop()}return{name:n}}var pP=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return Mt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!s||rn.all))},gP=(t,e,n)=>!t||!e||t===e||Ji(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),yP=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,vP=(t,e)=>!wd(U(t,e)).length&&st(t,e),xP=(t,e,n)=>{const s=Ji(U(t,n));return Me(s,"root",e[n]),Me(t,n,s),t},ga=t=>kn(t);function Lh(t,e,n="validate"){if(ga(t)||Array.isArray(t)&&t.every(ga)||Bt(t)&&!t)return{type:n,message:ga(t)?t:"",ref:e}}var Ar=t=>nt(t)&&!Va(t)?t:{value:t,message:""},Vh=async(t,e,n,s,r,i)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:g,validate:v,name:p,valueAsNumber:y,mount:x}=t._f,b=U(n,p);if(!x||e.has(p))return{};const w=a?a[0]:o,C=R=>{r&&w.reportValidity&&(w.setCustomValidity(Bt(R)?"":R||""),w.reportValidity())},S={},N=Td(o),T=Fo(o),E=N||T,A=(y||Nd(o))&&tt(o.value)&&tt(b)||Fa(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,M=_d.bind(null,p,s,S),L=(R,I,q,ee=Vn.maxLength,G=Vn.minLength)=>{const Y=R?I:q;S[p]={type:R?ee:G,message:Y,ref:o,...M(R?ee:G,Y)}};if(i?!Array.isArray(b)||!b.length:c&&(!E&&(A||Ot(b))||Bt(b)&&!b||T&&!xv(a).isValid||N&&!wv(a).isValid)){const{value:R,message:I}=ga(c)?{value:!!c,message:c}:Ar(c);if(R&&(S[p]={type:Vn.required,message:I,ref:w,...M(Vn.required,I)},!s))return C(I),S}if(!A&&(!Ot(f)||!Ot(h))){let R,I;const q=Ar(h),ee=Ar(f);if(!Ot(b)&&!isNaN(b)){const G=o.valueAsNumber||b&&+b;Ot(q.value)||(R=G>q.value),Ot(ee.value)||(I=G<ee.value)}else{const G=o.valueAsDate||new Date(b),Y=ce=>new Date(new Date().toDateString()+" "+ce),W=o.type=="time",Z=o.type=="week";kn(q.value)&&b&&(R=W?Y(b)>Y(q.value):Z?b>q.value:G>new Date(q.value)),kn(ee.value)&&b&&(I=W?Y(b)<Y(ee.value):Z?b<ee.value:G<new Date(ee.value))}if((R||I)&&(L(!!R,q.message,ee.message,Vn.max,Vn.min),!s))return C(S[p].message),S}if((u||d)&&!A&&(kn(b)||i&&Array.isArray(b))){const R=Ar(u),I=Ar(d),q=!Ot(R.value)&&b.length>+R.value,ee=!Ot(I.value)&&b.length<+I.value;if((q||ee)&&(L(q,R.message,I.message),!s))return C(S[p].message),S}if(g&&!A&&kn(b)){const{value:R,message:I}=Ar(g);if(Va(R)&&!b.match(R)&&(S[p]={type:Vn.pattern,message:I,ref:o,...M(Vn.pattern,I)},!s))return C(I),S}if(v){if(on(v)){const R=await v(b,n),I=Lh(R,w);if(I&&(S[p]={...I,...M(Vn.validate,I.message)},!s))return C(I.message),S}else if(nt(v)){let R={};for(const I in v){if(!Mt(R)&&!s)break;const q=Lh(await v[I](b,n),w,I);q&&(R={...q,...M(I,q.message)},C(q.message),s&&(S[p]=R))}if(!Mt(R)&&(S[p]={ref:w,...R},!s))return S}}return C(!0),S};const bP={mode:rn.onSubmit,reValidateMode:rn.onChange,shouldFocusError:!0};function wP(t={}){let e={...bP,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:on(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=nt(e.defaultValues)||nt(e.values)?ut(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ut(r),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Eh(),state:Eh()},g=e.criteriaMode===rn.all,v=k=>P=>{clearTimeout(u),u=setTimeout(k,P)},p=async k=>{if(!e.disabled&&(d.isValid||f.isValid||k)){const P=e.resolver?Mt((await T()).errors):await A(s,!0);P!==n.isValid&&h.state.next({isValid:P})}},y=(k,P)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(a.mount)).forEach(j=>{j&&(P?Me(n.validatingFields,j,P):st(n.validatingFields,j))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Mt(n.validatingFields)}))},x=(k,P=[],j,$,V=!0,F=!0)=>{if($&&j&&!e.disabled){if(o.action=!0,F&&Array.isArray(U(s,k))){const K=j(U(s,k),$.argA,$.argB);V&&Me(s,k,K)}if(F&&Array.isArray(U(n.errors,k))){const K=j(U(n.errors,k),$.argA,$.argB);V&&Me(n.errors,k,K),vP(n.errors,k)}if((d.touchedFields||f.touchedFields)&&F&&Array.isArray(U(n.touchedFields,k))){const K=j(U(n.touchedFields,k),$.argA,$.argB);V&&Me(n.touchedFields,k,K)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Vi(r,i)),h.state.next({name:k,isDirty:L(k,P),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Me(i,k,P)},b=(k,P)=>{Me(n.errors,k,P),h.state.next({errors:n.errors})},w=k=>{n.errors=k,h.state.next({errors:n.errors,isValid:!1})},C=(k,P,j,$)=>{const V=U(s,k);if(V){const F=U(i,k,tt(j)?U(r,k):j);tt(F)||$&&$.defaultChecked||P?Me(i,k,P?F:Rh(V._f)):q(k,F),o.mount&&p()}},S=(k,P,j,$,V)=>{let F=!1,K=!1;const fe={name:k};if(!e.disabled){if(!j||$){(d.isDirty||f.isDirty)&&(K=n.isDirty,n.isDirty=fe.isDirty=L(),F=K!==fe.isDirty);const Oe=zn(U(r,k),P);K=!!U(n.dirtyFields,k),Oe?st(n.dirtyFields,k):Me(n.dirtyFields,k,!0),fe.dirtyFields=n.dirtyFields,F=F||(d.dirtyFields||f.dirtyFields)&&K!==!Oe}if(j){const Oe=U(n.touchedFields,k);Oe||(Me(n.touchedFields,k,j),fe.touchedFields=n.touchedFields,F=F||(d.touchedFields||f.touchedFields)&&Oe!==j)}F&&V&&h.state.next(fe)}return F?fe:{}},N=(k,P,j,$)=>{const V=U(n.errors,k),F=(d.isValid||f.isValid)&&Bt(P)&&n.isValid!==P;if(e.delayError&&j?(c=v(()=>b(k,j)),c(e.delayError)):(clearTimeout(u),c=null,j?Me(n.errors,k,j):st(n.errors,k)),(j?!zn(V,j):V)||!Mt($)||F){const K={...$,...F&&Bt(P)?{isValid:P}:{},errors:n.errors,name:k};n={...n,...K},h.state.next(K)}},T=async k=>{y(k,!0);const P=await e.resolver(i,e.context,fP(k||a.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return y(k),P},E=async k=>{const{errors:P}=await T(k);if(k)for(const j of k){const $=U(P,j);$?Me(n.errors,j,$):st(n.errors,j)}else n.errors=P;return P},A=async(k,P,j={valid:!0})=>{for(const $ in k){const V=k[$];if(V){const{_f:F,...K}=V;if(F){const fe=a.array.has(F.name),Oe=V._f&&hP(V._f);Oe&&d.validatingFields&&y([$],!0);const gt=await Vh(V,a.disabled,i,g,e.shouldUseNativeValidation&&!P,fe);if(Oe&&d.validatingFields&&y([$]),gt[F.name]&&(j.valid=!1,P))break;!P&&(U(gt,F.name)?fe?xP(n.errors,gt,F.name):Me(n.errors,F.name,gt[F.name]):st(n.errors,F.name))}!Mt(K)&&await A(K,P,j)}}return j.valid},M=()=>{for(const k of a.unMount){const P=U(s,k);P&&(P._f.refs?P._f.refs.every(j=>!el(j)):!el(P._f.ref))&&se(k)}a.unMount=new Set},L=(k,P)=>!e.disabled&&(k&&P&&Me(i,k,P),!zn(ce(),r)),R=(k,P,j)=>pv(k,a,{...o.mount?i:tt(P)?r:kn(k)?{[k]:P}:P},j,P),I=k=>wd(U(o.mount?i:r,k,e.shouldUnregister?U(r,k,[]):[])),q=(k,P,j={})=>{const $=U(s,k);let V=P;if($){const F=$._f;F&&(!F.disabled&&Me(i,k,bv(P,F)),V=Fa(F.ref)&&Ot(P)?"":P,gv(F.ref)?[...F.ref.options].forEach(K=>K.selected=V.includes(K.value)):F.refs?Fo(F.ref)?F.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(V)?K.checked=!!V.find(fe=>fe===K.value):K.checked=V===K.value||!!V)}):F.refs.forEach(K=>K.checked=K.value===V):Nd(F.ref)?F.ref.value="":(F.ref.value=V,F.ref.type||h.state.next({name:k,values:ut(i)})))}(j.shouldDirty||j.shouldTouch)&&S(k,V,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&Z(k)},ee=(k,P,j)=>{for(const $ in P){if(!P.hasOwnProperty($))return;const V=P[$],F=k+"."+$,K=U(s,F);(a.array.has(k)||nt(V)||K&&!K._f)&&!Zs(V)?ee(F,V,j):q(F,V,j)}},G=(k,P,j={})=>{const $=U(s,k),V=a.array.has(k),F=ut(P);Me(i,k,F),V?(h.array.next({name:k,values:ut(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&j.shouldDirty&&h.state.next({name:k,dirtyFields:Vi(r,i),isDirty:L(k,F)})):$&&!$._f&&!Ot(F)?ee(k,F,j):q(k,F,j),Ih(k,a)&&h.state.next({...n,name:k}),h.state.next({name:o.mount?k:void 0,values:ut(i)})},Y=async k=>{o.mount=!0;const P=k.target;let j=P.name,$=!0;const V=U(s,j),F=Oe=>{$=Number.isNaN(Oe)||Zs(Oe)&&isNaN(Oe.getTime())||zn(Oe,U(i,j,Oe))},K=Mh(e.mode),fe=Mh(e.reValidateMode);if(V){let Oe,gt;const ns=P.type?Rh(V._f):fv(k),qt=k.type===Ia.BLUR||k.type===Ia.FOCUS_OUT,ji=!mP(V._f)&&!e.resolver&&!U(n.errors,j)&&!V._f.deps||yP(qt,U(n.touchedFields,j),n.isSubmitted,fe,K),Lt=Ih(j,a,qt);Me(i,j,ns),qt?(!P||!P.readOnly)&&(V._f.onBlur&&V._f.onBlur(k),c&&c(0)):V._f.onChange&&V._f.onChange(k);const Fn=S(j,ns,qt),Ai=!Mt(Fn)||Lt;if(!qt&&h.state.next({name:j,type:k.type,values:ut(i)}),ji)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?qt&&p():qt||p()),Ai&&h.state.next({name:j,...Lt?{}:Fn});if(!qt&&Lt&&h.state.next({...n}),e.resolver){const{errors:Ri}=await T([j]);if(F(ns),$){const Dc=Fh(n.errors,s,j),Mi=Fh(Ri,s,Dc.name||j);Oe=Mi.error,j=Mi.name,gt=Mt(Ri)}}else y([j],!0),Oe=(await Vh(V,a.disabled,i,g,e.shouldUseNativeValidation))[j],y([j]),F(ns),$&&(Oe?gt=!1:(d.isValid||f.isValid)&&(gt=await A(s,!0)));$&&(V._f.deps&&Z(V._f.deps),N(j,gt,Oe,Fn))}},W=(k,P)=>{if(U(n.errors,P)&&k.focus)return k.focus(),1},Z=async(k,P={})=>{let j,$;const V=Ji(k);if(e.resolver){const F=await E(tt(k)?k:V);j=Mt(F),$=k?!V.some(K=>U(F,K)):j}else k?($=(await Promise.all(V.map(async F=>{const K=U(s,F);return await A(K&&K._f?{[F]:K}:K)}))).every(Boolean),!(!$&&!n.isValid)&&p()):$=j=await A(s);return h.state.next({...!kn(k)||(d.isValid||f.isValid)&&j!==n.isValid?{}:{name:k},...e.resolver||!k?{isValid:j}:{},errors:n.errors}),P.shouldFocus&&!$&&eo(s,W,k?V:a.mount),$},ce=k=>{const P={...o.mount?i:r};return tt(k)?P:kn(k)?U(P,k):k.map(j=>U(P,j))},xe=(k,P)=>({invalid:!!U((P||n).errors,k),isDirty:!!U((P||n).dirtyFields,k),error:U((P||n).errors,k),isValidating:!!U(n.validatingFields,k),isTouched:!!U((P||n).touchedFields,k)}),at=k=>{k&&Ji(k).forEach(P=>st(n.errors,P)),h.state.next({errors:k?n.errors:{}})},Xe=(k,P,j)=>{const $=(U(s,k,{_f:{}})._f||{}).ref,V=U(n.errors,k)||{},{ref:F,message:K,type:fe,...Oe}=V;Me(n.errors,k,{...Oe,...P,ref:$}),h.state.next({name:k,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&$&&$.focus&&$.focus()},Je=(k,P)=>on(k)?h.state.subscribe({next:j=>"values"in j&&k(R(void 0,P),j)}):R(k,P,!0),ct=k=>h.state.subscribe({next:P=>{gP(k.name,P.name,k.exact)&&pP(P,k.formState||d,Ge,k.reRenderRoot)&&k.callback({values:{...i},...n,...P,defaultValues:r})}}).unsubscribe,mt=k=>(o.mount=!0,f={...f,...k.formState},ct({...k,formState:f})),se=(k,P={})=>{for(const j of k?Ji(k):a.mount)a.mount.delete(j),a.array.delete(j),P.keepValue||(st(s,j),st(i,j)),!P.keepError&&st(n.errors,j),!P.keepDirty&&st(n.dirtyFields,j),!P.keepTouched&&st(n.touchedFields,j),!P.keepIsValidating&&st(n.validatingFields,j),!e.shouldUnregister&&!P.keepDefaultValue&&st(r,j);h.state.next({values:ut(i)}),h.state.next({...n,...P.keepDirty?{isDirty:L()}:{}}),!P.keepIsValid&&p()},_e=({disabled:k,name:P})=>{(Bt(k)&&o.mount||k||a.disabled.has(P))&&(k?a.disabled.add(P):a.disabled.delete(P))},Le=(k,P={})=>{let j=U(s,k);const $=Bt(P.disabled)||Bt(e.disabled);return Me(s,k,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:k}},name:k,mount:!0,...P}}),a.mount.add(k),j?_e({disabled:Bt(P.disabled)?P.disabled:e.disabled,name:k}):C(k,!0,P.value),{...$?{disabled:P.disabled||e.disabled}:{},...e.progressive?{required:!!P.required,min:Bi(P.min),max:Bi(P.max),minLength:Bi(P.minLength),maxLength:Bi(P.maxLength),pattern:Bi(P.pattern)}:{},name:k,onChange:Y,onBlur:Y,ref:V=>{if(V){Le(k,P),j=U(s,k);const F=tt(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,K=lP(F),fe=j._f.refs||[];if(K?fe.find(Oe=>Oe===F):F===j._f.ref)return;Me(s,k,{_f:{...j._f,...K?{refs:[...fe.filter(el),F,...Array.isArray(U(r,k))?[{}]:[]],ref:{type:F.type,name:k}}:{ref:F}}}),C(k,!1,void 0,F)}else j=U(s,k,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||P.shouldUnregister)&&!(hv(a.array,k)&&o.action)&&a.unMount.add(k)}}},Se=()=>e.shouldFocusError&&eo(s,W,a.mount),Ne=k=>{Bt(k)&&(h.state.next({disabled:k}),eo(s,(P,j)=>{const $=U(s,j);$&&(P.disabled=$._f.disabled||k,Array.isArray($._f.refs)&&$._f.refs.forEach(V=>{V.disabled=$._f.disabled||k}))},0,!1))},ye=(k,P)=>async j=>{let $;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let V=ut(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:F,values:K}=await T();n.errors=F,V=ut(K)}else await A(s);if(a.disabled.size)for(const F of a.disabled)st(V,F);if(st(n.errors,"root"),Mt(n.errors)){h.state.next({errors:{}});try{await k(V,j)}catch(F){$=F}}else P&&await P({...n.errors},j),Se(),setTimeout(Se);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mt(n.errors)&&!$,submitCount:n.submitCount+1,errors:n.errors}),$)throw $},lt=(k,P={})=>{U(s,k)&&(tt(P.defaultValue)?G(k,ut(U(r,k))):(G(k,P.defaultValue),Me(r,k,ut(P.defaultValue))),P.keepTouched||st(n.touchedFields,k),P.keepDirty||(st(n.dirtyFields,k),n.isDirty=P.defaultValue?L(k,ut(U(r,k))):L()),P.keepError||(st(n.errors,k),d.isValid&&p()),h.state.next({...n}))},X=(k,P={})=>{const j=k?ut(k):r,$=ut(j),V=Mt(k),F=V?r:$;if(P.keepDefaultValues||(r=j),!P.keepValues){if(P.keepDirtyValues){const K=new Set([...a.mount,...Object.keys(Vi(r,i))]);for(const fe of Array.from(K))U(n.dirtyFields,fe)?Me(F,fe,U(i,fe)):G(fe,U(F,fe))}else{if(bd&&tt(k))for(const K of a.mount){const fe=U(s,K);if(fe&&fe._f){const Oe=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(Fa(Oe)){const gt=Oe.closest("form");if(gt){gt.reset();break}}}}if(P.keepFieldsRef)for(const K of a.mount)G(K,U(F,K));else s={}}i=e.shouldUnregister?P.keepDefaultValues?ut(r):{}:ut(F),h.array.next({values:{...F}}),h.state.next({values:{...F}})}a={mount:P.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!P.keepIsValid||!!P.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:P.keepSubmitCount?n.submitCount:0,isDirty:V?!1:P.keepDirty?n.isDirty:!!(P.keepDefaultValues&&!zn(k,r)),isSubmitted:P.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:V?{}:P.keepDirtyValues?P.keepDefaultValues&&i?Vi(r,i):n.dirtyFields:P.keepDefaultValues&&k?Vi(r,k):P.keepDirty?n.dirtyFields:{},touchedFields:P.keepTouched?n.touchedFields:{},errors:P.keepErrors?n.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},re=(k,P)=>X(on(k)?k(i):k,P),Ve=(k,P={})=>{const j=U(s,k),$=j&&j._f;if($){const V=$.refs?$.refs[0]:$.ref;V.focus&&(V.focus(),P.shouldSelect&&on(V.select)&&V.select())}},Ge=k=>{n={...n,...k}},Te={control:{register:Le,unregister:se,getFieldState:xe,handleSubmit:ye,setError:Xe,_subscribe:ct,_runSchema:T,_focusError:Se,_getWatch:R,_getDirty:L,_setValid:p,_setFieldArray:x,_setDisabledField:_e,_setErrors:w,_getFieldArray:I,_reset:X,_resetDefaultValues:()=>on(e.defaultValues)&&e.defaultValues().then(k=>{re(k,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Ne,_subjects:h,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(k){o=k},get _defaultValues(){return r},get _names(){return a},set _names(k){a=k},get _formState(){return n},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:mt,trigger:Z,register:Le,handleSubmit:ye,watch:Je,setValue:G,getValues:ce,reset:re,resetField:lt,clearErrors:at,unregister:se,setError:Xe,setFocus:Ve,getFieldState:xe};return{...Te,formControl:Te}}function eu(t={}){const e=D.useRef(void 0),n=D.useRef(void 0),[s,r]=D.useState({isDirty:!1,isValidating:!1,isLoading:on(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:on(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!on(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=wP(t);e.current={...a,formState:s}}const i=e.current.control;return i._options=t,kd(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),D.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),D.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),D.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),D.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),D.useEffect(()=>{t.values&&!zn(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),D.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=mv(s,i),e.current}const Bh=(t,e,n)=>{if(t&&"reportValidity"in t){const s=U(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},tu=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?Bh(s.ref,n,t):s&&s.refs&&s.refs.forEach(r=>Bh(r,n,t))}},Wh=(t,e)=>{e.shouldUseNativeValidation&&tu(t,e);const n={};for(const s in t){const r=U(e.fields,s),i=Object.assign(t[s]||{},{ref:r&&r.ref});if(SP(e.names||Object.keys(t),s)){const o=Object.assign({},U(n,s));Me(o,"root",i),Me(n,s,o)}else Me(n,s,i)}return n},SP=(t,e)=>{const n=$h(e);return t.some(s=>$h(s).match(`^${n}\\.\\d+`))};function $h(t){return t.replace(/\]|\[/g,"")}function Sv(t,e,n){function s(a,c){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(t),e(a,c);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=c}const r=(n==null?void 0:n.Parent)??Object;class i extends r{}Object.defineProperty(i,"name",{value:t});function o(a){var c;const u=n!=null&&n.Parent?new i:this;s(u,a),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var c,u;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(u=(c=a==null?void 0:a._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class CP extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const kP={};function Cv(t){return kP}function _P(t,e){return typeof e=="bigint"?e.toString():e}const kv=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function na(t){return typeof t=="string"?t:t==null?void 0:t.message}function _v(t,e,n){var r,i,o,a,c,u;const s={...t,path:t.path??[]};if(!t.message){const d=na((o=(i=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??na((a=e==null?void 0:e.error)==null?void 0:a.call(e,t))??na((c=n.customError)==null?void 0:c.call(n,t))??na((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";s.message=d}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}const Nv=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,_P,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},NP=Sv("$ZodError",Nv),Tv=Sv("$ZodError",Nv,{Parent:Error}),TP=t=>(e,n,s,r)=>{const i=s?Object.assign(s,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new CP;if(o.issues.length){const a=new((r==null?void 0:r.Err)??t)(o.issues.map(c=>_v(c,i,Cv())));throw kv(a,r==null?void 0:r.callee),a}return o.value},PP=TP(Tv),EP=t=>async(e,n,s,r)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((r==null?void 0:r.Err)??t)(o.issues.map(c=>_v(c,i,Cv())));throw kv(a,r==null?void 0:r.callee),a}return o.value},OP=EP(Tv);function Uh(t,e){try{var n=t()}catch(s){return e(s)}return n&&n.then?n.then(void 0,e):n}function jP(t,e){for(var n={};t.length;){var s=t[0],r=s.code,i=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var a=s.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[s.code];n[o]=_d(o,e,n,r,u?[].concat(u,s.message):s.message)}t.shift()}return n}function AP(t,e){for(var n={};t.length;){var s=t[0],r=s.code,i=s.message,o=s.path.join(".");if(!n[o])if(s.code==="invalid_union"&&s.errors.length>0){var a=s.errors[0][0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:r};if(s.code==="invalid_union"&&s.errors.forEach(function(d){return d.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[s.code];n[o]=_d(o,e,n,r,u?[].concat(u,s.message):s.message)}t.shift()}return n}function nu(t,e,n){if(n===void 0&&(n={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(t))return function(s,r,i){try{return Promise.resolve(Uh(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(o){return i.shouldUseNativeValidation&&tu({},i),{errors:{},values:n.raw?Object.assign({},s):o}})},function(o){if((function(a){return Array.isArray(a==null?void 0:a.issues)})(o))return{values:{},errors:Wh(jP(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(t))return function(s,r,i){try{return Promise.resolve(Uh(function(){return Promise.resolve((n.mode==="sync"?PP:OP)(t,s,e)).then(function(o){return i.shouldUseNativeValidation&&tu({},i),{errors:{},values:n.raw?Object.assign({},s):o}})},function(o){if((function(a){return a instanceof NP})(o))return{values:{},errors:Wh(AP(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}var Ee;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const o of r)i[o]=o;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of i)o[a]=r[a];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.push(o);return i},t.find=(r,i)=>{for(const o of r)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Ee||(Ee={}));var qh;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qh||(qh={}));const Q=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=t=>{switch(typeof t){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return Number.isNaN(t)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(t)?Q.array:t===null?Q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Q.promise:typeof Map<"u"&&t instanceof Map?Q.map:typeof Set<"u"&&t instanceof Set?Q.set:typeof Date<"u"&&t instanceof Date?Q.date:Q.object;default:return Q.unknown}},B=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let a=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return r(this),s}static assert(e){if(!(e instanceof Xn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)if(r.path.length>0){const i=r.path[0];n[i]=n[i]||[],n[i].push(e(r))}else s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Xn.create=t=>new Xn(t);const su=(t,e)=>{let n;switch(t.code){case B.invalid_type:t.received===Q.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case B.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case B.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ee.assertNever(t)}return{message:n}};let RP=su;function MP(){return RP}const DP=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],o={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let a="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...r,path:i,message:a}};function z(t,e){const n=MP(),s=DP({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===su?void 0:su].filter(r=>!!r)});t.common.issues.push(s)}class Ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return oe;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,o=await r.value;s.push({key:i,value:o})}return Ut.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:o}=r;if(i.status==="aborted"||o.status==="aborted")return oe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}}const oe=Object.freeze({status:"aborted"}),Yi=t=>({status:"dirty",value:t}),Xt=t=>({status:"valid",value:t}),Hh=t=>t.status==="aborted",zh=t=>t.status==="dirty",ui=t=>t.status==="valid",Ba=t=>typeof Promise<"u"&&t instanceof Promise;var J;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(J||(J={}));class Ps{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yh=(t,e)=>{if(ui(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xn(t.common.issues);return this._error=n,this._error}}};function ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,a)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??s??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:r}}class Pe{get description(){return this._def.description}_getType(e){return ls(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ut,ctx:{common:e.parent.common,data:e.data,parsedType:ls(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ba(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){const s={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},r=this._parseSync({data:e,path:s.path,parent:s});return Yh(s,r)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return ui(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(r=(s=i==null?void 0:i.message)==null?void 0:s.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>ui(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ls(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(Ba(r)?r:Promise.resolve(r));return Yh(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const o=e(r),a=()=>i.addIssue({code:B.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new fi({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ks.create(this,this._def)}nullable(){return hi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tn.create(this)}promise(){return Ua.create(this,this._def)}or(e){return Wa.create([this,e],this._def)}and(e){return $a.create(this,e,this._def)}transform(e){return new fi({...ge(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new iu({...ge(this._def),innerType:this,defaultValue:n,typeName:ae.ZodDefault})}brand(){return new rE({typeName:ae.ZodBranded,type:this,...ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ou({...ge(this._def),innerType:this,catchValue:n,typeName:ae.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Pd.create(this,e)}readonly(){return au.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IP=/^c[^\s-]{8,}$/i,FP=/^[0-9a-z]+$/,LP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BP=/^[a-z0-9_-]{21}$/i,WP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$P=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,UP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tl;const HP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,GP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,KP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Pv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",QP=new RegExp(`^${Pv}$`);function Ev(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function XP(t){return new RegExp(`^${Ev(t)}$`)}function JP(t){let e=`${Pv}T${Ev(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function eE(t,e){return!!((e==="v4"||!e)&&HP.test(t)||(e==="v6"||!e)&&YP.test(t))}function tE(t,e){if(!WP.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function nE(t,e){return!!((e==="v4"||!e)&&zP.test(t)||(e==="v6"||!e)&&GP.test(t))}class Ss extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const i=this._getOrReturnCtx(e);return z(i,{code:B.invalid_type,expected:Q.string,received:i.parsedType}),oe}const s=new Ut;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),z(r,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),z(r,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(r=this._getOrReturnCtx(e,r),o?z(r,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&z(r,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")UP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"email",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")tl||(tl=new RegExp(qP,"u")),tl.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"emoji",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")VP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"uuid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")BP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"nanoid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")IP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"cuid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")FP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"cuid2",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")LP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"ulid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),z(r,{validation:"url",code:B.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"regex",code:B.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),z(r,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),z(r,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),z(r,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?JP(i).test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{code:B.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?QP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{code:B.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?XP(i).test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{code:B.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?$P.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"duration",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?eE(e.data,i.version)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"ip",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?tE(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"jwt",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?nE(e.data,i.version)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"cidr",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?KP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"base64",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?ZP.test(e.data)||(r=this._getOrReturnCtx(e,r),z(r,{validation:"base64url",code:B.invalid_string,message:i.message}),s.dirty()):Ee.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:B.invalid_string,...J.errToObj(s)})}_addCheck(e){return new Ss({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...J.errToObj(e)})}url(e){return this._addCheck({kind:"url",...J.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...J.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...J.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...J.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...J.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...J.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...J.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...J.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...J.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...J.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...J.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...J.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...J.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...J.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...J.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...J.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...J.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...J.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...J.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...J.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...J.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...J.errToObj(n)})}nonempty(e){return this.min(1,J.errToObj(e))}trim(){return new Ss({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ss({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ss({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ss.create=t=>new Ss({checks:[],typeName:ae.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ge(t)});function sE(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=Number.parseInt(t.toFixed(r).replace(".","")),o=Number.parseInt(e.toFixed(r).replace(".",""));return i%o/10**r}class ho extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const i=this._getOrReturnCtx(e);return z(i,{code:B.invalid_type,expected:Q.number,received:i.parsedType}),oe}let s;const r=new Ut;for(const i of this._def.checks)i.kind==="int"?Ee.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),z(s,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),z(s,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),z(s,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?sE(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),z(s,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),z(s,{code:B.not_finite,message:i.message}),r.dirty()):Ee.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,J.toString(n))}gt(e,n){return this.setLimit("min",e,!1,J.toString(n))}lte(e,n){return this.setLimit("max",e,!0,J.toString(n))}lt(e,n){return this.setLimit("max",e,!1,J.toString(n))}setLimit(e,n,s,r){return new ho({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:J.toString(r)}]})}_addCheck(e){return new ho({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:J.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:J.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ho.create=t=>new ho({checks:[],typeName:ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class mo extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Q.bigint)return this._getInvalidInput(e);let s;const r=new Ut;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),z(s,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),z(s,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),z(s,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Ee.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return z(n,{code:B.invalid_type,expected:Q.bigint,received:n.parsedType}),oe}gte(e,n){return this.setLimit("min",e,!0,J.toString(n))}gt(e,n){return this.setLimit("min",e,!1,J.toString(n))}lte(e,n){return this.setLimit("max",e,!0,J.toString(n))}lt(e,n){return this.setLimit("max",e,!1,J.toString(n))}setLimit(e,n,s,r){return new mo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:J.toString(r)}]})}_addCheck(e){return new mo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:J.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mo.create=t=>new mo({checks:[],typeName:ae.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ge(t)});class Gh extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const s=this._getOrReturnCtx(e);return z(s,{code:B.invalid_type,expected:Q.boolean,received:s.parsedType}),oe}return Xt(e.data)}}Gh.create=t=>new Gh({typeName:ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ge(t)});class po extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const i=this._getOrReturnCtx(e);return z(i,{code:B.invalid_type,expected:Q.date,received:i.parsedType}),oe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return z(i,{code:B.invalid_date}),oe}const s=new Ut;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),z(r,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),z(r,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):Ee.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:J.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:J.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}po.create=t=>new po({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ae.ZodDate,...ge(t)});class Kh extends Pe{_parse(e){if(this._getType(e)!==Q.symbol){const s=this._getOrReturnCtx(e);return z(s,{code:B.invalid_type,expected:Q.symbol,received:s.parsedType}),oe}return Xt(e.data)}}Kh.create=t=>new Kh({typeName:ae.ZodSymbol,...ge(t)});class Zh extends Pe{_parse(e){if(this._getType(e)!==Q.undefined){const s=this._getOrReturnCtx(e);return z(s,{code:B.invalid_type,expected:Q.undefined,received:s.parsedType}),oe}return Xt(e.data)}}Zh.create=t=>new Zh({typeName:ae.ZodUndefined,...ge(t)});class Qh extends Pe{_parse(e){if(this._getType(e)!==Q.null){const s=this._getOrReturnCtx(e);return z(s,{code:B.invalid_type,expected:Q.null,received:s.parsedType}),oe}return Xt(e.data)}}Qh.create=t=>new Qh({typeName:ae.ZodNull,...ge(t)});class Xh extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return Xt(e.data)}}Xh.create=t=>new Xh({typeName:ae.ZodAny,...ge(t)});class Jh extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xt(e.data)}}Jh.create=t=>new Jh({typeName:ae.ZodUnknown,...ge(t)});class Es extends Pe{_parse(e){const n=this._getOrReturnCtx(e);return z(n,{code:B.invalid_type,expected:Q.never,received:n.parsedType}),oe}}Es.create=t=>new Es({typeName:ae.ZodNever,...ge(t)});class em extends Pe{_parse(e){if(this._getType(e)!==Q.undefined){const s=this._getOrReturnCtx(e);return z(s,{code:B.invalid_type,expected:Q.void,received:s.parsedType}),oe}return Xt(e.data)}}em.create=t=>new em({typeName:ae.ZodVoid,...ge(t)});class Tn extends Pe{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==Q.array)return z(n,{code:B.invalid_type,expected:Q.array,received:n.parsedType}),oe;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(o||a)&&(z(n,{code:o?B.too_big:B.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(z(n,{code:B.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(z(n,{code:B.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>r.type._parseAsync(new Ps(n,o,n.path,a)))).then(o=>Ut.mergeArray(s,o));const i=[...n.data].map((o,a)=>r.type._parseSync(new Ps(n,o,n.path,a)));return Ut.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new Tn({...this._def,minLength:{value:e,message:J.toString(n)}})}max(e,n){return new Tn({...this._def,maxLength:{value:e,message:J.toString(n)}})}length(e,n){return new Tn({...this._def,exactLength:{value:e,message:J.toString(n)}})}nonempty(e){return this.min(1,e)}}Tn.create=(t,e)=>new Tn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...ge(e)});function Mr(t){if(t instanceof rt){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=ks.create(Mr(s))}return new rt({...t._def,shape:()=>e})}else return t instanceof Tn?new Tn({...t._def,type:Mr(t.element)}):t instanceof ks?ks.create(Mr(t.unwrap())):t instanceof hi?hi.create(Mr(t.unwrap())):t instanceof Sr?Sr.create(t.items.map(e=>Mr(e))):t}class rt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ee.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Q.object){const u=this._getOrReturnCtx(e);return z(u,{code:B.invalid_type,expected:Q.object,received:u.parsedType}),oe}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Es&&this._def.unknownKeys==="strip"))for(const u in r.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=i[u],f=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ps(r,f,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Es){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")a.length>0&&(z(r,{code:B.unrecognized_keys,keys:a}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ps(r,f,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ut.mergeObjectSync(s,u)):Ut.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return J.errToObj,new rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,o;const r=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,s).message)??s.defaultError;return n.code==="unrecognized_keys"?{message:J.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new rt({...this._def,unknownKeys:"strip"})}passthrough(){return new rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ae.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new rt({...this._def,catchall:e})}pick(e){const n={};for(const s of Ee.objectKeys(e))e[s]&&this.shape[s]&&(n[s]=this.shape[s]);return new rt({...this._def,shape:()=>n})}omit(e){const n={};for(const s of Ee.objectKeys(this.shape))e[s]||(n[s]=this.shape[s]);return new rt({...this._def,shape:()=>n})}deepPartial(){return Mr(this)}partial(e){const n={};for(const s of Ee.objectKeys(this.shape)){const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}return new rt({...this._def,shape:()=>n})}required(e){const n={};for(const s of Ee.objectKeys(this.shape))if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof ks;)i=i._def.innerType;n[s]=i}return new rt({...this._def,shape:()=>n})}keyof(){return Ov(Ee.objectKeys(this.shape))}}rt.create=(t,e)=>new rt({shape:()=>t,unknownKeys:"strip",catchall:Es.create(),typeName:ae.ZodObject,...ge(e)});rt.strictCreate=(t,e)=>new rt({shape:()=>t,unknownKeys:"strict",catchall:Es.create(),typeName:ae.ZodObject,...ge(e)});rt.lazycreate=(t,e)=>new rt({shape:t,unknownKeys:"strip",catchall:Es.create(),typeName:ae.ZodObject,...ge(e)});class Wa extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Xn(a.ctx.common.issues));return z(n,{code:B.invalid_union,unionErrors:o}),oe}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const c of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Xn(c));return z(n,{code:B.invalid_union,unionErrors:a}),oe}}get options(){return this._def.options}}Wa.create=(t,e)=>new Wa({options:t,typeName:ae.ZodUnion,...ge(e)});function ru(t,e){const n=ls(t),s=ls(e);if(t===e)return{valid:!0,data:t};if(n===Q.object&&s===Q.object){const r=Ee.objectKeys(e),i=Ee.objectKeys(t).filter(a=>r.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=ru(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===Q.array&&s===Q.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=ru(o,a);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===Q.date&&s===Q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class $a extends Pe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,o)=>{if(Hh(i)||Hh(o))return oe;const a=ru(i.value,o.value);return a.valid?((zh(i)||zh(o))&&n.dirty(),{status:n.value,value:a.data}):(z(s,{code:B.invalid_intersection_types}),oe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}$a.create=(t,e,n)=>new $a({left:t,right:e,typeName:ae.ZodIntersection,...ge(n)});class Sr extends Pe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Q.array)return z(s,{code:B.invalid_type,expected:Q.array,received:s.parsedType}),oe;if(s.data.length<this._def.items.length)return z(s,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&s.data.length>this._def.items.length&&(z(s,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ps(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ut.mergeArray(n,o)):Ut.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Sr({...this._def,rest:e})}}Sr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sr({items:t,typeName:ae.ZodTuple,rest:null,...ge(e)})};class tm extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Q.map)return z(s,{code:B.invalid_type,expected:Q.map,received:s.parsedType}),oe;const r=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([a,c],u)=>({key:r._parse(new Ps(s,a,s.path,[u,"key"])),value:i._parse(new Ps(s,c,s.path,[u,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return oe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return oe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}tm.create=(t,e,n)=>new tm({valueType:e,keyType:t,typeName:ae.ZodMap,...ge(n)});class go extends Pe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Q.set)return z(s,{code:B.invalid_type,expected:Q.set,received:s.parsedType}),oe;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(z(s,{code:B.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(z(s,{code:B.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return oe;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...s.data.values()].map((c,u)=>i._parse(new Ps(s,c,s.path,u)));return s.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new go({...this._def,minSize:{value:e,message:J.toString(n)}})}max(e,n){return new go({...this._def,maxSize:{value:e,message:J.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}go.create=(t,e)=>new go({valueType:t,minSize:null,maxSize:null,typeName:ae.ZodSet,...ge(e)});class nm extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nm.create=(t,e)=>new nm({getter:t,typeName:ae.ZodLazy,...ge(e)});class sm extends Pe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return z(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}sm.create=(t,e)=>new sm({value:t,typeName:ae.ZodLiteral,...ge(e)});function Ov(t,e){return new di({values:t,typeName:ae.ZodEnum,...ge(e)})}class di extends Pe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return z(n,{expected:Ee.joinValues(s),received:n.parsedType,code:B.invalid_type}),oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return z(n,{received:n.data,code:B.invalid_enum_value,options:s}),oe}return Xt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return di.create(e,{...this._def,...n})}exclude(e,n=this._def){return di.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}di.create=Ov;class rm extends Pe{_parse(e){const n=Ee.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Q.string&&s.parsedType!==Q.number){const r=Ee.objectValues(n);return z(s,{expected:Ee.joinValues(r),received:s.parsedType,code:B.invalid_type}),oe}if(this._cache||(this._cache=new Set(Ee.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Ee.objectValues(n);return z(s,{received:s.data,code:B.invalid_enum_value,options:r}),oe}return Xt(e.data)}get enum(){return this._def.values}}rm.create=(t,e)=>new rm({values:t,typeName:ae.ZodNativeEnum,...ge(e)});class Ua extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.promise&&n.common.async===!1)return z(n,{code:B.invalid_type,expected:Q.promise,received:n.parsedType}),oe;const s=n.parsedType===Q.promise?n.data:Promise.resolve(n.data);return Xt(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ua.create=(t,e)=>new Ua({type:t,typeName:ae.ZodPromise,...ge(e)});class fi extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:o=>{z(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return oe;const c=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return c.status==="aborted"?oe:c.status==="dirty"||n.value==="dirty"?Yi(c.value):c});{if(n.value==="aborted")return oe;const a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?oe:a.status==="dirty"||n.value==="dirty"?Yi(a.value):a}}if(r.type==="refinement"){const o=a=>{const c=r.refinement(a,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?oe:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?oe:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ui(o))return oe;const a=r.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>ui(o)?Promise.resolve(r.transform(o.value,i)).then(a=>({status:n.value,value:a})):oe);Ee.assertNever(r)}}fi.create=(t,e,n)=>new fi({schema:t,typeName:ae.ZodEffects,effect:e,...ge(n)});fi.createWithPreprocess=(t,e,n)=>new fi({schema:e,effect:{type:"preprocess",transform:t},typeName:ae.ZodEffects,...ge(n)});class ks extends Pe{_parse(e){return this._getType(e)===Q.undefined?Xt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ks.create=(t,e)=>new ks({innerType:t,typeName:ae.ZodOptional,...ge(e)});class hi extends Pe{_parse(e){return this._getType(e)===Q.null?Xt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hi.create=(t,e)=>new hi({innerType:t,typeName:ae.ZodNullable,...ge(e)});class iu extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===Q.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ge(e)});class ou extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ba(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xn(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Xn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ge(e)});class im extends Pe{_parse(e){if(this._getType(e)!==Q.nan){const s=this._getOrReturnCtx(e);return z(s,{code:B.invalid_type,expected:Q.nan,received:s.parsedType}),oe}return{status:"valid",value:e.data}}}im.create=t=>new im({typeName:ae.ZodNaN,...ge(t)});class rE extends Pe{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Pd extends Pe{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?oe:i.status==="dirty"?(n.dirty(),Yi(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?oe:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new Pd({in:e,out:n,typeName:ae.ZodPipeline})}}class au extends Pe{_parse(e){const n=this._def.innerType._parse(e),s=r=>(ui(r)&&(r.value=Object.freeze(r.value)),r);return Ba(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}au.create=(t,e)=>new au({innerType:t,typeName:ae.ZodReadonly,...ge(e)});var ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ae||(ae={}));const Ir=Ss.create,iE=po.create;Es.create;Tn.create;const Ed=rt.create;Wa.create;$a.create;Sr.create;const oE=di.create;Ua.create;ks.create;hi.create;const aE={sm:"h-[40px]",md:"h-[56px]",lg:"h-[200px]"},cE="w-full rounded-[24px] transition-all px-6 py-4 text-base placeholder:text-muted-foreground bg-background shadow-[0px_4px_20px_0px_rgba(0,0,0,0.05)] outline-none border-none focus:outline-none focus:border-none focus:ring-2 focus:ring-ring",Od=m.forwardRef(({className:t,type:e="text",size:n="md",autoComplete:s,name:r,...i},o)=>{const a=we(cE,aE[n],t);return e==="textarea"?l.jsx("textarea",{className:we(a,"resize-none align-top scrollbar-hide"),ref:o,name:r,autoComplete:s,...i}):l.jsx("input",{type:e,className:a,ref:o,name:r,autoComplete:s,...i})});Od.displayName="Input";var lE=Object.defineProperty,uE=Object.defineProperties,dE=Object.getOwnPropertyDescriptors,qa=Object.getOwnPropertySymbols,jv=Object.prototype.hasOwnProperty,Av=Object.prototype.propertyIsEnumerable,om=(t,e,n)=>e in t?lE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fE=(t,e)=>{for(var n in e||(e={}))jv.call(e,n)&&om(t,n,e[n]);if(qa)for(var n of qa(e))Av.call(e,n)&&om(t,n,e[n]);return t},hE=(t,e)=>uE(t,dE(e)),mE=(t,e)=>{var n={};for(var s in t)jv.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&qa)for(var s of qa(t))e.indexOf(s)<0&&Av.call(t,s)&&(n[s]=t[s]);return n};function pE(t){let e=setTimeout(t,0),n=setTimeout(t,10),s=setTimeout(t,50);return[e,n,s]}function gE(t){let e=m.useRef();return m.useEffect(()=>{e.current=t}),e.current}var yE=18,Rv=40,vE=`${Rv}px`,xE=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function bE({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:s}){let[r,i]=m.useState(!1),[o,a]=m.useState(!1),[c,u]=m.useState(!1),d=m.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&r&&o,[r,o,n]),f=m.useCallback(()=>{let h=t.current,g=e.current;if(!h||!g||c||n==="none")return;let v=h,p=v.getBoundingClientRect().left+v.offsetWidth,y=v.getBoundingClientRect().top+v.offsetHeight/2,x=p-yE,b=y;document.querySelectorAll(xE).length===0&&document.elementFromPoint(x,b)===h||(i(!0),u(!0))},[t,e,c,n]);return m.useEffect(()=>{let h=t.current;if(!h||n==="none")return;function g(){let p=window.innerWidth-h.getBoundingClientRect().right;a(p>=Rv)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[t,n]),m.useEffect(()=>{let h=s||document.activeElement===e.current;if(n==="none"||!h)return;let g=setTimeout(f,0),v=setTimeout(f,2e3),p=setTimeout(f,5e3),y=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(p),clearTimeout(y)}},[e,s,n,f]),{hasPWMBadge:r,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:vE}}var Mv=m.createContext({}),Dv=m.forwardRef((t,e)=>{var n=t,{value:s,onChange:r,maxLength:i,textAlign:o="left",pattern:a,placeholder:c,inputMode:u="numeric",onComplete:d,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:h,containerClassName:g,noScriptCSSFallback:v=wE,render:p,children:y}=n,x=mE(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),b,w,C,S,N;let[T,E]=m.useState(typeof x.defaultValue=="string"?x.defaultValue:""),A=s??T,M=gE(A),L=m.useCallback(X=>{r==null||r(X),E(X)},[r]),R=m.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),I=m.useRef(null),q=m.useRef(null),ee=m.useRef({value:A,onChange:L,isIOS:typeof window<"u"&&((w=(b=window==null?void 0:window.CSS)==null?void 0:b.supports)==null?void 0:w.call(b,"-webkit-touch-callout","none"))}),G=m.useRef({prev:[(C=I.current)==null?void 0:C.selectionStart,(S=I.current)==null?void 0:S.selectionEnd,(N=I.current)==null?void 0:N.selectionDirection]});m.useImperativeHandle(e,()=>I.current,[]),m.useEffect(()=>{let X=I.current,re=q.current;if(!X||!re)return;ee.current.value!==X.value&&ee.current.onChange(X.value),G.current.prev=[X.selectionStart,X.selectionEnd,X.selectionDirection];function Ve(){if(document.activeElement!==X){at(null),Je(null);return}let Te=X.selectionStart,k=X.selectionEnd,P=X.selectionDirection,j=X.maxLength,$=X.value,V=G.current.prev,F=-1,K=-1,fe;if($.length!==0&&Te!==null&&k!==null){let qt=Te===k,ji=Te===$.length&&$.length<j;if(qt&&!ji){let Lt=Te;if(Lt===0)F=0,K=1,fe="forward";else if(Lt===j)F=Lt-1,K=Lt,fe="backward";else if(j>1&&$.length>1){let Fn=0;if(V[0]!==null&&V[1]!==null){fe=Lt<V[1]?"backward":"forward";let Ai=V[0]===V[1]&&V[0]<j;fe==="backward"&&!Ai&&(Fn=-1)}F=Fn+Lt,K=Fn+Lt+1}}F!==-1&&K!==-1&&F!==K&&I.current.setSelectionRange(F,K,fe)}let Oe=F!==-1?F:Te,gt=K!==-1?K:k,ns=fe??P;at(Oe),Je(gt),G.current.prev=[Oe,gt,ns]}if(document.addEventListener("selectionchange",Ve,{capture:!0}),Ve(),document.activeElement===X&&ce(!0),!document.getElementById("input-otp-style")){let Te=document.createElement("style");if(Te.id="input-otp-style",document.head.appendChild(Te),Te.sheet){let k="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Wi(Te.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Wi(Te.sheet,`[data-input-otp]:autofill { ${k} }`),Wi(Te.sheet,`[data-input-otp]:-webkit-autofill { ${k} }`),Wi(Te.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Wi(Te.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Ge=()=>{re&&re.style.setProperty("--root-height",`${X.clientHeight}px`)};Ge();let pt=new ResizeObserver(Ge);return pt.observe(X),()=>{document.removeEventListener("selectionchange",Ve,{capture:!0}),pt.disconnect()}},[]);let[Y,W]=m.useState(!1),[Z,ce]=m.useState(!1),[xe,at]=m.useState(null),[Xe,Je]=m.useState(null);m.useEffect(()=>{pE(()=>{var X,re,Ve,Ge;(X=I.current)==null||X.dispatchEvent(new Event("input"));let pt=(re=I.current)==null?void 0:re.selectionStart,Te=(Ve=I.current)==null?void 0:Ve.selectionEnd,k=(Ge=I.current)==null?void 0:Ge.selectionDirection;pt!==null&&Te!==null&&(at(pt),Je(Te),G.current.prev=[pt,Te,k])})},[A,Z]),m.useEffect(()=>{M!==void 0&&A!==M&&M.length<i&&A.length===i&&(d==null||d(A))},[i,d,M,A]);let ct=bE({containerRef:q,inputRef:I,pushPasswordManagerStrategy:f,isFocused:Z}),mt=m.useCallback(X=>{let re=X.currentTarget.value.slice(0,i);if(re.length>0&&R&&!R.test(re)){X.preventDefault();return}typeof M=="string"&&re.length<M.length&&document.dispatchEvent(new Event("selectionchange")),L(re)},[i,L,M,R]),se=m.useCallback(()=>{var X;if(I.current){let re=Math.min(I.current.value.length,i-1),Ve=I.current.value.length;(X=I.current)==null||X.setSelectionRange(re,Ve),at(re),Je(Ve)}ce(!0)},[i]),_e=m.useCallback(X=>{var re,Ve;let Ge=I.current;if(!h&&(!ee.current.isIOS||!X.clipboardData||!Ge))return;let pt=X.clipboardData.getData("text/plain"),Te=h?h(pt):pt;X.preventDefault();let k=(re=I.current)==null?void 0:re.selectionStart,P=(Ve=I.current)==null?void 0:Ve.selectionEnd,j=(k!==P?A.slice(0,k)+Te+A.slice(P):A.slice(0,k)+Te+A.slice(k)).slice(0,i);if(j.length>0&&R&&!R.test(j))return;Ge.value=j,L(j);let $=Math.min(j.length,i-1),V=j.length;Ge.setSelectionRange($,V),at($),Je(V)},[i,L,R,A]),Le=m.useMemo(()=>({position:"relative",cursor:x.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[x.disabled]),Se=m.useMemo(()=>({position:"absolute",inset:0,width:ct.willPushPWMBadge?`calc(100% + ${ct.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ct.willPushPWMBadge?`inset(0 ${ct.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ct.PWM_BADGE_SPACE_WIDTH,ct.willPushPWMBadge,o]),Ne=m.useMemo(()=>m.createElement("input",hE(fE({autoComplete:x.autoComplete||"one-time-code"},x),{"data-input-otp":!0,"data-input-otp-placeholder-shown":A.length===0||void 0,"data-input-otp-mss":xe,"data-input-otp-mse":Xe,inputMode:u,pattern:R==null?void 0:R.source,"aria-placeholder":c,style:Se,maxLength:i,value:A,ref:I,onPaste:X=>{var re;_e(X),(re=x.onPaste)==null||re.call(x,X)},onChange:mt,onMouseOver:X=>{var re;W(!0),(re=x.onMouseOver)==null||re.call(x,X)},onMouseLeave:X=>{var re;W(!1),(re=x.onMouseLeave)==null||re.call(x,X)},onFocus:X=>{var re;se(),(re=x.onFocus)==null||re.call(x,X)},onBlur:X=>{var re;ce(!1),(re=x.onBlur)==null||re.call(x,X)}})),[mt,se,_e,u,Se,i,Xe,xe,x,R==null?void 0:R.source,A]),ye=m.useMemo(()=>({slots:Array.from({length:i}).map((X,re)=>{var Ve;let Ge=Z&&xe!==null&&Xe!==null&&(xe===Xe&&re===xe||re>=xe&&re<Xe),pt=A[re]!==void 0?A[re]:null,Te=A[0]!==void 0?null:(Ve=c==null?void 0:c[re])!=null?Ve:null;return{char:pt,placeholderChar:Te,isActive:Ge,hasFakeCaret:Ge&&pt===null}}),isFocused:Z,isHovering:!x.disabled&&Y}),[Z,Y,i,Xe,xe,x.disabled,A]),lt=m.useMemo(()=>p?p(ye):m.createElement(Mv.Provider,{value:ye},y),[y,ye,p]);return m.createElement(m.Fragment,null,v!==null&&m.createElement("noscript",null,m.createElement("style",null,v)),m.createElement("div",{ref:q,"data-input-otp-container":!0,style:Le,className:g},lt,m.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ne)))});Dv.displayName="Input";function Wi(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var wE=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Iv=m.forwardRef(({className:t,containerClassName:e,...n},s)=>l.jsx(Dv,{ref:s,containerClassName:we("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:we("disabled:cursor-not-allowed",t),...n}));Iv.displayName="InputOTP";const Fv=m.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:we("flex items-center",t),...e}));Fv.displayName="InputOTPGroup";const qs=m.forwardRef(({index:t,className:e,...n},s)=>{const r=m.useContext(Mv),{char:i,hasFakeCaret:o,isActive:a}=r.slots[t];return l.jsxs("div",{ref:s,className:we("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,o&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});qs.displayName="InputOTPSlot";const SE=m.forwardRef(({...t},e)=>l.jsx("div",{ref:e,role:"separator",...t,children:l.jsx(C0,{})}));SE.displayName="InputOTPSeparator";var CE="Label",Lv=m.forwardRef((t,e)=>l.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Lv.displayName=CE;var Vv=Lv;const kE=ud("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bv=m.forwardRef(({className:t,...e},n)=>l.jsx(Vv,{ref:n,className:we(kE(),t),...e}));Bv.displayName=Vv.displayName;const cu=rP,Wv=m.createContext({}),Ys=({...t})=>l.jsx(Wv.Provider,{value:{name:t.name},children:l.jsx(cP,{...t})}),wc=()=>{const t=m.useContext(Wv),e=m.useContext($v),{getFieldState:n,formState:s}=bc(),r=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},$v=m.createContext({}),Wn=m.forwardRef(({className:t,...e},n)=>{const s=m.useId();return l.jsx($v.Provider,{value:{id:s},children:l.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});Wn.displayName="FormItem";const $n=m.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:r}=wc();return l.jsx(Bv,{ref:n,className:we(s&&"text-destructive",t),htmlFor:r,...e})});$n.displayName="FormLabel";const us=m.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:i}=wc();return l.jsx(ag,{ref:e,id:s,"aria-describedby":n?`${r} ${i}`:`${r}`,"aria-invalid":!!n,...t})});us.displayName="FormControl";const _E=m.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=wc();return l.jsx("p",{ref:n,id:s,className:we("text-sm text-muted-foreground",t),...e})});_E.displayName="FormDescription";const ds=m.forwardRef(({className:t,children:e,...n},s)=>{const{error:r,formMessageId:i}=wc(),o=r?String((r==null?void 0:r.message)??""):e;return o?l.jsx("p",{ref:s,id:i,className:we("text-sm font-medium text-destructive",t),...n,children:o}):null});ds.displayName="FormMessage";const NE=()=>Ds({mutationFn:t=>md.sendSms(t),onSuccess:(t,e)=>{const n=e.isDev;Ie.success("SMS код отправлен!",{description:n?"Режим разработки: код отправлен в консоль":"Проверьте ваш телефон и введите полученный код",duration:5e3}),n&&console.log("🔧 DEV MODE: SMS код отправлен для номера",e.phoneNumber)},onError:t=>{var n,s;console.error("Ошибка отправки SMS:",t);const e=((s=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:s.message)||(t==null?void 0:t.message)||"Произошла ошибка при отправке SMS кода";Ie.error("Ошибка отправки SMS",{description:e,duration:5e3})}}),TE=()=>{const t=_r(),e=Dn();return Ds({mutationFn:n=>md.verifySms(n),onSuccess:n=>{localStorage.setItem("accessToken",n.accessToken),localStorage.setItem("refreshToken",n.refreshToken),e.invalidateQueries({queryKey:["me"]}),Ie.success("Добро пожаловать!",{description:`Привет, ${n.user.name}! Вы успешно вошли в систему`,duration:4e3}),t("/dashboard")},onError:n=>{var r,i;console.error("Ошибка верификации SMS:",n);const s=((i=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:i.message)||(n==null?void 0:n.message)||"Неверный код подтверждения";return Ie.error("Ошибка входа",{description:s,duration:5e3}),{clearCode:!0}}})},PE=Ed({phoneNumber:Ir().min(1,"Введите номер телефона").regex(/^\+?[1-9][\d\s]{1,14}$/,"Введите корректный номер телефона")}),EE=Ed({code:Ir().min(4,"Код должен содержать минимум 4 цифры").max(6,"Код должен содержать максимум 6 цифр").regex(/^\d+$/,"Код должен содержать только цифры")}),OE=({isOpen:t,onClose:e})=>{const[n,s]=m.useState("phone"),[r,i]=m.useState(""),[o,a]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,g]=m.useState(""),v=m.useRef(null),{mutateAsync:p,isPending:y}=NE(),{mutateAsync:x,isPending:b}=TE(),w=eu({resolver:nu(PE),defaultValues:{phoneNumber:""}}),C=eu({resolver:nu(EE),defaultValues:{code:""}}),S=!1,N=async M=>{a(!0);try{const L=await p({phoneNumber:M.phoneNumber,isDev:S});i(M.phoneNumber),S&&(L!=null&&L.code),s("code"),setTimeout(()=>{C.reset({code:""}),C.setValue("code","")},100)}catch(L){console.error("Ошибка отправки SMS:",L)}finally{a(!1)}},T=async M=>{a(!0);try{await x({phoneNumber:r,code:M.code}),e()}catch(L){console.error("Ошибка верификации SMS:",L),u(!0),C.reset({code:""}),C.setValue("code",""),setTimeout(()=>{u(!1)},3e3),setTimeout(()=>{var R;(R=v.current)==null||R.focus()},100)}finally{a(!1),f(!1)}},E=()=>{s("phone"),C.reset({code:""}),C.setValue("code","")},A=()=>{s("phone"),i(""),u(!1),f(!1),g(""),w.reset(),C.reset(),e()};return m.useEffect(()=>{n==="code"&&v.current&&(C.reset({code:""}),C.setValue("code",""),setTimeout(()=>{var M;(M=v.current)==null||M.focus()},100))},[n,C]),l.jsx(Nr,{open:t,onOpenChange:A,children:l.jsxs(Is,{className:"max-w-md mx-auto",children:[l.jsxs(Fs,{children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(Ls,{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:l.jsx(Jp,{className:"h-4 w-4 text-primary-foreground"})}),n==="phone"?"Вход по SMS":"Подтверждение кода"]})}),l.jsx("p",{className:"text-muted-foreground text-sm",children:n==="phone"?"Введите номер телефона для получения кода":`Код отправлен на номер ${r}`}),window.location.hostname==="localhost"&&l.jsxs("div",{className:"mt-2 px-3 py-2 bg-yellow-100 border border-yellow-300 rounded-lg",children:[l.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:"Режим разработки"}),h&&l.jsx("div",{className:"mt-2 p-2 bg-yellow-200 rounded border border-yellow-400",children:l.jsxs("p",{className:"text-xs text-yellow-900 font-mono",children:["Код с сервера: ",l.jsx("span",{className:"font-bold text-lg",children:h})]})})]})]}),l.jsx("div",{className:"space-y-6",children:n==="phone"?l.jsx(cu,{...w,children:l.jsxs("form",{onSubmit:w.handleSubmit(N),className:"space-y-4",children:[l.jsx(Ys,{control:w.control,name:"phoneNumber",render:({field:M})=>l.jsxs(Wn,{children:[l.jsx($n,{className:"text-sm font-medium",children:"Номер телефона"}),l.jsx(us,{children:l.jsxs("div",{className:"relative",children:[l.jsx(Xp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Od,{...M,type:"tel",placeholder:"+375 29 123 45 67",className:"pl-10",autoComplete:"tel"})]})}),l.jsx(ds,{})]})}),l.jsx(me,{type:"submit",className:"w-full",disabled:o||y,children:o||y?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground mr-2"}),"Отправка..."]}):"Отправить код"})]})}):l.jsx(cu,{...C,children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ys,{control:C.control,name:"code",render:({field:M})=>l.jsxs(Wn,{children:[l.jsx($n,{className:"text-sm font-medium",children:"Код подтверждения"}),l.jsx(us,{children:l.jsx(Iv,{maxLength:6,value:M.value||"",onChange:L=>{console.log("OTP onChange:",L),M.onChange(L),C.setValue("code",L),C.trigger("code"),c&&u(!1),L.length===6&&!o&&!b&&!d&&(console.log("Автоматическая отправка формы"),f(!0),setTimeout(()=>{T({code:L})},500))},ref:v,children:l.jsxs(Fv,{className:`justify-center ${c?"border-red-500":""}`,children:[l.jsx(qs,{index:0,className:c?"border-red-500 bg-red-50":""}),l.jsx(qs,{index:1,className:c?"border-red-500 bg-red-50":""}),l.jsx(qs,{index:2,className:c?"border-red-500 bg-red-50":""}),l.jsx(qs,{index:3,className:c?"border-red-500 bg-red-50":""}),l.jsx(qs,{index:4,className:c?"border-red-500 bg-red-50":""}),l.jsx(qs,{index:5,className:c?"border-red-500 bg-red-50":""})]})})}),l.jsx(ds,{})]})}),l.jsxs("div",{className:"space-y-3",children:[(o||b||d)&&l.jsxs("div",{className:"flex items-center justify-center py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Проверка кода..."})]}),S,l.jsxs(me,{type:"button",variant:"outline",onClick:E,className:"w-full",disabled:o||b||d,children:[l.jsx(k0,{className:"h-4 w-4 mr-2"}),"Изменить номер"]}),l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Вы соглашаетесь с политикой конфиденциальности и условиями использования"})]})]})})})]})})},Sc=()=>{const{data:t,isLoading:e}=wt(),n=_r(),[s,r]=m.useState(!1),[i,o]=m.useState(!1),[a,c]=m.useState(!1),u=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),r(!1),Ie.success("До свидания!",{description:"Вы успешно вышли из системы",duration:3e3}),n("/"),window.location.reload()},d=()=>{r(!1),c(!0)},f=()=>{r(!1),n("/dashboard")},h=()=>{r(!s)},g=()=>{o(!0)};return l.jsxs("header",{className:"bg-card border-b border-border shadow-sm",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("button",{onClick:()=>n("/"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:l.jsx("img",{src:"/icons/logo.png",alt:"ЧистоДом",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"})}),l.jsx("div",{className:"hidden md:flex items-center gap-2",children:t?e?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(li,{}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Загрузка..."})]}):t?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:g,className:"flex items-center gap-3 mr-4 hover:bg-muted/50 rounded-lg p-2 transition-colors",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:t.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.role==="customer"?"Клиент":t.role==="currier"?"Курьер":t.role==="admin"?"Администратор":t.role})]}),l.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:l.jsx(ao,{className:"h-4 w-4 text-primary-foreground"})})]}),l.jsxs(me,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[l.jsx(Nf,{className:"h-4 w-4"}),"Личный кабинет"]}),l.jsxs(me,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center gap-2 ",children:[l.jsx(Yo,{className:"h-4 w-4"}),"Выйти"]})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(me,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"h-4 w-4"}),"Войти"]}),l.jsxs(me,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center gap-2 text-destructive hover:text-destructive/80",children:[l.jsx(Yo,{className:"h-4 w-4"}),"Выйти"]})]}):l.jsxs(me,{onClick:d,className:"flex items-center gap-2","data-testid":"sms-login-button",children:[l.jsx(Dr,{className:"h-4 w-4"}),"Войти"]})}),l.jsx("div",{className:"md:hidden",children:l.jsx(me,{variant:"ghost",size:"sm",onClick:h,className:"p-2",children:s?l.jsx(Hu,{className:"h-5 w-5"}):l.jsx(_0,{className:"h-5 w-5"})})})]}),s&&l.jsx("div",{className:"md:hidden border-t border-border bg-card",children:l.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:t?e?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx(li,{}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"Загрузка..."})]}):t?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:g,className:"flex items-center gap-3 px-3 py-2 border-b border-border mb-2 w-full hover:bg-muted/50 rounded-lg transition-colors",children:[l.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:l.jsx(ao,{className:"h-5 w-5 text-primary-foreground"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:t.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.role==="customer"?"Клиент":t.role==="currier"?"Курьер":t.role==="admin"?"Администратор":t.role})]})]}),l.jsxs(me,{onClick:f,className:"w-full justify-start flex items-center gap-2",variant:"ghost",children:[l.jsx(Nf,{className:"h-4 w-4"}),"Личный кабинет"]}),l.jsxs(me,{onClick:u,className:"w-full justify-start flex items-center gap-2 text-destructive hover:text-destructive/80",variant:"ghost",children:[l.jsx(Yo,{className:"h-4 w-4"}),"Выйти"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(me,{onClick:d,className:"w-full justify-start flex items-center gap-2",variant:"ghost",children:[l.jsx(Dr,{className:"h-4 w-4"}),"Войти"]}),l.jsxs(me,{onClick:u,className:"w-full justify-start flex items-center gap-2 text-destructive hover:text-destructive/80",variant:"ghost",children:[l.jsx(Yo,{className:"h-4 w-4"}),"Выйти"]})]}):l.jsxs(me,{onClick:d,className:"w-full justify-start flex items-center gap-2",variant:"ghost",children:[l.jsx(Dr,{className:"h-4 w-4"}),"Войти"]})})})]}),t&&l.jsx(tP,{isOpen:i,onClose:()=>o(!1),user:t}),l.jsx(OE,{isOpen:a,onClose:()=>c(!1)})]})},Uv=m.createContext({});function jE(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const jd=typeof window<"u",AE=jd?m.useLayoutEffect:m.useEffect,Ad=m.createContext(null);function Rd(t,e){t.indexOf(e)===-1&&t.push(e)}function Md(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jn=(t,e,n)=>n>e?e:n<t?t:n;let Dd=()=>{};const es={},qv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Hv(t){return typeof t=="object"&&t!==null}const zv=t=>/^0[^.\s]+$/u.test(t);function Id(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qt=t=>t,RE=(t,e)=>n=>e(t(n)),Lo=(...t)=>t.reduce(RE),yo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Fd{constructor(){this.subscriptions=[]}add(e){return Rd(this.subscriptions,e),()=>Md(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pn=t=>t*1e3,En=t=>t/1e3;function Yv(t,e){return e?t*(1e3/e):0}const Gv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ME=1e-7,DE=12;function IE(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=Gv(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>ME&&++a<DE);return o}function Vo(t,e,n,s){if(t===e&&n===s)return Qt;const r=i=>IE(i,0,1,t,n);return i=>i===0||i===1?i:Gv(r(i),e,s)}const Kv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Zv=t=>e=>1-t(1-e),Qv=Vo(.33,1.53,.69,.99),Ld=Zv(Qv),Xv=Kv(Ld),Jv=t=>(t*=2)<1?.5*Ld(t):.5*(2-Math.pow(2,-10*(t-1))),Vd=t=>1-Math.sin(Math.acos(t)),ex=Zv(Vd),tx=Kv(Vd),FE=Vo(.42,0,1,1),LE=Vo(0,0,.58,1),nx=Vo(.42,0,.58,1),VE=t=>Array.isArray(t)&&typeof t[0]!="number",sx=t=>Array.isArray(t)&&typeof t[0]=="number",BE={linear:Qt,easeIn:FE,easeInOut:nx,easeOut:LE,circIn:Vd,circInOut:tx,circOut:ex,backIn:Ld,backInOut:Xv,backOut:Qv,anticipate:Jv},WE=t=>typeof t=="string",am=t=>{if(sx(t)){Dd(t.length===4);const[e,n,s,r]=t;return Vo(e,n,s,r)}else if(WE(t))return BE[t];return t},sa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $E(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,f=!1,h=!1)=>{const v=h&&r?n:s;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const UE=40;function rx(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=sa.reduce((w,C)=>(w[C]=$E(i),w),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:v}=o,p=()=>{const w=es.useManualTiming?r.timestamp:performance.now();n=!1,es.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(w-r.timestamp,UE),1)),r.timestamp=w,r.isProcessing=!0,a.process(r),c.process(r),u.process(r),d.process(r),f.process(r),h.process(r),g.process(r),v.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},y=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:sa.reduce((w,C)=>{const S=o[C];return w[C]=(N,T=!1,E=!1)=>(n||y(),S.schedule(N,T,E)),w},{}),cancel:w=>{for(let C=0;C<sa.length;C++)o[sa[C]].cancel(w)},state:r,steps:o}}const{schedule:qe,cancel:Os,state:vt,steps:nl}=rx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0);let ya;function qE(){ya=void 0}const Dt={now:()=>(ya===void 0&&Dt.set(vt.isProcessing||es.useManualTiming?vt.timestamp:performance.now()),ya),set:t=>{ya=t,queueMicrotask(qE)}},ix=t=>e=>typeof e=="string"&&e.startsWith(t),Bd=ix("--"),HE=ix("var(--"),Wd=t=>HE(t)?zE.test(t.split("/*")[0].trim()):!1,zE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_i={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vo={..._i,transform:t=>Jn(0,1,t)},ra={..._i,default:1},to=t=>Math.round(t*1e5)/1e5,$d=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YE(t){return t==null}const GE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ud=(t,e)=>n=>!!(typeof n=="string"&&GE.test(n)&&n.startsWith(t)||e&&!YE(n)&&Object.prototype.hasOwnProperty.call(n,e)),ox=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match($d);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},KE=t=>Jn(0,255,t),sl={..._i,transform:t=>Math.round(KE(t))},Qs={test:Ud("rgb","red"),parse:ox("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+sl.transform(t)+", "+sl.transform(e)+", "+sl.transform(n)+", "+to(vo.transform(s))+")"};function ZE(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const lu={test:Ud("#"),parse:ZE,transform:Qs.transform},Bo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cs=Bo("deg"),On=Bo("%"),ie=Bo("px"),QE=Bo("vh"),XE=Bo("vw"),cm={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},Fr={test:Ud("hsl","hue"),parse:ox("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+On.transform(to(e))+", "+On.transform(to(n))+", "+to(vo.transform(s))+")"},it={test:t=>Qs.test(t)||lu.test(t)||Fr.test(t),parse:t=>Qs.test(t)?Qs.parse(t):Fr.test(t)?Fr.parse(t):lu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):Fr.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},JE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($d))==null?void 0:e.length)||0)+(((n=t.match(JE))==null?void 0:n.length)||0)>0}const ax="number",cx="color",tO="var",nO="var(",lm="${}",sO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(sO,c=>(it.test(c)?(s.color.push(i),r.push(cx),n.push(it.parse(c))):c.startsWith(nO)?(s.var.push(i),r.push(tO),n.push(c)):(s.number.push(i),r.push(ax),n.push(parseFloat(c))),++i,lm)).split(lm);return{values:n,split:a,indexes:s,types:r}}function lx(t){return xo(t).values}function ux(t){const{split:e,types:n}=xo(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===ax?i+=to(r[o]):a===cx?i+=it.transform(r[o]):i+=r[o]}return i}}const rO=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function iO(t){const e=lx(t);return ux(t)(e.map(rO))}const js={test:eO,parse:lx,createTransformer:ux,getAnimatableNone:iO};function rl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oO({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=rl(c,a,t+1/3),i=rl(c,a,t),o=rl(c,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Ha(t,e){return n=>n>0?e:t}const Ye=(t,e,n)=>t+(e-t)*n,il=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},aO=[lu,Qs,Fr],cO=t=>aO.find(e=>e.test(t));function um(t){const e=cO(t);if(!e)return!1;let n=e.parse(t);return e===Fr&&(n=oO(n)),n}const dm=(t,e)=>{const n=um(t),s=um(e);if(!n||!s)return Ha(t,e);const r={...n};return i=>(r.red=il(n.red,s.red,i),r.green=il(n.green,s.green,i),r.blue=il(n.blue,s.blue,i),r.alpha=Ye(n.alpha,s.alpha,i),Qs.transform(r))},uu=new Set(["none","hidden"]);function lO(t,e){return uu.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uO(t,e){return n=>Ye(t,e,n)}function qd(t){return typeof t=="number"?uO:typeof t=="string"?Wd(t)?Ha:it.test(t)?dm:hO:Array.isArray(t)?dx:typeof t=="object"?it.test(t)?dm:dO:Ha}function dx(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>qd(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function dO(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=qd(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function fO(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],a=t.values[o]??0;n[r]=a,s[i]++}return n}const hO=(t,e)=>{const n=js.createTransformer(e),s=xo(t),r=xo(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?uu.has(t)&&!r.values.length||uu.has(e)&&!s.values.length?lO(t,e):Lo(dx(fO(s,r),r.values),n):Ha(t,e)};function fx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ye(t,e,n):qd(t)(t,e)}const mO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qe.update(e,n),stop:()=>Os(e),now:()=>vt.isProcessing?vt.timestamp:Dt.now()}},hx=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},za=2e4;function Hd(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<za;)e+=n,s=t.next(e);return e>=za?1/0:e}function pO(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(Hd(s),za);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:En(r)}}const gO=5;function mx(t,e,n){const s=Math.max(e-gO,0);return Yv(n-t(s),e-s)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ol=.001;function yO({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:s=Ze.mass}){let r,i,o=1-e;o=Jn(Ze.minDamping,Ze.maxDamping,o),t=Jn(Ze.minDuration,Ze.maxDuration,En(t)),o<1?(r=u=>{const d=u*o,f=d*t,h=d-n,g=du(u,o),v=Math.exp(-f);return ol-h/g*v},i=u=>{const f=u*o*t,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-f),p=du(Math.pow(u,2),o);return(-r(u)+ol>0?-1:1)*((h-g)*v)/p}):(r=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-ol+d*f},i=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const a=5/t,c=xO(r,i,a);if(t=Pn(t),isNaN(c))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const vO=12;function xO(t,e,n){let s=n;for(let r=1;r<vO;r++)s=s-t(s)/e(s);return s}function du(t,e){return t*Math.sqrt(1-e*e)}const bO=["duration","bounce"],wO=["stiffness","damping","mass"];function fm(t,e){return e.some(n=>t[n]!==void 0)}function SO(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!fm(t,wO)&&fm(t,bO))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*Jn(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ze.mass,stiffness:r,damping:i}}else{const n=yO(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function Ya(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=SO({...n,velocity:-En(n.velocity||0)}),v=h||0,p=u/(2*Math.sqrt(c*d)),y=o-i,x=En(Math.sqrt(c/d)),b=Math.abs(y)<5;s||(s=b?Ze.restSpeed.granular:Ze.restSpeed.default),r||(r=b?Ze.restDelta.granular:Ze.restDelta.default);let w;if(p<1){const S=du(x,p);w=N=>{const T=Math.exp(-p*x*N);return o-T*((v+p*x*y)/S*Math.sin(S*N)+y*Math.cos(S*N))}}else if(p===1)w=S=>o-Math.exp(-x*S)*(y+(v+x*y)*S);else{const S=x*Math.sqrt(p*p-1);w=N=>{const T=Math.exp(-p*x*N),E=Math.min(S*N,300);return o-T*((v+p*x*y)*Math.sinh(E)+S*y*Math.cosh(E))/S}}const C={calculatedDuration:g&&f||null,next:S=>{const N=w(S);if(g)a.done=S>=f;else{let T=S===0?v:0;p<1&&(T=S===0?Pn(v):mx(w,S,N));const E=Math.abs(T)<=s,A=Math.abs(o-N)<=r;a.done=E&&A}return a.value=a.done?o:N,a},toString:()=>{const S=Math.min(Hd(C),za),N=hx(T=>C.next(S*T).value,S,30);return S+"ms "+N},toTransition:()=>{}};return C}Ya.applyToOptions=t=>{const e=pO(t,100,Ya);return t.ease=e.ease,t.duration=Pn(e.duration),t.type="keyframes",t};function fu({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},g=E=>a!==void 0&&E<a||c!==void 0&&E>c,v=E=>a===void 0?c:c===void 0||Math.abs(a-E)<Math.abs(c-E)?a:c;let p=n*e;const y=f+p,x=o===void 0?y:o(y);x!==y&&(p=x-f);const b=E=>-p*Math.exp(-E/s),w=E=>x+b(E),C=E=>{const A=b(E),M=w(E);h.done=Math.abs(A)<=u,h.value=h.done?x:M};let S,N;const T=E=>{g(h.value)&&(S=E,N=Ya({keyframes:[h.value,v(h.value)],velocity:mx(w,E,h.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:E=>{let A=!1;return!N&&S===void 0&&(A=!0,C(E),T(E)),S!==void 0&&E>=S?N.next(E-S):(!A&&C(E),h)}}}function CO(t,e,n){const s=[],r=n||es.mix||fx,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Qt:e;a=Lo(c,a)}s.push(a)}return s}function kO(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Dd(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=CO(e,s,r),c=a.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=yo(t[f],t[f+1],d);return a[f](h)};return n?d=>u(Jn(t[0],t[i-1],d)):u}function _O(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=yo(0,e,s);t.push(Ye(n,1,r))}}function NO(t){const e=[0];return _O(e,t.length-1),e}function TO(t,e){return t.map(n=>n*e)}function PO(t,e){return t.map(()=>e||nx).splice(0,t.length-1)}function no({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=VE(s)?s.map(am):am(s),i={done:!1,value:e[0]},o=TO(n&&n.length===e.length?n:NO(e),t),a=kO(o,e,{ease:Array.isArray(r)?r:PO(e,r)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}const EO=t=>t!==null;function zd(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(EO),a=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const OO={decay:fu,inertia:fu,tween:no,keyframes:no,spring:Ya};function px(t){typeof t.type=="string"&&(t.type=OO[t.type])}class Yd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const jO=t=>t/100;class Gd extends Yd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;px(e);const{type:n=no,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const c=n||no;c!==no&&typeof a[0]!="number"&&(this.mixKeyframes=Lo(jO,fx(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Hd(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:v,onUpdate:p,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let w=this.currentTime,C=s;if(f){const E=Math.min(this.currentTime,r)/a;let A=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(M=1-M,g&&(M-=g/a)):h==="mirror"&&(C=o)),w=Jn(0,1,M)*a}const S=b?{done:!1,value:d[0]}:C.next(w);i&&(S.value=i(S.value));let{done:N}=S;!b&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&v!==fu&&(S.value=zd(d,this.options,y,this.speed)),p&&p(S.value),T&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return En(this.calculatedDuration)}get time(){return En(this.currentTime)}set time(e){var n;e=Pn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=En(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=mO,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function AO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Xs=t=>t*180/Math.PI,hu=t=>{const e=Xs(Math.atan2(t[1],t[0]));return mu(e)},RO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hu,rotateZ:hu,skewX:t=>Xs(Math.atan(t[1])),skewY:t=>Xs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mu=t=>(t=t%360,t<0&&(t+=360),t),hm=hu,mm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),MO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mm,scaleY:pm,scale:t=>(mm(t)+pm(t))/2,rotateX:t=>mu(Xs(Math.atan2(t[6],t[5]))),rotateY:t=>mu(Xs(Math.atan2(-t[2],t[0]))),rotateZ:hm,rotate:hm,skewX:t=>Xs(Math.atan(t[4])),skewY:t=>Xs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pu(t){return t.includes("scale")?1:0}function gu(t,e){if(!t||t==="none")return pu(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=MO,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=RO,r=a}if(!r)return pu(e);const i=s[e],o=r[1].split(",").map(IO);return typeof i=="function"?i(o):o[i]}const DO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gu(n,e)};function IO(t){return parseFloat(t.trim())}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ti=new Set(Ni),gm=t=>t===_i||t===ie,FO=new Set(["x","y","z"]),LO=Ni.filter(t=>!FO.has(t));function VO(t){const e=[];return LO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const fr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gu(e,"x"),y:(t,{transform:e})=>gu(e,"y")};fr.translateX=fr.x;fr.translateY=fr.y;const hr=new Set;let yu=!1,vu=!1,xu=!1;function gx(){if(vu){const t=Array.from(hr).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=VO(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var a;(a=s.getValue(i))==null||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vu=!1,yu=!1,hr.forEach(t=>t.complete(xu)),hr.clear()}function yx(){hr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vu=!0)})}function BO(){xu=!0,yx(),gx(),xu=!1}class Kd{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(hr.add(this),yu||(yu=!0,qe.read(yx),qe.resolveKeyframes(gx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const a=s.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}AO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hr.delete(this)}cancel(){this.state==="scheduled"&&(hr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WO=t=>t.startsWith("--");function $O(t,e,n){WO(e)?t.style.setProperty(e,n):t.style[e]=n}const UO=Id(()=>window.ScrollTimeline!==void 0),qO={};function HO(t,e){const n=Id(t);return()=>qO[e]??n()}const vx=HO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gi=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ym={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gi([0,.65,.55,1]),circOut:Gi([.55,0,1,.45]),backIn:Gi([.31,.01,.66,-.59]),backOut:Gi([.33,1.53,.69,.99])};function xx(t,e){if(t)return typeof t=="function"?vx()?hx(t,e):"ease-out":sx(t)?Gi(t):Array.isArray(t)?t.map(n=>xx(n,e)||ym.easeOut):ym[t]}function zO(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=xx(a,r);Array.isArray(f)&&(d.easing=f);const h={delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(d,h)}function bx(t){return typeof t=="function"&&"applyToOptions"in t}function YO({type:t,...e}){return bx(t)&&vx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GO extends Yd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Dd(typeof e.type!="string");const u=YO(e);this.animation=zO(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=zd(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):$O(n,s,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return En(Number(e))}get time(){return En(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Pn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UO()?(this.animation.timeline=e,Qt):n(this)}}const wx={anticipate:Jv,backInOut:Xv,circInOut:tx};function KO(t){return t in wx}function ZO(t){typeof t.ease=="string"&&KO(t.ease)&&(t.ease=wx[t.ease])}const vm=10;class QO extends GO{constructor(e){ZO(e),px(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Gd({...o,autoplay:!1}),c=Pn(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-vm).value,a.sample(c).value,vm),a.stop()}}const xm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(js.test(t)||t==="0")&&!t.startsWith("url("));function XO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JO(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=xm(r,e),a=xm(i,e);return!o||!a?!1:XO(t)||(n==="spring"||bx(n))&&s}function bu(t){t.duration=0,t.type}const ej=new Set(["opacity","clipPath","filter","transform"]),tj=Id(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nj(t){var d;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return tj()&&n&&ej.has(n)&&(n!=="transform"||!u)&&!c&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const sj=40;class rj extends Yd{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var p,y;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Dt.now();const h={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||Kd;this.keyframeResolver=new g(a,(p,y,x)=>this.onKeyframesResolved(p,y,h,!x),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:d}=s;this.resolvedAt=Dt.now(),JO(e,i,o,a)||((es.instantAnimations||!c)&&(d==null||d(zd(e,s,n))),e[0]=e[e.length-1],bu(s),s.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>sj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},g=!u&&nj(h)?new QO({...h,element:h.motionValue.owner.current}):new Gd(h);g.finished.then(()=>this.notifyFinished()).catch(Qt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),BO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ij=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oj(t){const e=ij.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function Sx(t,e,n=1){const[s,r]=oj(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return qv(o)?parseFloat(o):o}return Wd(r)?Sx(r,e,n+1):r}function Zd(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Cx=new Set(["width","height","top","left","right","bottom",...Ni]),aj={test:t=>t==="auto",parse:t=>t},kx=t=>e=>e.test(t),_x=[_i,ie,On,cs,XE,QE,aj],bm=t=>_x.find(kx(t));function cj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||zv(t):!0}const lj=new Set(["brightness","contrast","saturate","opacity"]);function uj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match($d)||[];if(!s)return t;const r=n.replace(s,"");let i=lj.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const dj=/\b([a-z-]*)\(.*?\)/gu,wu={...js,getAnimatableNone:t=>{const e=t.match(dj);return e?e.map(uj).join(" "):t}},wm={..._i,transform:Math.round},fj={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:ra,scaleX:ra,scaleY:ra,scaleZ:ra,skew:cs,skewX:cs,skewY:cs,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:vo,originX:cm,originY:cm,originZ:ie},Qd={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,backgroundPositionX:ie,backgroundPositionY:ie,...fj,zIndex:wm,fillOpacity:vo,strokeOpacity:vo,numOctaves:wm},hj={...Qd,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:wu,WebkitFilter:wu},Nx=t=>hj[t];function Tx(t,e){let n=Nx(t);return n!==wu&&(n=js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mj=new Set(["auto","none","0"]);function pj(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!mj.has(i)&&xo(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=Tx(n,r)}class gj extends Kd{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Wd(u))){const d=Sx(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Cx.has(s)||e.length!==2)return;const[r,i]=e,o=bm(r),a=bm(i);if(o!==a)if(gm(o)&&gm(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else fr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||cj(e[r]))&&s.push(r);s.length&&pj(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=fr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function yj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Px=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vj(t){return Hv(t)&&"offsetHeight"in t}const Sm=30,xj=t=>!isNaN(parseFloat(t));class bj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var i;const r=Dt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fd);const s=this.events[e].add(n);return e==="change"?()=>{s(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sm);return Yv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mi(t,e){return new bj(t,e)}const{schedule:Xd}=rx(queueMicrotask,!1),Jt={x:!1,y:!1};function Ex(){return Jt.x||Jt.y}function wj(t){return t==="x"||t==="y"?Jt[t]?null:(Jt[t]=!0,()=>{Jt[t]=!1}):Jt.x||Jt.y?null:(Jt.x=Jt.y=!0,()=>{Jt.x=Jt.y=!1})}function Ox(t,e){const n=yj(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function Cm(t){return!(t.pointerType==="touch"||Ex())}function Sj(t,e,n={}){const[s,r,i]=Ox(t,n),o=a=>{if(!Cm(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const d=f=>{Cm(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,r)};return s.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const jx=(t,e)=>e?t===e?!0:jx(t,e.parentElement):!1,Jd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Cj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kj(t){return Cj.has(t.tagName)||t.tabIndex!==-1}const va=new WeakSet;function km(t){return e=>{e.key==="Enter"&&t(e)}}function al(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _j=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=km(()=>{if(va.has(n))return;al(n,"down");const r=km(()=>{al(n,"up")}),i=()=>al(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function _m(t){return Jd(t)&&!Ex()}function Nj(t,e,n={}){const[s,r,i]=Ox(t,n),o=a=>{const c=a.currentTarget;if(!_m(a))return;va.add(c);const u=e(c,a),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),va.has(c)&&va.delete(c),_m(g)&&typeof u=="function"&&u(g,{success:v})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||jx(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",h,r)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),vj(a)&&(a.addEventListener("focus",u=>_j(u,r)),!kj(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Ax(t){return Hv(t)&&"ownerSVGElement"in t}function Tj(t){return Ax(t)&&t.tagName==="svg"}const kt=t=>!!(t&&t.getVelocity),Pj=[..._x,it,js],Ej=t=>Pj.find(kx(t)),Rx=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Oj(t=!0){const e=m.useContext(Ad);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=m.useId();m.useEffect(()=>{if(t)return r(i)},[t]);const o=m.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const Mx=m.createContext({strict:!1}),Nm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pi={};for(const t in Nm)pi[t]={isEnabled:e=>Nm[t].some(n=>!!e[n])};function jj(t){for(const e in t)pi[e]={...pi[e],...t[e]}}const Aj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ga(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Aj.has(t)}let Dx=t=>!Ga(t);function Rj(t){typeof t=="function"&&(Dx=e=>e.startsWith("on")?!Ga(e):t(e))}try{Rj(require("@emotion/is-prop-valid").default)}catch{}function Mj(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(Dx(r)||n===!0&&Ga(r)||!e&&!Ga(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const Cc=m.createContext({});function kc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bo(t){return typeof t=="string"||Array.isArray(t)}const ef=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tf=["initial",...ef];function _c(t){return kc(t.animate)||tf.some(e=>bo(t[e]))}function Ix(t){return!!(_c(t)||t.variants)}function Dj(t,e){if(_c(t)){const{initial:n,animate:s}=t;return{initial:n===!1||bo(n)?n:void 0,animate:bo(s)?s:void 0}}return t.inherit!==!1?e:{}}function Ij(t){const{initial:e,animate:n}=Dj(t,m.useContext(Cc));return m.useMemo(()=>({initial:e,animate:n}),[Tm(e),Tm(n)])}function Tm(t){return Array.isArray(t)?t.join(" "):t}const wo={};function Fj(t){for(const e in t)wo[e]=t[e],Bd(e)&&(wo[e].isCSSVariable=!0)}function Fx(t,{layout:e,layoutId:n}){return Ti.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wo[t]||t==="opacity")}const Lj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vj=Ni.length;function Bj(t,e,n){let s="",r=!0;for(let i=0;i<Vj;i++){const o=Ni[i],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=Px(a,Qd[o]);if(!c){r=!1;const d=Lj[o]||o;s+=`${d}(${u}) `}n&&(e[o]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function nf(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Ti.has(c)){o=!0;continue}else if(Bd(c)){r[c]=u;continue}else{const d=Px(u,Qd[c]);c.startsWith("origin")?(a=!0,i[c]=d):s[c]=d}}if(e.transform||(o||n?s.transform=Bj(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const sf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lx(t,e,n){for(const s in e)!kt(e[s])&&!Fx(s,n)&&(t[s]=e[s])}function Wj({transformTemplate:t},e){return m.useMemo(()=>{const n=sf();return nf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $j(t,e){const n=t.style||{},s={};return Lx(s,n,t),Object.assign(s,Wj(t,e)),s}function Uj(t,e){const n={},s=$j(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const qj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hj={offset:"strokeDashoffset",array:"strokeDasharray"};function zj(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?qj:Hj;t[i.offset]=ie.transform(-s);const o=ie.transform(e),a=ie.transform(n);t[i.array]=`${o} ${a}`}function Vx(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},c,u,d){if(nf(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),r!==void 0&&zj(f,r,i,o,!1)}const Bx=()=>({...sf(),attrs:{}}),Wx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Yj(t,e,n,s){const r=m.useMemo(()=>{const i=Bx();return Vx(i,e,Wx(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Lx(i,t.style,t),r.style={...i,...r.style}}return r}const Gj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rf(t){return typeof t!="string"||t.includes("-")?!1:!!(Gj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Kj(t,e,n,{latestValues:s},r,i=!1){const a=(rf(t)?Yj:Uj)(e,s,r,t),c=Mj(e,typeof t=="string",i),u=t!==m.Fragment?{...c,...a,ref:n}:{},{children:d}=e,f=m.useMemo(()=>kt(d)?d.get():d,[d]);return m.createElement(t,{...u,children:f})}function Pm(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function of(t,e,n,s){if(typeof e=="function"){const[r,i]=Pm(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=Pm(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function xa(t){return kt(t)?t.get():t}function Zj({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Qj(n,s,r,t),renderState:e()}}function Qj(t,e,n,s){const r={},i=s(t,{});for(const h in i)r[h]=xa(i[h]);let{initial:o,animate:a}=t;const c=_c(t),u=Ix(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!kc(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const v=of(t,h[g]);if(v){const{transitionEnd:p,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(r[b]=w)}for(const b in p)r[b]=p[b]}}}return r}const $x=t=>(e,n)=>{const s=m.useContext(Cc),r=m.useContext(Ad),i=()=>Zj(t,e,s,r);return n?i():jE(i)};function af(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(kt(s[o])||e.style&&kt(e.style[o])||Fx(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const Xj=$x({scrapeMotionValuesFromProps:af,createRenderState:sf});function Ux(t,e,n){const s=af(t,e,n);for(const r in t)if(kt(t[r])||kt(e[r])){const i=Ni.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Jj=$x({scrapeMotionValuesFromProps:Ux,createRenderState:Bx}),eA=Symbol.for("motionComponentSymbol");function Lr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tA(t,e,n){return m.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Lr(n)&&(n.current=s))},[e])}const cf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nA="framerAppearId",qx="data-"+cf(nA),Hx=m.createContext({});function sA(t,e,n,s,r){var p,y;const{visualElement:i}=m.useContext(Cc),o=m.useContext(Mx),a=m.useContext(Ad),c=m.useContext(Rx).reducedMotion,u=m.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=m.useContext(Hx);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&rA(u.current,n,r,f);const h=m.useRef(!1);m.useInsertionEffect(()=>{d&&h.current&&d.update(n,a)});const g=n[qx],v=m.useRef(!!g&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,g))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,g)));return AE(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,g)}),v.current=!1),d.enteringChildren=void 0)}),d}function rA(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zx(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&Lr(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:d,layoutScroll:c,layoutRoot:u})}function zx(t){if(t)return t.options.allowProjection!==!1?t.projection:zx(t.parent)}function cl(t,{forwardMotionProps:e=!1}={},n,s){n&&jj(n);const r=rf(t)?Jj:Xj;function i(a,c){let u;const d={...m.useContext(Rx),...a,layoutId:iA(a)},{isStatic:f}=d,h=Ij(a),g=r(a,f);if(!f&&jd){oA();const v=aA(d);u=v.MeasureLayout,h.visualElement=sA(t,g,d,s,v.ProjectionNode)}return l.jsxs(Cc.Provider,{value:h,children:[u&&h.visualElement?l.jsx(u,{visualElement:h.visualElement,...d}):null,Kj(t,a,tA(g,h.visualElement,c),g,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=m.forwardRef(i);return o[eA]=t,o}function iA({layoutId:t}){const e=m.useContext(Uv).id;return e&&t!==void 0?e+"-"+t:t}function oA(t,e){m.useContext(Mx).strict}function aA(t){const{drag:e,layout:n}=pi;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function cA(t,e){if(typeof Proxy>"u")return cl;const n=new Map,s=(i,o)=>cl(i,o,t,e),r=(i,o)=>s(i,o);return new Proxy(r,{get:(i,o)=>o==="create"?s:(n.has(o)||n.set(o,cl(o,void 0,t,e)),n.get(o))})}function Yx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function lA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function ll(t){return t===void 0||t===1}function Su({scale:t,scaleX:e,scaleY:n}){return!ll(t)||!ll(e)||!ll(n)}function Hs(t){return Su(t)||Gx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Gx(t){return Em(t.x)||Em(t.y)}function Em(t){return t&&t!=="0%"}function Ka(t,e,n){const s=t-n,r=e*s;return n+r}function Om(t,e,n,s,r){return r!==void 0&&(t=Ka(t,r,s)),Ka(t,n,s)+e}function Cu(t,e=0,n=1,s,r){t.min=Om(t.min,e,n,s,r),t.max=Om(t.max,e,n,s,r)}function Kx(t,{x:e,y:n}){Cu(t.x,e.translate,e.scale,e.originPoint),Cu(t.y,n.translate,n.scale,n.originPoint)}const jm=.999999999999,Am=1.0000000000001;function dA(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Br(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Kx(t,o)),s&&Hs(i.latestValues)&&Br(t,i.latestValues))}e.x<Am&&e.x>jm&&(e.x=1),e.y<Am&&e.y>jm&&(e.y=1)}function Vr(t,e){t.min=t.min+e,t.max=t.max+e}function Rm(t,e,n,s,r=.5){const i=Ye(t.min,t.max,r);Cu(t,e,n,i,s)}function Br(t,e){Rm(t.x,e.x,e.scaleX,e.scale,e.originX),Rm(t.y,e.y,e.scaleY,e.scale,e.originY)}function Zx(t,e){return Yx(uA(t.getBoundingClientRect(),e))}function fA(t,e,n){const s=Zx(t,n),{scroll:r}=e;return r&&(Vr(s.x,r.offset.x),Vr(s.y,r.offset.y)),s}const Mm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wr=()=>({x:Mm(),y:Mm()}),Dm=()=>({min:0,max:0}),et=()=>({x:Dm(),y:Dm()}),ku={current:null},Qx={current:!1};function hA(){if(Qx.current=!0,!!jd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ku.current=t.matches;t.addEventListener("change",e),e()}else ku.current=!1}const mA=new WeakMap;function pA(t,e,n){for(const s in e){const r=e[s],i=n[s];if(kt(r))t.addValue(s,r);else if(kt(i))t.addValue(s,mi(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,mi(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Im=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gA{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Dt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,qe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=_c(n),this.isVariantNode=Ix(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&kt(g)&&g.set(c[h])}}mount(e){var n;this.current=e,mA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Qx.current||hA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ku.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Os(this.notifyUpdate),Os(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ti.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&qe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pi){const n=pi[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Im.length;s++){const r=Im[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=pA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=mi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(qv(s)||zv(s))?s=parseFloat(s):!Ej(s)&&js.test(n)&&(s=Tx(e,n)),this.setBaseTarget(e,kt(s)?s.get():s)),kt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=of(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!kt(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Xd.render(this.render)}}class Xx extends gA{constructor(){super(...arguments),this.KeyframeResolver=gj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Jx(t,{style:e,vars:n},s,r){const i=t.style;let o;for(o in e)i[o]=e[o];r==null||r.applyProjectionStyles(i,s);for(o in n)i.setProperty(o,n[o])}function yA(t){return window.getComputedStyle(t)}class vA extends Xx{constructor(){super(...arguments),this.type="html",this.renderInstance=Jx}readValueFromInstance(e,n){var s;if(Ti.has(n))return(s=this.projection)!=null&&s.isProjecting?pu(n):DO(e,n);{const r=yA(e),i=(Bd(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Zx(e,n)}build(e,n,s){nf(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return af(e,n,s)}}const eb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xA(t,e,n,s){Jx(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(eb.has(r)?r:cf(r),e.attrs[r])}class bA extends Xx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ti.has(n)){const s=Nx(n);return s&&s.default||0}return n=eb.has(n)?n:cf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return Ux(e,n,s)}build(e,n,s){Vx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){xA(e,n,s,r)}mount(e){this.isSVGTag=Wx(e.tagName),super.mount(e)}}const wA=(t,e)=>rf(t)?new bA(e):new vA(e,{allowProjection:t!==m.Fragment});function Hr(t,e,n){const s=t.getProps();return of(s,e,n!==void 0?n:s.custom,t)}const _u=t=>Array.isArray(t);function SA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mi(n))}function CA(t){return _u(t)?t[t.length-1]||0:t}function kA(t,e){const n=Hr(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=CA(i[o]);SA(t,o,a)}}function _A(t){return!!(kt(t)&&t.add)}function Nu(t,e){const n=t.getValue("willChange");if(_A(n))return n.add(e);if(!n&&es.WillChange){const s=new es.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function tb(t){return t.props[qx]}const NA=t=>t!==null;function TA(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(NA),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const PA={type:"spring",stiffness:500,damping:25,restSpeed:10},EA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OA={type:"keyframes",duration:.8},jA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AA=(t,{keyframes:e})=>e.length>2?OA:Ti.has(t)?t.startsWith("scale")?EA(e[1]):PA:jA;function RA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const lf=(t,e,n,s={},r,i)=>o=>{const a=Zd(s,t)||{},c=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Pn(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};RA(a)||Object.assign(d,AA(t,d)),d.duration&&(d.duration=Pn(d.duration)),d.repeatDelay&&(d.repeatDelay=Pn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(bu(d),d.delay===0&&(f=!0)),(es.instantAnimations||es.skipAnimations)&&(f=!0,bu(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const h=TA(d.keyframes,a);if(h!==void 0){qe.update(()=>{d.onUpdate(h),d.onComplete()});return}}return a.isSync?new Gd(d):new rj(d)};function MA({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nb(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(i=s);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),h=a[d];if(h===void 0||u&&MA(u,d))continue;const g={delay:n,...Zd(i||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!g.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const x=tb(t);if(x){const b=window.MotionHandoffAnimation(x,d,qe);b!==null&&(g.startTime=b,p=!0)}}Nu(t,d),f.start(lf(d,f,h,t.shouldReduceMotion&&Cx.has(d)?{type:!1}:g,t,p));const y=f.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{qe.update(()=>{o&&kA(t,o)})}),c}function sb(t,e,n,s=0,r=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*s;return typeof n=="function"?n(i,o):r===1?i*s:a-i*s}function Tu(t,e,n={}){var c;const s=Hr(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(nb(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=r;return DA(t,e,u,d,f,h,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function DA(t,e,n=0,s=0,r=0,i=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(Tu(c,e,{...o,delay:n+(typeof s=="function"?0:s)+sb(t.variantChildren,c,s,r,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function IA(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Tu(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Tu(t,e,n);else{const r=typeof e=="function"?Hr(t,e,n.custom):e;s=Promise.all(nb(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function rb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const FA=tf.length;function ib(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ib(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<FA;n++){const s=tf[n],r=t.props[s];(bo(r)||r===!1)&&(e[s]=r)}return e}const LA=[...ef].reverse(),VA=ef.length;function BA(t){return e=>Promise.all(e.map(({animation:n,options:s})=>IA(t,n,s)))}function WA(t){let e=BA(t),n=Fm(),s=!0;const r=c=>(u,d)=>{var h;const f=Hr(t,d,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:v,...p}=f;u={...u,...p,...v}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=ib(t.parent)||{},f=[],h=new Set;let g={},v=1/0;for(let y=0;y<VA;y++){const x=LA[y],b=n[x],w=u[x]!==void 0?u[x]:d[x],C=bo(w),S=x===c?b.isActive:null;S===!1&&(v=y);let N=w===d[x]&&w!==u[x]&&C;if(N&&s&&t.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...g},!b.isActive&&S===null||!w&&!b.prevProp||kc(w)||typeof w=="boolean")continue;const T=$A(b.prevProp,w);let E=T||x===c&&b.isActive&&!N&&C||y>v&&C,A=!1;const M=Array.isArray(w)?w:[w];let L=M.reduce(r(x),{});S===!1&&(L={});const{prevResolvedValues:R={}}=b,I={...R,...L},q=Y=>{E=!0,h.has(Y)&&(A=!0,h.delete(Y)),b.needsAnimating[Y]=!0;const W=t.getValue(Y);W&&(W.liveStyle=!1)};for(const Y in I){const W=L[Y],Z=R[Y];if(g.hasOwnProperty(Y))continue;let ce=!1;_u(W)&&_u(Z)?ce=!rb(W,Z):ce=W!==Z,ce?W!=null?q(Y):h.add(Y):W!==void 0&&h.has(Y)?q(Y):b.protectedKeys[Y]=!0}b.prevProp=w,b.prevResolvedValues=L,b.isActive&&(g={...g,...L}),s&&t.blockInitialAnimation&&(E=!1);const ee=N&&T;E&&(!ee||A)&&f.push(...M.map(Y=>{const W={type:x};if(typeof Y=="string"&&s&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,ce=Hr(Z,Y);if(Z.enteringChildren&&ce){const{delayChildren:xe}=ce.transition||{};W.delay=sb(Z.enteringChildren,t,xe)}}return{animation:Y,options:W}}))}if(h.size){const y={};if(typeof u.initial!="boolean"){const x=Hr(t,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(y.transition=x.transition)}h.forEach(x=>{const b=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),y[x]=b??null}),f.push({animation:y})}let p=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),s=!1,p?e(f):Promise.resolve()}function a(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Fm(),s=!0}}}function $A(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rb(e,t):!1}function Us(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fm(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}class Vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UA extends Vs{constructor(e){super(e),e.animationState||(e.animationState=WA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let qA=0;class HA extends Vs{constructor(){super(...arguments),this.id=qA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zA={animation:{Feature:UA},exit:{Feature:HA}};function So(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Wo(t){return{point:{x:t.pageX,y:t.pageY}}}const YA=t=>e=>Jd(e)&&t(e,Wo(e));function so(t,e,n,s){return So(t,e,YA(n),s)}const ob=1e-4,GA=1-ob,KA=1+ob,ab=.01,ZA=0-ab,QA=0+ab;function jt(t){return t.max-t.min}function XA(t,e,n){return Math.abs(t-e)<=n}function Lm(t,e,n,s=.5){t.origin=s,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=jt(n)/jt(e),t.translate=Ye(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GA&&t.scale<=KA||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZA&&t.translate<=QA||isNaN(t.translate))&&(t.translate=0)}function ro(t,e,n,s){Lm(t.x,e.x,n.x,s?s.originX:void 0),Lm(t.y,e.y,n.y,s?s.originY:void 0)}function Vm(t,e,n){t.min=n.min+e.min,t.max=t.min+jt(e)}function JA(t,e,n){Vm(t.x,e.x,n.x),Vm(t.y,e.y,n.y)}function Bm(t,e,n){t.min=e.min-n.min,t.max=t.min+jt(e)}function io(t,e,n){Bm(t.x,e.x,n.x),Bm(t.y,e.y,n.y)}function Yt(t){return[t("x"),t("y")]}const cb=({current:t})=>t?t.ownerDocument.defaultView:null,Wm=(t,e)=>Math.abs(t-e);function eR(t,e){const n=Wm(t.x,e.x),s=Wm(t.y,e.y);return Math.sqrt(n**2+s**2)}class lb{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=dl(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=eR(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:p}=h,{timestamp:y}=vt;this.history.push({...p,timestamp:y});const{onStart:x,onMove:b}=this.handlers;g||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=ul(g,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:v,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=dl(h.type==="pointercancel"?this.lastMoveEventInfo:ul(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,x),p&&p(h,x)},!Jd(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const a=Wo(e),c=ul(a,this.transformPagePoint),{point:u}=c,{timestamp:d}=vt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,dl(c,this.history)),this.removeListeners=Lo(so(this.contextWindow,"pointermove",this.handlePointerMove),so(this.contextWindow,"pointerup",this.handlePointerUp),so(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Os(this.updatePoint)}}function ul(t,e){return e?{point:e(t.point)}:t}function $m(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dl({point:t},e){return{point:t,delta:$m(t,ub(e)),offset:$m(t,tR(e)),velocity:nR(e,.1)}}function tR(t){return t[0]}function ub(t){return t[t.length-1]}function nR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=ub(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Pn(e)));)n--;if(!s)return{x:0,y:0};const i=En(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sR(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ye(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ye(n,t,s.max):Math.min(t,n)),t}function Um(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rR(t,{top:e,left:n,bottom:s,right:r}){return{x:Um(t.x,n,r),y:Um(t.y,e,s)}}function qm(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function iR(t,e){return{x:qm(t.x,e.x),y:qm(t.y,e.y)}}function oR(t,e){let n=.5;const s=jt(t),r=jt(e);return r>s?n=yo(e.min,e.max-s,t.min):s>r&&(n=yo(t.min,t.max-r,e.min)),Jn(0,1,n)}function aR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Pu=.35;function cR(t=Pu){return t===!1?t=0:t===!0&&(t=Pu),{x:Hm(t,"left","right"),y:Hm(t,"top","bottom")}}function Hm(t,e,n){return{min:zm(t,e),max:zm(t,n)}}function zm(t,e){return typeof t=="number"?t:t[e]||0}const lR=new WeakMap;class uR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wo(f).point)},o=(f,h)=>{const{drag:g,dragPropagation:v,onDragStart:p}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wj(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(x=>{let b=this.getAxisMotionValue(x).get()||0;if(On.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const C=w.layout.layoutBox[x];C&&(b=jt(C)*(parseFloat(b)/100))}}this.originPoint[x]=b}),p&&qe.postRender(()=>p(f,h)),Nu(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:p,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=h;if(v&&this.currentDirection===null){this.currentDirection=dR(x),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),y&&y(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Yt(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new lb(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:s,contextWindow:cb(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!ia(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=sR(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&Lr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=rR(s.layoutBox,e):this.constraints=!1,this.elastic=cR(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=aR(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lr(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=fA(s,r.root,this.visualElement.getTransformPagePoint());let o=iR(r.layout.layoutBox,i);if(n){const a=n(lA(o));this.hasMutatedConstraints=!!a,a&&(o=Yx(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Yt(d=>{if(!ia(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=r?200:1e6,g=r?40:1e7,v={type:"inertia",velocity:s?e[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Nu(this.visualElement,e),s.start(lf(e,s,0,n,this.visualElement,!1))}stopAnimation(){Yt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Yt(n=>{const{drag:s}=this.getProps();if(!ia(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-Ye(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Lr(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();r[o]=oR({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yt(o=>{if(!ia(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Ye(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;lR.set(this.visualElement,this);const e=this.visualElement.current,n=so(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Lr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),qe.read(s);const o=So(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Pu,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ia(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fR extends Vs{constructor(e){super(e),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new uR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ym=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class hR extends Vs{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(e){this.session=new lb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ym(e),onStart:Ym(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&qe.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ba={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $i={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=Gm(t,e.target.x),s=Gm(t,e.target.y);return`${n}% ${s}%`}},mR={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=js.parse(t);if(r.length>5)return s;const i=js.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=c;const u=Ye(a,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};let fl=!1;class pR extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;Fj(gR),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),fl&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ba.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,fl=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;fl=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function db(t){const[e,n]=Oj(),s=m.useContext(Uv);return l.jsx(pR,{...t,layoutGroup:s,switchLayoutGroup:m.useContext(Hx),isPresent:e,safeToRemove:n})}const gR={borderRadius:{...$i,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$i,borderTopRightRadius:$i,borderBottomLeftRadius:$i,borderBottomRightRadius:$i,boxShadow:mR};function yR(t,e,n){const s=kt(t)?t:mi(t);return s.start(lf("",s,e,n)),s.animation}const vR=(t,e)=>t.depth-e.depth;class xR{constructor(){this.children=[],this.isDirty=!1}add(e){Rd(this.children,e),this.isDirty=!0}remove(e){Md(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vR),this.isDirty=!1,this.children.forEach(e)}}function bR(t,e){const n=Dt.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(Os(s),t(i-e))};return qe.setup(s,!0),()=>Os(s)}const fb=["TopLeft","TopRight","BottomLeft","BottomRight"],wR=fb.length,Km=t=>typeof t=="string"?parseFloat(t):t,Zm=t=>typeof t=="number"||ie.test(t);function SR(t,e,n,s,r,i){r?(t.opacity=Ye(0,n.opacity??1,CR(s)),t.opacityExit=Ye(e.opacity??1,0,kR(s))):i&&(t.opacity=Ye(e.opacity??1,n.opacity??1,s));for(let o=0;o<wR;o++){const a=`border${fb[o]}Radius`;let c=Qm(e,a),u=Qm(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Zm(c)===Zm(u)?(t[a]=Math.max(Ye(Km(c),Km(u),s),0),(On.test(u)||On.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ye(e.rotate||0,n.rotate||0,s))}function Qm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const CR=hb(0,.5,ex),kR=hb(.5,.95,Qt);function hb(t,e,n){return s=>s<t?0:s>e?1:n(yo(t,e,s))}function Xm(t,e){t.min=e.min,t.max=e.max}function zt(t,e){Xm(t.x,e.x),Xm(t.y,e.y)}function Jm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ep(t,e,n,s,r){return t-=e,t=Ka(t,1/n,s),r!==void 0&&(t=Ka(t,1/r,s)),t}function _R(t,e=0,n=1,s=.5,r,i=t,o=t){if(On.test(e)&&(e=parseFloat(e),e=Ye(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ye(i.min,i.max,s);t===i&&(a-=e),t.min=ep(t.min,e,n,a,r),t.max=ep(t.max,e,n,a,r)}function tp(t,e,[n,s,r],i,o){_R(t,e[n],e[s],e[r],e.scale,i,o)}const NR=["x","scaleX","originX"],TR=["y","scaleY","originY"];function np(t,e,n,s){tp(t.x,e,NR,n?n.x:void 0,s?s.x:void 0),tp(t.y,e,TR,n?n.y:void 0,s?s.y:void 0)}function sp(t){return t.translate===0&&t.scale===1}function mb(t){return sp(t.x)&&sp(t.y)}function rp(t,e){return t.min===e.min&&t.max===e.max}function PR(t,e){return rp(t.x,e.x)&&rp(t.y,e.y)}function ip(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pb(t,e){return ip(t.x,e.x)&&ip(t.y,e.y)}function op(t){return jt(t.x)/jt(t.y)}function ap(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ER{constructor(){this.members=[]}add(e){Rd(this.members,e),e.scheduleRender()}remove(e){if(Md(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OR(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:v}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),g&&(s+=`skewX(${g}deg) `),v&&(s+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const hl=["","X","Y","Z"],jR=1e3;let AR=0;function ml(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function gb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&gb(s)}function yb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=AR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DR),this.nodes.forEach(VR),this.nodes.forEach(BR),this.nodes.forEach(IR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new xR)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Fd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ax(o)&&!Tj(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=bR(h,250),ba.hasAnimatedSinceResize&&(ba.hasAnimatedSinceResize=!1,this.nodes.forEach(up)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||HR,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!pb(this.targetLayout,g),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Zd(v,"layout"),onPlay:p,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||up(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LR),this.nodes.forEach(RR),this.nodes.forEach(MR)):this.nodes.forEach(lp),this.clearAllSnapshots();const a=Dt.now();vt.delta=Jn(0,1e3/60,a-vt.timestamp),vt.timestamp=a,vt.isProcessing=!0,nl.update.process(vt),nl.preRender.process(vt),nl.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FR),this.sharedNodes.forEach($R)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jt(this.snapshot.measuredBox.x)&&!jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mb(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Hs(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),zR(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return et();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(YR))){const{scroll:d}=this.root;d&&(Vr(a.x,d.offset.x),Vr(a.y,d.offset.y))}return a}removeElementScroll(o){var c;const a=et();if(zt(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&zt(a,o),Vr(a.x,f.offset.x),Vr(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const c=et();zt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Br(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hs(d.latestValues)&&Br(c,d.latestValues)}return Hs(this.latestValues)&&Br(c,this.latestValues),c}removeTransform(o){const a=et();zt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hs(u.latestValues))continue;Su(u.latestValues)&&u.updateSnapshot();const d=et(),f=u.measurePageBox();zt(d,f),np(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hs(this.latestValues)&&np(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),io(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zt(this.target,this.layout.layoutBox),Kx(this.target,this.targetDelta)):zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),io(this.relativeTargetOrigin,this.target,g.target),zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Su(this.parent.latestValues)||Gx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;zt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;dA(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=et());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Jm(this.prevProjectionDelta.x,this.projectionDelta.x),Jm(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ap(this.projectionDelta.x,this.prevProjectionDelta.x)||!ap(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wr(),this.projectionDelta=Wr(),this.projectionDeltaWithTransform=Wr()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=et(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=g!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(qR));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const S=C/1e3;dp(f.x,o.x,S),dp(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(io(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UR(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&PR(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=et()),zt(w,this.relativeTarget)),p&&(this.animationValues=d,SR(d,u,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{ba.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mi(0)),this.currentAnimation=yR(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&vb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||et();const f=jt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=jt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}zt(a,c),Br(a,d),ro(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ER),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&ml("z",o,u,this.animationValues);for(let d=0;d<hl.length;d++)ml(`rotate${hl[d]}`,o,u,this.animationValues),ml(`skew${hl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=xa(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=xa(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=OR(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:g}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in wo){if(d[v]===void 0)continue;const{correct:p,applyTo:y,isCSSVariable:x}=wo[v],b=f==="none"?d[v]:p(d[v],u);if(y){const w=y.length;for(let C=0;C<w;C++)o[y[C]]=b}else x?this.options.visualElement.renderState.vars[v]=b:o[v]=b}this.options.layoutId&&(o.pointerEvents=u===this?xa(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(cp),this.root.sharedNodes.clear()}}}function RR(t){t.updateLayout()}function MR(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Yt(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],g=jt(h);h.min=s[f].min,h.max=h.min+g}):vb(i,e.layoutBox,s)&&Yt(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],g=jt(s[f]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Wr();ro(a,s,e.layoutBox);const c=Wr();o?ro(c,t.applyTransform(r,!0),e.measuredBox):ro(c,s,e.layoutBox);const u=!mb(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const v=et();io(v,e.layoutBox,h.layoutBox);const p=et();io(p,s,g.layoutBox),pb(v,p)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function DR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FR(t){t.clearSnapshot()}function cp(t){t.clearMeasurements()}function lp(t){t.isLayoutDirty=!1}function LR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function up(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VR(t){t.resolveTargetDelta()}function BR(t){t.calcProjection()}function WR(t){t.resetSkewAndRotation()}function $R(t){t.removeLeadSnapshot()}function dp(t,e,n){t.translate=Ye(e.translate,0,n),t.scale=Ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fp(t,e,n,s){t.min=Ye(e.min,n.min,s),t.max=Ye(e.max,n.max,s)}function UR(t,e,n,s){fp(t.x,e.x,n.x,s),fp(t.y,e.y,n.y,s)}function qR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const HR={duration:.45,ease:[.4,0,.1,1]},hp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mp=hp("applewebkit/")&&!hp("chrome/")?Math.round:Qt;function pp(t){t.min=mp(t.min),t.max=mp(t.max)}function zR(t){pp(t.x),pp(t.y)}function vb(t,e,n){return t==="position"||t==="preserve-aspect"&&!XA(op(e),op(n),.2)}function YR(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const GR=yb({attachResizeListener:(t,e)=>So(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pl={current:void 0},xb=yb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pl.current){const t=new GR({});t.mount(window),t.setOptions({layoutScroll:!0}),pl.current=t}return pl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KR={pan:{Feature:hR},drag:{Feature:fR,ProjectionNode:xb,MeasureLayout:db}};function gp(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&qe.postRender(()=>i(e,Wo(e)))}class ZR extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=Sj(e,(n,s)=>(gp(this.node,s,"Start"),r=>gp(this.node,r,"End"))))}unmount(){}}class QR extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lo(So(this.node.current,"focus",()=>this.onFocus()),So(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yp(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&qe.postRender(()=>i(e,Wo(e)))}class XR extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=Nj(e,(n,s)=>(yp(this.node,s,"Start"),(r,{success:i})=>yp(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eu=new WeakMap,gl=new WeakMap,JR=t=>{const e=Eu.get(t.target);e&&e(t)},eM=t=>{t.forEach(JR)};function tM({root:t,...e}){const n=t||document;gl.has(n)||gl.set(n,{});const s=gl.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(eM,{root:t,...e})),s[r]}function nM(t,e,n){const s=tM(e);return Eu.set(t,n),s.observe(t),()=>{Eu.delete(t),s.unobserve(t)}}const sM={some:0,all:1};class rM extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:sM[r]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return nM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iM(e,n))&&this.startObserver()}unmount(){}}function iM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const oM={inView:{Feature:rM},tap:{Feature:XR},focus:{Feature:QR},hover:{Feature:ZR}},aM={layout:{ProjectionNode:xb,MeasureLayout:db}},cM={...zA,...oM,...KR,...aM},yt=cA(cM,wA),lM=()=>{const t=_r(),{data:e,isLoading:n}=wt(),s=()=>{const i=document.querySelector('[data-testid="sms-login-button"]');i&&i.click()},r=()=>{t("/dashboard")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[l.jsx(Sc,{}),l.jsx("div",{className:"flex flex-col justify-center items-center p-6 py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsxs(yt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-12",children:[l.jsx(yt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.6},className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(N0,{className:"h-10 w-10 text-white"})}),l.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent mb-6",children:"ЧистоДом"}),l.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.8},className:"space-y-4",children:[l.jsx("p",{className:"text-xl md:text-2xl text-gray-700 max-w-3xl mx-auto leading-relaxed",children:"Современная платформа для управления клининговыми услугами с удобной системой заказов и подписок."}),l.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:e?`Добро пожаловать, ${e.name}! Управляйте своими заказами и подписками в удобном интерфейсе.`:"Простой вход по SMS, быстрая авторизация и полный контроль над вашими услугами в одном приложении."})]})]}),l.jsx(yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:!n&&l.jsx(me,{onClick:e?r:s,size:"lg",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white px-8 py-4 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e?l.jsxs(l.Fragment,{children:[l.jsx(T0,{className:"h-5 w-5 mr-3"}),"Панель управления",l.jsx(_a,{className:"h-5 w-5 ml-3"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Dr,{className:"h-5 w-5 mr-3"}),"Войти",l.jsx(_a,{className:"h-5 w-5 ml-3"})]})})})]})}),l.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},className:"py-16 bg-gradient-to-r from-blue-50 to-green-50",children:l.jsx("div",{className:"container mx-auto px-6",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx(yt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-12",children:l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Присоединяйтесь к тысячам довольных клиентов"})}),l.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 text-gray-600",children:[l.jsxs(yt.div,{animate:{y:[0,-10,0],rotate:[0,5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-sm font-medium",children:"Быстро"})]}),l.jsxs(yt.div,{animate:{y:[0,-10,0],rotate:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),l.jsx("span",{className:"text-sm font-medium",children:"Безопасно"})]}),l.jsxs(yt.div,{animate:{y:[0,-10,0],rotate:[0,5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:2},className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),l.jsx("span",{className:"text-sm font-medium",children:"Удобно"})]}),l.jsxs(yt.div,{animate:{y:[0,-10,0],rotate:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:3},className:"flex items-center gap-2",children:[l.jsx(P0,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"text-sm font-medium",children:"Качественно"})]})]})]})})}),l.jsx("div",{className:"container mx-auto px-6 py-16",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs(yt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Почему выбирают нас?"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Мы делаем клининговые услуги простыми, быстрыми и доступными для каждого"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsx(yt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.1},viewport:{once:!0},children:l.jsx(xt,{className:"h-full hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:l.jsxs(bt,{className:"p-8 text-center",children:[l.jsx(yt.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(oi,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Быстро и удобно"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Создавайте заказы за несколько кликов. Наша система автоматически подберет подходящего курьера и рассчитает оптимальное время выполнения."}),l.jsx("div",{className:"mt-6 flex justify-center",children:l.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(lr,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Мгновенное подтверждение"})]})})]})})}),l.jsx(yt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:l.jsx(xt,{className:"h-full hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:l.jsxs(bt,{className:"p-8 text-center",children:[l.jsx(yt.div,{animate:{y:[0,-5,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(Jp,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Безопасность и надежность"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Все платежи защищены современными методами шифрования. SMS-авторизация обеспечивает максимальную безопасность ваших данных."}),l.jsx("div",{className:"mt-6 flex justify-center",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[l.jsx(lr,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Защищенные платежи"})]})})]})})}),l.jsx(yt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.3},viewport:{once:!0},children:l.jsx(xt,{className:"h-full hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:l.jsxs(bt,{className:"p-8 text-center",children:[l.jsx(yt.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(E0,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Гибкие подписки"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Оформите подписку на регулярные услуги и получайте скидки. Управляйте подписками в личном кабинете в любое время."}),l.jsx("div",{className:"mt-6 flex justify-center",children:l.jsxs("div",{className:"flex items-center gap-2 text-purple-600",children:[l.jsx(lr,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Экономия до 30%"})]})})]})})})]})]})})]})},Pi={createOrder:async t=>(await We.post("/orders",t)).data,getOrders:async t=>{const e=new URLSearchParams;return t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.limit&&e.append("limit",t.limit.toString()),t!=null&&t.status&&e.append("status",t.status),t!=null&&t.customerId&&e.append("customerId",t.customerId),t!=null&&t.currierId&&e.append("currierId",t.currierId),(await We.get(`/orders?${e.toString()}`)).data},getOrderById:async t=>(await We.get(`/orders/${t}`)).data,getCustomerOrders:async(t,e)=>{const n=new URLSearchParams;e!=null&&e.page&&n.append("page",e.page.toString()),e!=null&&e.limit&&n.append("limit",e.limit.toString()),e!=null&&e.status&&n.append("status",e.status);const s=await We.get(`/orders/customer/${t}?${n.toString()}`),r=Array.isArray(s.data)?s.data:[];return{orders:r,total:r.length,page:(e==null?void 0:e.page)||1,limit:(e==null?void 0:e.limit)||10}},getCurrierOrders:async(t,e)=>{const n=new URLSearchParams;return e!=null&&e.page&&n.append("page",e.page.toString()),e!=null&&e.limit&&n.append("limit",e.limit.toString()),e!=null&&e.status&&n.append("status",e.status),(await We.get(`/orders/currier/${t}?${n.toString()}`)).data},updateOrderStatus:async(t,e)=>(await We.patch(`/orders/${t}/status`,e)).data,takeOrder:async t=>(await We.patch(`/orders/${t}/take`)).data,startOrder:async t=>(await We.patch(`/orders/${t}/start`)).data,completeOrder:async t=>(await We.patch(`/orders/${t}/complete`)).data,cancelOrder:async t=>(await We.patch(`/orders/${t}/cancel`)).data,deleteOrder:async t=>(await We.delete(`/orders/${t}`)).data,createPaymentLink:async(t,e)=>(await We.post("/orders/payment/create",{orderId:t,amount:e})).data},bb=t=>{const{data:e}=wt();return ld({queryKey:["customer-orders",e==null?void 0:e.userId,t],queryFn:()=>Pi.getCustomerOrders(e.userId,t),enabled:!!(e!=null&&e.userId)})},uM=()=>{const t=Dn(),{data:e}=wt();return Ds({mutationFn:n=>Pi.createOrder(n),onSuccess:n=>{Ie.success("Заказ создан!",{description:`Заказ #${n.id.slice(-8)} успешно создан`,duration:5e3}),t.invalidateQueries({queryKey:["orders"]}),t.invalidateQueries({queryKey:["customer-orders",e==null?void 0:e.userId]})},onError:n=>{var r,i;const s=((i=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:i.message)||"Ошибка создания заказа";Ie.error("Ошибка",{description:s,duration:5e3})}})},dM=()=>{const t=Dn(),{data:e}=wt();return Ds({mutationFn:({id:n,data:s})=>Pi.updateOrderStatus(n,s),onSuccess:n=>{Ie.success("Статус обновлен!",{description:`Статус заказа #${n.id.slice(-8)} изменен на ${n.status}`,duration:4e3}),t.invalidateQueries({queryKey:["orders"]}),t.invalidateQueries({queryKey:["order",n.id]}),t.invalidateQueries({queryKey:["customer-orders",e==null?void 0:e.userId]})},onError:n=>{var r,i;const s=((i=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:i.message)||"Ошибка обновления статуса";Ie.error("Ошибка",{description:s,duration:5e3})}})},fM=()=>{const t=Dn(),{data:e}=wt();return Ds({mutationFn:n=>Pi.cancelOrder(n),onSuccess:n=>{Ie.success("Заказ отменен!",{description:`Заказ #${n.id.slice(-8)} успешно отменен`,duration:4e3}),t.invalidateQueries({queryKey:["orders"]}),t.invalidateQueries({queryKey:["order",n.id]}),t.invalidateQueries({queryKey:["customer-orders",e==null?void 0:e.userId]})},onError:n=>{var r,i;const s=((i=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:i.message)||"Ошибка отмены заказа";Ie.error("Ошибка",{description:s,duration:5e3})}})},hM=ud("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function As({className:t,variant:e,...n}){return l.jsx("div",{className:we(hM({variant:e}),t),...n})}const mM={new:{label:"Новый",variant:"default",className:"bg-blue-100 text-blue-800 border-blue-200"},paid:{label:"Оплачен",variant:"default",className:"bg-green-100 text-green-800 border-green-200"},assigned:{label:"Назначен",variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200"},in_progress:{label:"Выполняется",variant:"default",className:"bg-orange-100 text-orange-800 border-orange-200"},done:{label:"Завершен",variant:"default",className:"bg-green-100 text-green-800 border-green-200"},canceled:{label:"Отменен",variant:"destructive",className:"bg-red-100 text-red-800 border-red-200"}},wb=({status:t})=>{const e=mM[t];return l.jsx(As,{variant:e.variant,className:e.className,children:e.label})},Sb=m.createContext(void 0),uf=()=>{const t=m.useContext(Sb);if(!t)throw new Error("useLocale must be used within a LocaleProvider");return t},Cb=6048e5,pM=864e5,vp=Symbol.for("constructDateFrom");function ft(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&vp in t?t[vp](e):t instanceof Date?new t.constructor(e):new Date(e)}function Fe(t,e){return ft(e||t,t)}function kb(t,e,n){const s=Fe(t,n==null?void 0:n.in);return isNaN(e)?ft(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function _b(t,e,n){const s=Fe(t,n==null?void 0:n.in);if(isNaN(e))return ft(t,NaN);if(!e)return s;const r=s.getDate(),i=ft(t,s.getTime());i.setMonth(s.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(s.setFullYear(i.getFullYear(),i.getMonth(),r),s)}let gM={};function $o(){return gM}function Rs(t,e){var a,c,u,d;const n=$o(),s=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=Fe(t,e==null?void 0:e.in),i=r.getDay(),o=(i<s?7:0)+i-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Co(t,e){return Rs(t,{...e,weekStartsOn:1})}function Nb(t,e){const n=Fe(t,e==null?void 0:e.in),s=n.getFullYear(),r=ft(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=Co(r),o=ft(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=Co(o);return n.getTime()>=i.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function xp(t){const e=Fe(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Tr(t,...e){const n=ft.bind(null,t||e.find(s=>typeof s=="object"));return e.map(n)}function ko(t,e){const n=Fe(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Tb(t,e,n){const[s,r]=Tr(n==null?void 0:n.in,t,e),i=ko(s),o=ko(r),a=+i-xp(i),c=+o-xp(o);return Math.round((a-c)/pM)}function yM(t,e){const n=Nb(t,e),s=ft(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Co(s)}function vM(t,e,n){return kb(t,e*7,n)}function xM(t,e,n){return _b(t,e*12,n)}function bM(t,e){let n,s=e==null?void 0:e.in;return t.forEach(r=>{!s&&typeof r=="object"&&(s=ft.bind(null,r));const i=Fe(r,s);(!n||n<i||isNaN(+i))&&(n=i)}),ft(s,n||NaN)}function wM(t,e){let n,s=e==null?void 0:e.in;return t.forEach(r=>{!s&&typeof r=="object"&&(s=ft.bind(null,r));const i=Fe(r,s);(!n||n>i||isNaN(+i))&&(n=i)}),ft(s,n||NaN)}function SM(t,e,n){const[s,r]=Tr(n==null?void 0:n.in,t,e);return+ko(s)==+ko(r)}function Pb(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function CM(t){return!(!Pb(t)&&typeof t!="number"||isNaN(+Fe(t)))}function kM(t,e,n){const[s,r]=Tr(n==null?void 0:n.in,t,e),i=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return i*12+o}function _M(t,e){const n=Fe(t,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function NM(t,e){const[n,s]=Tr(t,e.start,e.end);return{start:n,end:s}}function TM(t,e){const{start:n,end:s}=NM(e==null?void 0:e.in,t);let r=+n>+s;const i=r?+n:+s,o=r?s:n;o.setHours(0,0,0,0),o.setDate(1);let a=1;const c=[];for(;+o<=i;)c.push(ft(n,o)),o.setMonth(o.getMonth()+a);return r?c.reverse():c}function PM(t,e){const n=Fe(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function EM(t,e){const n=Fe(t,e==null?void 0:e.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Eb(t,e){const n=Fe(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ob(t,e){var a,c,u,d;const n=$o(),s=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=Fe(t,e==null?void 0:e.in),i=r.getDay(),o=(i<s?-7:0)+6-(i-s);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function OM(t,e){return Ob(t,{...e,weekStartsOn:1})}const jM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AM=(t,e,n)=>{let s;const r=jM[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function zr(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const RM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IM={date:zr({formats:RM,defaultWidth:"full"}),time:zr({formats:MM,defaultWidth:"full"}),dateTime:zr({formats:DM,defaultWidth:"full"})},FM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LM=(t,e,n,s)=>FM[t];function wn(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const VM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},BM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$M={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},HM=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zM={ordinalNumber:HM,era:wn({values:VM,defaultWidth:"wide"}),quarter:wn({values:BM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wn({values:WM,defaultWidth:"wide"}),day:wn({values:$M,defaultWidth:"wide"}),dayPeriod:wn({values:UM,defaultWidth:"wide",formattingValues:qM,defaultFormattingWidth:"wide"})};function Sn(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?GM(a,f=>f.test(o)):YM(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function YM(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function GM(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jb(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const KM=/^(\d+)(th|st|nd|rd)?/i,ZM=/\d+/i,QM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XM={any:[/^b/i,/^(a|c)/i]},JM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eD={any:[/1/i,/2/i,/3/i,/4/i]},tD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aD={ordinalNumber:jb({matchPattern:KM,parsePattern:ZM,valueCallback:t=>parseInt(t,10)}),era:Sn({matchPatterns:QM,defaultMatchWidth:"wide",parsePatterns:XM,defaultParseWidth:"any"}),quarter:Sn({matchPatterns:JM,defaultMatchWidth:"wide",parsePatterns:eD,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Sn({matchPatterns:tD,defaultMatchWidth:"wide",parsePatterns:nD,defaultParseWidth:"any"}),day:Sn({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:rD,defaultParseWidth:"any"}),dayPeriod:Sn({matchPatterns:iD,defaultMatchWidth:"any",parsePatterns:oD,defaultParseWidth:"any"})},df={code:"en-US",formatDistance:AM,formatLong:IM,formatRelative:LM,localize:zM,match:aD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cD(t,e){const n=Fe(t,e==null?void 0:e.in);return Tb(n,Eb(n))+1}function Ab(t,e){const n=Fe(t,e==null?void 0:e.in),s=+Co(n)-+yM(n);return Math.round(s/Cb)+1}function Rb(t,e){var d,f,h,g;const n=Fe(t,e==null?void 0:e.in),s=n.getFullYear(),r=$o(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=ft((e==null?void 0:e.in)||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const a=Rs(o,e),c=ft((e==null?void 0:e.in)||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=Rs(c,e);return+n>=+a?s+1:+n>=+u?s:s-1}function lD(t,e){var a,c,u,d;const n=$o(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=Rb(t,e),i=ft((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),Rs(i,e)}function Mb(t,e){const n=Fe(t,e==null?void 0:e.in),s=+Rs(n,e)-+lD(n,e);return Math.round(s/Cb)+1}function De(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const is={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return De(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):De(n+1,2)},d(t,e){return De(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return De(t.getHours()%12||12,e.length)},H(t,e){return De(t.getHours(),e.length)},m(t,e){return De(t.getMinutes(),e.length)},s(t,e){return De(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return De(r,e.length)}},Rr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bp={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return is.y(t,e)},Y:function(t,e,n,s){const r=Rb(t,s),i=r>0?r:1-r;if(e==="YY"){const o=i%100;return De(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):De(i,e.length)},R:function(t,e){const n=Nb(t);return De(n,e.length)},u:function(t,e){const n=t.getFullYear();return De(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return De(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return De(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return is.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return De(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=Mb(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):De(r,e.length)},I:function(t,e,n){const s=Ab(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):De(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):is.d(t,e)},D:function(t,e,n){const s=cD(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):De(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return De(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return De(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return De(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=Rr.noon:s===0?r=Rr.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=Rr.evening:s>=12?r=Rr.afternoon:s>=4?r=Rr.morning:r=Rr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return is.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):is.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):De(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):De(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):is.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):is.s(t,e)},S:function(t,e){return is.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Sp(s);case"XXXX":case"XX":return zs(s);case"XXXXX":case"XXX":default:return zs(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Sp(s);case"xxxx":case"xx":return zs(s);case"xxxxx":case"xxx":default:return zs(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wp(s,":");case"OOOO":default:return"GMT"+zs(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wp(s,":");case"zzzz":default:return"GMT"+zs(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return De(s,e.length)},T:function(t,e,n){return De(+t,e.length)}};function wp(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+De(i,2)}function Sp(t,e){return t%60===0?(t>0?"-":"+")+De(Math.abs(t)/60,2):zs(t,e)}function zs(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=De(Math.trunc(s/60),2),i=De(s%60,2);return n+r+e+i}const Cp=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Db=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},uD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return Cp(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Cp(s,e)).replace("{{time}}",Db(r,e))},dD={p:Db,P:uD},fD=/^D+$/,hD=/^Y+$/,mD=["D","DD","YY","YYYY"];function pD(t){return fD.test(t)}function gD(t){return hD.test(t)}function yD(t,e,n){const s=vD(t,e,n);if(console.warn(s),mD.includes(t))throw new RangeError(s)}function vD(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wD=/^'([^]*?)'?$/,SD=/''/g,CD=/[a-zA-Z]/;function Ib(t,e,n){var d,f,h,g,v,p,y,x;const s=$o(),r=(n==null?void 0:n.locale)??s.locale??df,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((x=(y=s.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,a=Fe(t,n==null?void 0:n.in);if(!CM(a))throw new RangeError("Invalid time value");let c=e.match(bD).map(b=>{const w=b[0];if(w==="p"||w==="P"){const C=dD[w];return C(b,r.formatLong)}return b}).join("").match(xD).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:kD(b)};if(bp[w])return{isToken:!0,value:b};if(w.match(CD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});r.localize.preprocessor&&(c=r.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&gD(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&pD(w))&&yD(w,e,String(t));const C=bp[w[0]];return C(a,w,r.localize,u)}).join("")}function kD(t){const e=t.match(wD);return e?e[1].replace(SD,"'"):t}function _D(t,e){const n=Fe(t,e==null?void 0:e.in),s=n.getFullYear(),r=n.getMonth(),i=ft(n,0);return i.setFullYear(s,r+1,0),i.setHours(0,0,0,0),i.getDate()}function ND(t,e){return Fe(t,e==null?void 0:e.in).getMonth()}function TD(t,e){return Fe(t,e==null?void 0:e.in).getFullYear()}function PD(t,e){return+Fe(t)>+Fe(e)}function ED(t,e){return+Fe(t)<+Fe(e)}function kp(t,e,n){const[s,r]=Tr(n==null?void 0:n.in,t,e);return+Rs(s,n)==+Rs(r,n)}function OD(t,e,n){const[s,r]=Tr(n==null?void 0:n.in,t,e);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function jD(t,e,n){const[s,r]=Tr(n==null?void 0:n.in,t,e);return s.getFullYear()===r.getFullYear()}function AD(t,e,n){const s=Fe(t,n==null?void 0:n.in),r=s.getFullYear(),i=s.getDate(),o=ft(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const a=_D(o);return s.setMonth(e,Math.min(i,a)),s}function RD(t,e,n){const s=Fe(t,n==null?void 0:n.in);return isNaN(+s)?ft(t,NaN):(s.setFullYear(e),s)}function Ui(t,e){if(t.one!==void 0&&e===1)return t.one;const n=e%10,s=e%100;return n===1&&s!==11?t.singularNominative.replace("{{count}}",String(e)):n>=2&&n<=4&&(s<10||s>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function Nt(t){return(e,n)=>n!=null&&n.addSuffix?n.comparison&&n.comparison>0?t.future?Ui(t.future,e):"через "+Ui(t.regular,e):t.past?Ui(t.past,e):Ui(t.regular,e)+" назад":Ui(t.regular,e)}const MD={lessThanXSeconds:Nt({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Nt({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(t,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:Nt({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Nt({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Nt({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Nt({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Nt({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Nt({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Nt({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Nt({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Nt({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Nt({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Nt({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Nt({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Nt({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},DD=(t,e,n)=>MD[t](e,n),ID={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},FD={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},LD={any:"{{date}}, {{time}}"},VD={date:zr({formats:ID,defaultWidth:"full"}),time:zr({formats:FD,defaultWidth:"full"}),dateTime:zr({formats:LD,defaultWidth:"any"})},ff=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function BD(t){const e=ff[t];switch(t){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function _p(t){const e=ff[t];return t===2?"'во "+e+" в' p":"'в "+e+" в' p"}function WD(t){const e=ff[t];switch(t){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const $D={lastWeek:(t,e,n)=>{const s=t.getDay();return kp(t,e,n)?_p(s):BD(s)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(t,e,n)=>{const s=t.getDay();return kp(t,e,n)?_p(s):WD(s)},other:"P"},UD=(t,e,n,s)=>{const r=$D[t];return typeof r=="function"?r(e,n,s):r},qD={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},HD={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},zD={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},YD={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},GD={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},KD={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},ZD={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},QD=(t,e)=>{const n=Number(t),s=e==null?void 0:e.unit;let r;return s==="date"?r="-е":s==="week"||s==="minute"||s==="second"?r="-я":r="-й",n+r},XD={ordinalNumber:QD,era:wn({values:qD,defaultWidth:"wide"}),quarter:wn({values:HD,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wn({values:zD,defaultWidth:"wide",formattingValues:YD,defaultFormattingWidth:"wide"}),day:wn({values:GD,defaultWidth:"wide"}),dayPeriod:wn({values:KD,defaultWidth:"any",formattingValues:ZD,defaultFormattingWidth:"wide"})},JD=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,e1=/\d+/i,t1={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},n1={any:[/^д/i,/^н/i]},s1={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},r1={any:[/1/i,/2/i,/3/i,/4/i]},i1={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},o1={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},a1={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},c1={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},l1={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},u1={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},d1={ordinalNumber:jb({matchPattern:JD,parsePattern:e1,valueCallback:t=>parseInt(t,10)}),era:Sn({matchPatterns:t1,defaultMatchWidth:"wide",parsePatterns:n1,defaultParseWidth:"any"}),quarter:Sn({matchPatterns:s1,defaultMatchWidth:"wide",parsePatterns:r1,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Sn({matchPatterns:i1,defaultMatchWidth:"wide",parsePatterns:o1,defaultParseWidth:"any"}),day:Sn({matchPatterns:a1,defaultMatchWidth:"wide",parsePatterns:c1,defaultParseWidth:"any"}),dayPeriod:Sn({matchPatterns:l1,defaultMatchWidth:"wide",parsePatterns:u1,defaultParseWidth:"any"})},Fb={code:"ru",formatDistance:DD,formatLong:VD,formatRelative:UD,localize:XD,match:d1,options:{weekStartsOn:1,firstWeekContainsDate:1}},f1=(t,e="ru")=>{try{const n=new Date(t),s=e==="ru"?"ru-RU":"en-US";return n.toLocaleString(s,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e==="ru"?"Неверная дата":"Invalid date"}},Np=(t,e="ru")=>{try{const n=new Date(t),s=e==="ru"?"ru-RU":"en-US";return n.toLocaleDateString(s,{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return e==="ru"?"Неверная дата":"Invalid date"}},h1=(t,e="ru")=>{try{const n=new Date(t),s=e==="ru"?"ru-RU":"en-US";return n.toLocaleDateString(s,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return e==="ru"?"Неверная дата":"Invalid date"}},Lb=(t,e="ru")=>new Date(t).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m1=({order:t,onClick:e})=>{const{locale:n}=uf(),s=t.payments.some(r=>r.status==="pending");return l.jsx(xt,{className:"hover:shadow-md transition-all duration-200 cursor-pointer hover:border-primary/20",onClick:e,children:l.jsx(bt,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[l.jsxs("h3",{className:"font-semibold text-base sm:text-lg truncate",children:["Заказ #",t.id.slice(-8)]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wb,{status:t.status}),s&&l.jsx(As,{variant:"secondary",className:"text-xs",children:"Ожидает оплаты"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(tc,{className:"h-3 w-3 flex-shrink-0"}),l.jsx("span",{className:"truncate max-w-[200px] sm:max-w-[300px]",children:t.address})]}),t.scheduledAt&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(jn,{className:"h-3 w-3 flex-shrink-0"}),l.jsx("span",{children:h1(t.scheduledAt,n)})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(oi,{className:"h-3 w-3 flex-shrink-0"}),l.jsx("span",{children:Lb(t.createdAt,n)})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4",children:[l.jsxs("div",{className:"text-left sm:text-right",children:[l.jsxs("div",{className:"text-lg sm:text-xl font-bold text-primary",children:[t.price,"₽"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:t.payments.length>0?t.payments.some(r=>r.status==="paid")?"Оплачен":"Ожидает оплаты":"Не оплачен"})]}),l.jsx(O0,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground flex-shrink-0"})]})]})})})},p1=({icon:t,title:e,description:n,action:s})=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[t&&l.jsx("div",{className:"mb-4",children:t}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),l.jsx("p",{className:"text-gray-500 mb-6 max-w-sm",children:n}),s&&l.jsx("div",{children:s})]}),g1=({orders:t,isLoading:e=!1,onStatusUpdate:n,onCancel:s,showActions:r=!1,onOrderClick:i})=>e?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(li,{})}):t.length===0?l.jsx(p1,{icon:l.jsx(xn,{className:"h-12 w-12 text-muted-foreground"}),title:"Заказы не найдены",description:"У вас пока нет заказов. Создайте первый заказ, чтобы начать работу."}):l.jsx("div",{className:"space-y-3",children:t.map(o=>l.jsx(m1,{order:o,onStatusUpdate:n,onCancel:s,showActions:r,onClick:()=>i==null?void 0:i(o)},o.id))}),Vb=m.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Vb.displayName="Textarea";function Tp(t,[e,n]){return Math.min(n,Math.max(e,t))}function y1(t){const e=t+"CollectionProvider",[n,s]=yi(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:x}=p,b=D.useRef(null),w=D.useRef(new Map).current;return l.jsx(r,{scope:y,itemMap:w,collectionRef:b,children:x})};o.displayName=e;const a=t+"CollectionSlot",c=pr(a),u=D.forwardRef((p,y)=>{const{scope:x,children:b}=p,w=i(a,x),C=$e(y,w.collectionRef);return l.jsx(c,{ref:C,children:b})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=pr(d),g=D.forwardRef((p,y)=>{const{scope:x,children:b,...w}=p,C=D.useRef(null),S=$e(y,C),N=i(d,x);return D.useEffect(()=>(N.itemMap.set(C,{ref:C,...w}),()=>void N.itemMap.delete(C))),l.jsx(h,{[f]:"",ref:S,children:b})});g.displayName=d;function v(p){const y=i(t+"CollectionConsumer",p);return D.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((N,T)=>w.indexOf(N.ref.current)-w.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},v,s]}var v1=m.createContext(void 0);function x1(t){const e=m.useContext(v1);return t||e||"ltr"}function b1(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var w1=[" ","Enter","ArrowUp","ArrowDown"],S1=[" ","Enter"],Cr="Select",[Nc,Tc,C1]=y1(Cr),[Ei,qV]=yi(Cr,[C1,bi]),Pc=bi(),[k1,Bs]=Ei(Cr),[_1,N1]=Ei(Cr),Bb=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:v}=t,p=Pc(e),[y,x]=m.useState(null),[b,w]=m.useState(null),[C,S]=m.useState(!1),N=x1(u),[T,E]=Oa({prop:s,defaultProp:r??!1,onChange:i,caller:Cr}),[A,M]=Oa({prop:o,defaultProp:a,onChange:c,caller:Cr}),L=m.useRef(null),R=y?v||!!y.closest("form"):!0,[I,q]=m.useState(new Set),ee=Array.from(I).map(G=>G.props.value).join(";");return l.jsx(Ag,{...p,children:l.jsxs(k1,{required:g,scope:e,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:ur(),value:A,onValueChange:M,open:T,onOpenChange:E,dir:N,triggerPointerDownPosRef:L,disabled:h,children:[l.jsx(Nc.Provider,{scope:e,children:l.jsx(_1,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(G=>{q(Y=>new Set(Y).add(G))},[]),onNativeOptionRemove:m.useCallback(G=>{q(Y=>{const W=new Set(Y);return W.delete(G),W})},[]),children:n})}),R?l.jsxs(uw,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:G=>M(G.target.value),disabled:h,form:v,children:[A===void 0?l.jsx("option",{value:""}):null,Array.from(I)]},ee):null]})})};Bb.displayName=Cr;var Wb="SelectTrigger",$b=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Pc(n),o=Bs(Wb,n),a=o.disabled||s,c=$e(e,o.onTriggerChange),u=Tc(n),d=m.useRef("touch"),[f,h,g]=fw(p=>{const y=u().filter(w=>!w.disabled),x=y.find(w=>w.value===o.value),b=hw(y,p,x);b!==void 0&&o.onValueChange(b.value)}),v=p=>{a||(o.onOpenChange(!0),g()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(ac,{asChild:!0,...i,children:l.jsx(Re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":dw(o.value)?"":void 0,...r,ref:c,onClick:be(r.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:be(r.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:be(r.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&w1.includes(p.key)&&(v(),p.preventDefault())})})})});$b.displayName=Wb;var Ub="SelectValue",qb=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:o="",...a}=t,c=Bs(Ub,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=$e(e,c.onValueNodeChange);return _t(()=>{u(d)},[u,d]),l.jsx(Re.span,{...a,ref:f,style:{pointerEvents:"none"},children:dw(c.value)?l.jsx(l.Fragment,{children:o}):i})});qb.displayName=Ub;var T1="SelectIcon",Hb=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return l.jsx(Re.span,{"aria-hidden":!0,...r,ref:e,children:s||"▼"})});Hb.displayName=T1;var P1="SelectPortal",zb=t=>l.jsx(jo,{asChild:!0,...t});zb.displayName=P1;var kr="SelectContent",Yb=m.forwardRef((t,e)=>{const n=Bs(kr,t.__scopeSelect),[s,r]=m.useState();if(_t(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?ec.createPortal(l.jsx(Gb,{scope:t.__scopeSelect,children:l.jsx(Nc.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(Kb,{...t,ref:e})});Yb.displayName=kr;var en=10,[Gb,Ws]=Ei(kr),E1="SelectContentImpl",O1=pr("SelectContent.RemoveScroll"),Kb=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:y,...x}=t,b=Bs(kr,n),[w,C]=m.useState(null),[S,N]=m.useState(null),T=$e(e,se=>C(se)),[E,A]=m.useState(null),[M,L]=m.useState(null),R=Tc(n),[I,q]=m.useState(!1),ee=m.useRef(!1);m.useEffect(()=>{if(w)return gd(w)},[w]),pd();const G=m.useCallback(se=>{const[_e,...Le]=R().map(ye=>ye.ref.current),[Se]=Le.slice(-1),Ne=document.activeElement;for(const ye of se)if(ye===Ne||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===_e&&S&&(S.scrollTop=0),ye===Se&&S&&(S.scrollTop=S.scrollHeight),ye==null||ye.focus(),document.activeElement!==Ne))return},[R,S]),Y=m.useCallback(()=>G([E,w]),[G,E,w]);m.useEffect(()=>{I&&Y()},[I,Y]);const{onOpenChange:W,triggerPointerDownPosRef:Z}=b;m.useEffect(()=>{if(w){let se={x:0,y:0};const _e=Se=>{var Ne,ye;se={x:Math.abs(Math.round(Se.pageX)-(((Ne=Z.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((ye=Z.current)==null?void 0:ye.y)??0))}},Le=Se=>{se.x<=10&&se.y<=10?Se.preventDefault():w.contains(Se.target)||W(!1),document.removeEventListener("pointermove",_e),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Le,{capture:!0})}}},[w,W,Z]),m.useEffect(()=>{const se=()=>W(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[W]);const[ce,xe]=fw(se=>{const _e=R().filter(Ne=>!Ne.disabled),Le=_e.find(Ne=>Ne.ref.current===document.activeElement),Se=hw(_e,se,Le);Se&&setTimeout(()=>Se.ref.current.focus())}),at=m.useCallback((se,_e,Le)=>{const Se=!ee.current&&!Le;(b.value!==void 0&&b.value===_e||Se)&&(A(se),Se&&(ee.current=!0))},[b.value]),Xe=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Je=m.useCallback((se,_e,Le)=>{const Se=!ee.current&&!Le;(b.value!==void 0&&b.value===_e||Se)&&L(se)},[b.value]),ct=s==="popper"?Ou:Zb,mt=ct===Ou?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:p,avoidCollisions:y}:{};return l.jsx(Gb,{scope:n,content:w,viewport:S,onViewportChange:N,itemRefCallback:at,selectedItem:E,onItemLeave:Xe,itemTextRefCallback:Je,focusSelectedItem:Y,selectedItemText:M,position:s,isPositioned:I,searchRef:ce,children:l.jsx(yc,{as:O1,allowPinchZoom:!0,children:l.jsx(pc,{asChild:!0,trapped:b.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:be(r,se=>{var _e;(_e=b.trigger)==null||_e.focus({preventScroll:!0}),se.preventDefault()}),children:l.jsx(Eo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:l.jsx(ct,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:se=>se.preventDefault(),...x,...mt,onPlaced:()=>q(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:be(x.onKeyDown,se=>{const _e=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!_e&&se.key.length===1&&xe(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Se=R().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ne=se.target,ye=Se.indexOf(Ne);Se=Se.slice(ye+1)}setTimeout(()=>G(Se)),se.preventDefault()}})})})})})})});Kb.displayName=E1;var j1="SelectItemAlignedPosition",Zb=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=Bs(kr,n),o=Ws(kr,n),[a,c]=m.useState(null),[u,d]=m.useState(null),f=$e(e,T=>d(T)),h=Tc(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&p&&y&&x){const T=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=M.left-E.left,ye=A.left-Ne,lt=T.left-ye,X=T.width+lt,re=Math.max(X,E.width),Ve=window.innerWidth-en,Ge=Tp(ye,[en,Math.max(en,Ve-re)]);a.style.minWidth=X+"px",a.style.left=Ge+"px"}else{const Ne=E.right-M.right,ye=window.innerWidth-A.right-Ne,lt=window.innerWidth-T.right-ye,X=T.width+lt,re=Math.max(X,E.width),Ve=window.innerWidth-en,Ge=Tp(ye,[en,Math.max(en,Ve-re)]);a.style.minWidth=X+"px",a.style.right=Ge+"px"}const L=h(),R=window.innerHeight-en*2,I=p.scrollHeight,q=window.getComputedStyle(u),ee=parseInt(q.borderTopWidth,10),G=parseInt(q.paddingTop,10),Y=parseInt(q.borderBottomWidth,10),W=parseInt(q.paddingBottom,10),Z=ee+G+I+W+Y,ce=Math.min(y.offsetHeight*5,Z),xe=window.getComputedStyle(p),at=parseInt(xe.paddingTop,10),Xe=parseInt(xe.paddingBottom,10),Je=T.top+T.height/2-en,ct=R-Je,mt=y.offsetHeight/2,se=y.offsetTop+mt,_e=ee+G+se,Le=Z-_e;if(_e<=Je){const Ne=L.length>0&&y===L[L.length-1].ref.current;a.style.bottom="0px";const ye=u.clientHeight-p.offsetTop-p.offsetHeight,lt=Math.max(ct,mt+(Ne?Xe:0)+ye+Y),X=_e+lt;a.style.height=X+"px"}else{const Ne=L.length>0&&y===L[0].ref.current;a.style.top="0px";const lt=Math.max(Je,ee+p.offsetTop+(Ne?at:0)+mt)+Le;a.style.height=lt+"px",p.scrollTop=_e-Je+p.offsetTop}a.style.margin=`${en}px 0`,a.style.minHeight=ce+"px",a.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,a,u,p,y,x,i.dir,s]);_t(()=>w(),[w]);const[C,S]=m.useState();_t(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=m.useCallback(T=>{T&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return l.jsx(R1,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:l.jsx(Re.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});Zb.displayName=j1;var A1="SelectPopperPosition",Ou=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=en,...i}=t,o=Pc(n);return l.jsx(ed,{...o,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ou.displayName=A1;var[R1,hf]=Ei(kr,{}),ju="SelectViewport",Qb=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=Ws(ju,n),o=hf(ju,n),a=$e(e,i.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Nc.Slot,{scope:n,children:l.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:be(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-en*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(p,y);if(x<v){const b=x+g,w=Math.min(v,b),C=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Qb.displayName=ju;var Xb="SelectGroup",[M1,D1]=Ei(Xb),I1=m.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=ur();return l.jsx(M1,{scope:n,id:r,children:l.jsx(Re.div,{role:"group","aria-labelledby":r,...s,ref:e})})});I1.displayName=Xb;var Jb="SelectLabel",ew=m.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=D1(Jb,n);return l.jsx(Re.div,{id:r.id,...s,ref:e})});ew.displayName=Jb;var Za="SelectItem",[F1,tw]=Ei(Za),nw=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...o}=t,a=Bs(Za,n),c=Ws(Za,n),u=a.value===s,[d,f]=m.useState(i??""),[h,g]=m.useState(!1),v=$e(e,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,s,r)}),p=ur(),y=m.useRef("touch"),x=()=>{r||(a.onValueChange(s),a.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(F1,{scope:n,value:s,disabled:r,textId:p,isSelected:u,onItemTextChange:m.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:l.jsx(Nc.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:l.jsx(Re.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:v,onFocus:be(o.onFocus,()=>g(!0)),onBlur:be(o.onBlur,()=>g(!1)),onClick:be(o.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:be(o.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:be(o.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:be(o.onPointerMove,b=>{var w;y.current=b.pointerType,r?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:be(o.onKeyDown,b=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(S1.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});nw.displayName=Za;var Ki="SelectItemText",sw=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,o=Bs(Ki,n),a=Ws(Ki,n),c=tw(Ki,n),u=N1(Ki,n),[d,f]=m.useState(null),h=$e(e,x=>f(x),c.onItemTextChange,x=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return _t(()=>(p(v),()=>y(v)),[p,y,v]),l.jsxs(l.Fragment,{children:[l.jsx(Re.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ec.createPortal(i.children,o.valueNode):null]})});sw.displayName=Ki;var rw="SelectItemIndicator",iw=m.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return tw(rw,n).isSelected?l.jsx(Re.span,{"aria-hidden":!0,...s,ref:e}):null});iw.displayName=rw;var Au="SelectScrollUpButton",ow=m.forwardRef((t,e)=>{const n=Ws(Au,t.__scopeSelect),s=hf(Au,t.__scopeSelect),[r,i]=m.useState(!1),o=$e(e,s.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),r?l.jsx(cw,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});ow.displayName=Au;var Ru="SelectScrollDownButton",aw=m.forwardRef((t,e)=>{const n=Ws(Ru,t.__scopeSelect),s=hf(Ru,t.__scopeSelect),[r,i]=m.useState(!1),o=$e(e,s.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),r?l.jsx(cw,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});aw.displayName=Ru;var cw=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=Ws("SelectScrollButton",n),o=m.useRef(null),a=Tc(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),_t(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(Re.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:be(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:be(r.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:be(r.onPointerLeave,()=>{c()})})}),L1="SelectSeparator",lw=m.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return l.jsx(Re.div,{"aria-hidden":!0,...s,ref:e})});lw.displayName=L1;var Mu="SelectArrow",V1=m.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Pc(n),i=Bs(Mu,n),o=Ws(Mu,n);return i.open&&o.position==="popper"?l.jsx(td,{...r,...s,ref:e}):null});V1.displayName=Mu;var B1="SelectBubbleInput",uw=m.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=m.useRef(null),i=$e(s,r),o=b1(e);return m.useEffect(()=>{const a=r.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(Re.select,{...n,style:{...Rg,...n.style},ref:i,defaultValue:e})});uw.displayName=B1;function dw(t){return t===""||t===void 0}function fw(t){const e=gr(t),n=m.useRef(""),s=m.useRef(0),r=m.useCallback(o=>{const a=n.current+o;e(a),(function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function hw(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=W1(t,Math.max(i,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function W1(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var $1=Bb,mw=$b,U1=qb,q1=Hb,H1=zb,pw=Yb,z1=Qb,gw=ew,yw=nw,Y1=sw,G1=iw,vw=ow,xw=aw,bw=lw;const Du=$1,Iu=U1,Qa=m.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(mw,{ref:s,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(q1,{asChild:!0,children:l.jsx(eg,{className:"h-4 w-4 opacity-50"})})]}));Qa.displayName=mw.displayName;const ww=m.forwardRef(({className:t,...e},n)=>l.jsx(vw,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(j0,{className:"h-4 w-4"})}));ww.displayName=vw.displayName;const Sw=m.forwardRef(({className:t,...e},n)=>l.jsx(xw,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(eg,{className:"h-4 w-4"})}));Sw.displayName=xw.displayName;const Xa=m.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>l.jsx(H1,{children:l.jsxs(pw,{ref:r,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[l.jsx(ww,{}),l.jsx(z1,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Sw,{})]})}));Xa.displayName=pw.displayName;const K1=m.forwardRef(({className:t,...e},n)=>l.jsx(gw,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));K1.displayName=gw.displayName;const Ja=m.forwardRef(({className:t,children:e,...n},s)=>l.jsxs(yw,{ref:s,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(G1,{children:l.jsx(tg,{className:"h-4 w-4"})})}),l.jsx(Y1,{children:e})]}));Ja.displayName=yw.displayName;const Z1=m.forwardRef(({className:t,...e},n)=>l.jsx(bw,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));Z1.displayName=bw.displayName;function Q1(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const yl={},Zi={};function Js(t,e){try{const s=(yl[t]||(yl[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return s in Zi?Zi[s]:Pp(s,s.split(":"))}catch{if(t in Zi)return Zi[t];const n=t==null?void 0:t.match(X1);return n?Pp(t,n.slice(1)):NaN}}const X1=/([+-]\d\d):?(\d\d)?/;function Pp(t,e){const n=+(e[0]||0),s=+(e[1]||0),r=+(e[2]||0)/60;return Zi[t]=n*60+s>0?n*60+s+r:n*60-s-r}class _n extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Js(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),Cw(this),Fu(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new _n(...n,e):new _n(Date.now(),e)}withTimeZone(e){return new _n(+this,e)}getTimezoneOffset(){const e=-Js(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Fu(this),+this}[Symbol.for("constructDateFrom")](e){return new _n(+new Date(e),this.timeZone)}}const Ep=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!Ep.test(t))return;const e=t.replace(Ep,"$1UTC");_n.prototype[e]&&(t.startsWith("get")?_n.prototype[t]=function(){return this.internal[e]()}:(_n.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),J1(this),+this},_n.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Fu(this),+this}))});function Fu(t){t.internal.setTime(+t),t.internal.setUTCSeconds(t.internal.getUTCSeconds()-Math.round(-Js(t.timeZone,t)*60))}function J1(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),Cw(t)}function Cw(t){const e=Js(t.timeZone,t),n=e>0?Math.floor(e):Math.ceil(e),s=new Date(+t);s.setUTCHours(s.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),i=-new Date(+s).getTimezoneOffset(),o=r-i,a=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();o&&a&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+o);const c=r-n;c&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+c);const u=new Date(+t);u.setUTCSeconds(0);const d=r>0?u.getSeconds():(u.getSeconds()-60)%60,f=Math.round(-(Js(t.timeZone,t)*60))%60;(f||d)&&(t.internal.setUTCSeconds(t.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(t,Date.prototype.getUTCSeconds.call(t)+f+d));const h=Js(t.timeZone,t),g=h>0?Math.floor(h):Math.ceil(h),p=-new Date(+t).getTimezoneOffset()-g,y=g!==n,x=p-c;if(y&&x){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+x);const b=Js(t.timeZone,t),w=b>0?Math.floor(b):Math.ceil(b),C=g-w;C&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+C),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+C))}}class St extends _n{static tz(e,...n){return n.length?new St(...n,e):new St(Date.now(),e)}toISOString(){const[e,n,s]=this.tzComponents(),r=`${e}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,s,r]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${e} GMT${n}${s}${r} (${Q1(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",s=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),r=String(Math.abs(e)%60).padStart(2,"0");return[n,s,r]}withTimeZone(e){return new St(+this,e)}[Symbol.for("constructDateFrom")](e){return new St(+new Date(e),this.timeZone)}}const Op=5,eI=4;function tI(t,e){const n=e.startOfMonth(t),s=n.getDay()>0?n.getDay():7,r=e.addDays(t,-s+1),i=e.addDays(r,Op*7-1);return e.getMonth(t)===e.getMonth(i)?Op:eI}function kw(t,e){const n=e.startOfMonth(t),s=n.getDay();return s===1?n:s===0?e.addDays(n,-6):e.addDays(n,-1*(s-1))}function nI(t,e){const n=kw(t,e),s=tI(t,e);return e.addDays(n,s*7-1)}class ts{constructor(e,n){this.Date=Date,this.today=()=>{var s;return(s=this.overrides)!=null&&s.today?this.overrides.today():this.options.timeZone?St.tz(this.options.timeZone):new this.Date},this.newDate=(s,r,i)=>{var o;return(o=this.overrides)!=null&&o.newDate?this.overrides.newDate(s,r,i):this.options.timeZone?new St(s,r,i,this.options.timeZone):new Date(s,r,i)},this.addDays=(s,r)=>{var i;return(i=this.overrides)!=null&&i.addDays?this.overrides.addDays(s,r):kb(s,r)},this.addMonths=(s,r)=>{var i;return(i=this.overrides)!=null&&i.addMonths?this.overrides.addMonths(s,r):_b(s,r)},this.addWeeks=(s,r)=>{var i;return(i=this.overrides)!=null&&i.addWeeks?this.overrides.addWeeks(s,r):vM(s,r)},this.addYears=(s,r)=>{var i;return(i=this.overrides)!=null&&i.addYears?this.overrides.addYears(s,r):xM(s,r)},this.differenceInCalendarDays=(s,r)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):Tb(s,r)},this.differenceInCalendarMonths=(s,r)=>{var i;return(i=this.overrides)!=null&&i.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):kM(s,r)},this.eachMonthOfInterval=s=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):TM(s)},this.endOfBroadcastWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):nI(s,this)},this.endOfISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(s):OM(s)},this.endOfMonth=s=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(s):_M(s)},this.endOfWeek=(s,r)=>{var i;return(i=this.overrides)!=null&&i.endOfWeek?this.overrides.endOfWeek(s,r):Ob(s,this.options)},this.endOfYear=s=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(s):EM(s)},this.format=(s,r,i)=>{var a;const o=(a=this.overrides)!=null&&a.format?this.overrides.format(s,r,this.options):Ib(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(s):Ab(s)},this.getMonth=(s,r)=>{var i;return(i=this.overrides)!=null&&i.getMonth?this.overrides.getMonth(s,this.options):ND(s,this.options)},this.getYear=(s,r)=>{var i;return(i=this.overrides)!=null&&i.getYear?this.overrides.getYear(s,this.options):TD(s,this.options)},this.getWeek=(s,r)=>{var i;return(i=this.overrides)!=null&&i.getWeek?this.overrides.getWeek(s,this.options):Mb(s,this.options)},this.isAfter=(s,r)=>{var i;return(i=this.overrides)!=null&&i.isAfter?this.overrides.isAfter(s,r):PD(s,r)},this.isBefore=(s,r)=>{var i;return(i=this.overrides)!=null&&i.isBefore?this.overrides.isBefore(s,r):ED(s,r)},this.isDate=s=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(s):Pb(s)},this.isSameDay=(s,r)=>{var i;return(i=this.overrides)!=null&&i.isSameDay?this.overrides.isSameDay(s,r):SM(s,r)},this.isSameMonth=(s,r)=>{var i;return(i=this.overrides)!=null&&i.isSameMonth?this.overrides.isSameMonth(s,r):OD(s,r)},this.isSameYear=(s,r)=>{var i;return(i=this.overrides)!=null&&i.isSameYear?this.overrides.isSameYear(s,r):jD(s,r)},this.max=s=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(s):bM(s)},this.min=s=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(s):wM(s)},this.setMonth=(s,r)=>{var i;return(i=this.overrides)!=null&&i.setMonth?this.overrides.setMonth(s,r):AD(s,r)},this.setYear=(s,r)=>{var i;return(i=this.overrides)!=null&&i.setYear?this.overrides.setYear(s,r):RD(s,r)},this.startOfBroadcastWeek=(s,r)=>{var i;return(i=this.overrides)!=null&&i.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):kw(s,this)},this.startOfDay=s=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(s):ko(s)},this.startOfISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(s):Co(s)},this.startOfMonth=s=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(s):PM(s)},this.startOfWeek=(s,r)=>{var i;return(i=this.overrides)!=null&&i.startOfWeek?this.overrides.startOfWeek(s,this.options):Rs(s,this.options)},this.startOfYear=s=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(s):Eb(s)},this.options={locale:df,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,s=>n[s]||s)}formatNumber(e){return this.replaceDigits(e.toString())}}const In=new ts;class _w{constructor(e,n,s=In){this.date=e,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(e,n)),this.dateLib=s}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class sI{constructor(e,n){this.date=e,this.weeks=n}}class rI{constructor(e,n){this.days=n,this.weekNumber=e}}function iI(t){return D.createElement("button",{...t})}function oI(t){return D.createElement("span",{...t})}function aI(t){const{size:e=24,orientation:n="left",className:s}=t;return D.createElement("svg",{className:s,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&D.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&D.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&D.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&D.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function cI(t){const{day:e,modifiers:n,...s}=t;return D.createElement("td",{...s})}function lI(t){const{day:e,modifiers:n,...s}=t,r=D.useRef(null);return D.useEffect(()=>{var i;n.focused&&((i=r.current)==null||i.focus())},[n.focused]),D.createElement("button",{ref:r,...s})}var te;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(te||(te={}));var ze;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(ze||(ze={}));var an;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(an||(an={}));var Vt;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(Vt||(Vt={}));function uI(t){const{options:e,className:n,components:s,classNames:r,...i}=t,o=[r[te.Dropdown],n].join(" "),a=e==null?void 0:e.find(({value:c})=>c===i.value);return D.createElement("span",{"data-disabled":i.disabled,className:r[te.DropdownRoot]},D.createElement(s.Select,{className:o,...i},e==null?void 0:e.map(({value:c,label:u,disabled:d})=>D.createElement(s.Option,{key:c,value:c,disabled:d},u))),D.createElement("span",{className:r[te.CaptionLabel],"aria-hidden":!0},a==null?void 0:a.label,D.createElement(s.Chevron,{orientation:"down",size:18,className:r[te.Chevron]})))}function dI(t){return D.createElement("div",{...t})}function fI(t){return D.createElement("div",{...t})}function hI(t){const{calendarMonth:e,displayIndex:n,...s}=t;return D.createElement("div",{...s},t.children)}function mI(t){const{calendarMonth:e,displayIndex:n,...s}=t;return D.createElement("div",{...s})}function pI(t){return D.createElement("table",{...t})}function gI(t){return D.createElement("div",{...t})}const Nw=m.createContext(void 0);function Uo(){const t=m.useContext(Nw);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function yI(t){const{components:e}=Uo();return D.createElement(e.Dropdown,{...t})}function vI(t){const{onPreviousClick:e,onNextClick:n,previousMonth:s,nextMonth:r,...i}=t,{components:o,classNames:a,labels:{labelPrevious:c,labelNext:u}}=Uo(),d=m.useCallback(h=>{r&&(n==null||n(h))},[r,n]),f=m.useCallback(h=>{s&&(e==null||e(h))},[s,e]);return D.createElement("nav",{...i},D.createElement(o.PreviousMonthButton,{type:"button",className:a[te.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":c(s),onClick:f},D.createElement(o.Chevron,{disabled:s?void 0:!0,className:a[te.Chevron],orientation:"left"})),D.createElement(o.NextMonthButton,{type:"button",className:a[te.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":u(r),onClick:d},D.createElement(o.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[te.Chevron]})))}function xI(t){const{components:e}=Uo();return D.createElement(e.Button,{...t})}function bI(t){return D.createElement("option",{...t})}function wI(t){const{components:e}=Uo();return D.createElement(e.Button,{...t})}function SI(t){const{rootRef:e,...n}=t;return D.createElement("div",{...n,ref:e})}function CI(t){return D.createElement("select",{...t})}function kI(t){const{week:e,...n}=t;return D.createElement("tr",{...n})}function _I(t){return D.createElement("th",{...t})}function NI(t){return D.createElement("thead",{"aria-hidden":!0},D.createElement("tr",{...t}))}function TI(t){const{week:e,...n}=t;return D.createElement("th",{...n})}function PI(t){return D.createElement("th",{...t})}function EI(t){return D.createElement("tbody",{...t})}function OI(t){const{components:e}=Uo();return D.createElement(e.Dropdown,{...t})}const jI=Object.freeze(Object.defineProperty({__proto__:null,Button:iI,CaptionLabel:oI,Chevron:aI,Day:cI,DayButton:lI,Dropdown:uI,DropdownNav:dI,Footer:fI,Month:hI,MonthCaption:mI,MonthGrid:pI,Months:gI,MonthsDropdown:yI,Nav:vI,NextMonthButton:xI,Option:bI,PreviousMonthButton:wI,Root:SI,Select:CI,Week:kI,WeekNumber:TI,WeekNumberHeader:PI,Weekday:_I,Weekdays:NI,Weeks:EI,YearsDropdown:OI},Symbol.toStringTag,{value:"Module"}));function Yn(t,e,n=!1,s=In){let{from:r,to:i}=t;const{differenceInCalendarDays:o,isSameDay:a}=s;return r&&i?(o(i,r)<0&&([r,i]=[i,r]),o(e,r)>=(n?1:0)&&o(i,e)>=(n?1:0)):!n&&i?a(i,e):!n&&r?a(r,e):!1}function Tw(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function mf(t){return!!(t&&typeof t=="object"&&"from"in t)}function Pw(t){return!!(t&&typeof t=="object"&&"after"in t)}function Ew(t){return!!(t&&typeof t=="object"&&"before"in t)}function Ow(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function jw(t,e){return Array.isArray(t)&&t.every(e.isDate)}function Gn(t,e,n=In){const s=Array.isArray(e)?e:[e],{isSameDay:r,differenceInCalendarDays:i,isAfter:o}=n;return s.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return r(t,a);if(jw(a,n))return a.includes(t);if(mf(a))return Yn(a,t,!1,n);if(Ow(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(t.getDay()):a.dayOfWeek===t.getDay();if(Tw(a)){const c=i(a.before,t),u=i(a.after,t),d=c>0,f=u<0;return o(a.before,a.after)?f&&d:d||f}return Pw(a)?i(t,a.after)>0:Ew(a)?i(a.before,t)>0:typeof a=="function"?a(t):!1})}function AI(t,e,n,s,r){const{disabled:i,hidden:o,modifiers:a,showOutsideDays:c,broadcastCalendar:u,today:d}=e,{isSameDay:f,isSameMonth:h,startOfMonth:g,isBefore:v,endOfMonth:p,isAfter:y}=r,x=n&&g(n),b=s&&p(s),w={[ze.focused]:[],[ze.outside]:[],[ze.disabled]:[],[ze.hidden]:[],[ze.today]:[]},C={};for(const S of t){const{date:N,displayMonth:T}=S,E=!!(T&&!h(N,T)),A=!!(x&&v(N,x)),M=!!(b&&y(N,b)),L=!!(i&&Gn(N,i,r)),R=!!(o&&Gn(N,o,r))||A||M||!u&&!c&&E||u&&c===!1&&E,I=f(N,d??r.today());E&&w.outside.push(S),L&&w.disabled.push(S),R&&w.hidden.push(S),I&&w.today.push(S),a&&Object.keys(a).forEach(q=>{const ee=a==null?void 0:a[q];ee&&Gn(N,ee,r)&&(C[q]?C[q].push(S):C[q]=[S])})}return S=>{const N={[ze.focused]:!1,[ze.disabled]:!1,[ze.hidden]:!1,[ze.outside]:!1,[ze.today]:!1},T={};for(const E in w){const A=w[E];N[E]=A.some(M=>M===S)}for(const E in C)T[E]=C[E].some(A=>A===S);return{...N,...T}}}function RI(t,e,n={}){return Object.entries(t).filter(([,r])=>r===!0).reduce((r,[i])=>(n[i]?r.push(n[i]):e[ze[i]]?r.push(e[ze[i]]):e[an[i]]&&r.push(e[an[i]]),r),[e[te.Day]])}function MI(t){return{...jI,...t}}function DI(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,s])=>{n.startsWith("data-")&&(e[n]=s)}),e}function II(){const t={};for(const e in te)t[te[e]]=`rdp-${te[e]}`;for(const e in ze)t[ze[e]]=`rdp-${ze[e]}`;for(const e in an)t[an[e]]=`rdp-${an[e]}`;for(const e in Vt)t[Vt[e]]=`rdp-${Vt[e]}`;return t}function Aw(t,e,n){return(n??new ts(e)).format(t,"LLLL y")}const FI=Aw;function LI(t,e,n){return(n??new ts(e)).format(t,"d")}function VI(t,e=In){return e.format(t,"LLLL")}function BI(t,e,n){return(n??new ts(e)).format(t,"cccccc")}function WI(t,e=In){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function $I(){return""}function Rw(t,e=In){return e.format(t,"yyyy")}const UI=Rw,qI=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Aw,formatDay:LI,formatMonthCaption:FI,formatMonthDropdown:VI,formatWeekNumber:WI,formatWeekNumberHeader:$I,formatWeekdayName:BI,formatYearCaption:UI,formatYearDropdown:Rw},Symbol.toStringTag,{value:"Module"}));function HI(t){return t!=null&&t.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t!=null&&t.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...qI,...t}}function zI(t,e,n,s,r){const{startOfMonth:i,startOfYear:o,endOfYear:a,eachMonthOfInterval:c,getMonth:u}=r;return c({start:o(t),end:a(t)}).map(h=>{const g=s.formatMonthDropdown(h,r),v=u(h),p=e&&h<i(e)||n&&h>i(n)||!1;return{value:v,label:g,disabled:p}})}function YI(t,e={},n={}){let s={...e==null?void 0:e[te.Day]};return Object.entries(t).filter(([,r])=>r===!0).forEach(([r])=>{s={...s,...n==null?void 0:n[r]}}),s}function GI(t,e,n){const s=t.today(),r=e?t.startOfISOWeek(s):t.startOfWeek(s),i=[];for(let o=0;o<7;o++){const a=t.addDays(r,o);i.push(a)}return i}function KI(t,e,n,s,r=!1){if(!t||!e)return;const{startOfYear:i,endOfYear:o,addYears:a,getYear:c,isBefore:u,isSameYear:d}=s,f=i(t),h=o(e),g=[];let v=f;for(;u(v,h)||d(v,h);)g.push(v),v=a(v,1);return r&&g.reverse(),g.map(p=>{const y=n.formatYearDropdown(p,s);return{value:c(p),label:y,disabled:!1}})}function Mw(t,e,n,s){let r=(s??new ts(n)).format(t,"PPPP");return e.today&&(r=`Today, ${r}`),e.selected&&(r=`${r}, selected`),r}const ZI=Mw;function Dw(t,e,n){return(n??new ts(e)).format(t,"LLLL y")}const QI=Dw;function XI(t,e,n,s){let r=(s??new ts(n)).format(t,"PPPP");return e!=null&&e.today&&(r=`Today, ${r}`),r}function JI(t){return"Choose the Month"}function eF(){return""}function tF(t){return"Go to the Next Month"}function nF(t){return"Go to the Previous Month"}function sF(t,e,n){return(n??new ts(e)).format(t,"cccc")}function rF(t,e){return`Week ${t}`}function iF(t){return"Week Number"}function oF(t){return"Choose the Year"}const aF=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:QI,labelDay:ZI,labelDayButton:Mw,labelGrid:Dw,labelGridcell:XI,labelMonthDropdown:JI,labelNav:eF,labelNext:tF,labelPrevious:nF,labelWeekNumber:rF,labelWeekNumberHeader:iF,labelWeekday:sF,labelYearDropdown:oF},Symbol.toStringTag,{value:"Module"})),qo=t=>t instanceof HTMLElement?t:null,vl=t=>[...t.querySelectorAll("[data-animated-month]")??[]],cF=t=>qo(t.querySelector("[data-animated-month]")),xl=t=>qo(t.querySelector("[data-animated-caption]")),bl=t=>qo(t.querySelector("[data-animated-weeks]")),lF=t=>qo(t.querySelector("[data-animated-nav]")),uF=t=>qo(t.querySelector("[data-animated-weekdays]"));function dF(t,e,{classNames:n,months:s,focused:r,dateLib:i}){const o=m.useRef(null),a=m.useRef(s),c=m.useRef(!1);m.useLayoutEffect(()=>{const u=a.current;if(a.current=s,!e||!t.current||!(t.current instanceof HTMLElement)||s.length===0||u.length===0||s.length!==u.length)return;const d=i.isSameMonth(s[0].date,u[0].date),f=i.isAfter(s[0].date,u[0].date),h=f?n[Vt.caption_after_enter]:n[Vt.caption_before_enter],g=f?n[Vt.weeks_after_enter]:n[Vt.weeks_before_enter],v=o.current,p=t.current.cloneNode(!0);if(p instanceof HTMLElement?(vl(p).forEach(w=>{if(!(w instanceof HTMLElement))return;const C=cF(w);C&&w.contains(C)&&w.removeChild(C);const S=xl(w);S&&S.classList.remove(h);const N=bl(w);N&&N.classList.remove(g)}),o.current=p):o.current=null,c.current||d||r)return;const y=v instanceof HTMLElement?vl(v):[],x=vl(t.current);if(x!=null&&x.every(b=>b instanceof HTMLElement)&&y&&y.every(b=>b instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const b=lF(t.current);b&&(b.style.zIndex="1"),x.forEach((w,C)=>{const S=y[C];if(!S)return;w.style.position="relative",w.style.overflow="hidden";const N=xl(w);N&&N.classList.add(h);const T=bl(w);T&&T.classList.add(g);const E=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),b&&(b.style.zIndex=""),N&&N.classList.remove(h),T&&T.classList.remove(g),w.style.position="",w.style.overflow="",w.contains(S)&&w.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const A=uF(S);A&&(A.style.opacity="0");const M=xl(S);M&&(M.classList.add(f?n[Vt.caption_before_exit]:n[Vt.caption_after_exit]),M.addEventListener("animationend",E));const L=bl(S);L&&L.classList.add(f?n[Vt.weeks_before_exit]:n[Vt.weeks_after_exit]),w.insertBefore(S,w.firstChild)})}})}function fF(t,e,n,s){const r=t[0],i=t[t.length-1],{ISOWeek:o,fixedWeeks:a,broadcastCalendar:c}=n??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:f,endOfBroadcastWeek:h,endOfISOWeek:g,endOfMonth:v,endOfWeek:p,isAfter:y,startOfBroadcastWeek:x,startOfISOWeek:b,startOfWeek:w}=s,C=c?x(r,s):o?b(r):w(r),S=c?h(i):o?g(v(i)):p(v(i)),N=d(S,C),T=f(i,r)+1,E=[];for(let L=0;L<=N;L++){const R=u(C,L);if(e&&y(R,e))break;E.push(R)}const M=(c?35:42)*T;if(a&&E.length<M){const L=M-E.length;for(let R=0;R<L;R++){const I=u(E[E.length-1],1);E.push(I)}}return E}function hF(t){const e=[];return t.reduce((n,s)=>{const r=s.weeks.reduce((i,o)=>i.concat(o.days.slice()),e.slice());return n.concat(r.slice())},e.slice())}function mF(t,e,n,s){const{numberOfMonths:r=1}=n,i=[];for(let o=0;o<r;o++){const a=s.addMonths(t,o);if(e&&a>e)break;i.push(a)}return i}function jp(t,e,n,s){const{month:r,defaultMonth:i,today:o=s.today(),numberOfMonths:a=1}=t;let c=r||i||o;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:f}=s;if(n&&u(n,c)<a-1){const h=-1*(a-1);c=d(n,h)}return e&&u(c,e)<0&&(c=e),f(c)}function pF(t,e,n,s){const{addDays:r,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:a,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:f,startOfISOWeek:h,startOfWeek:g}=s,v=t.reduce((p,y)=>{const x=n.broadcastCalendar?f(y,s):n.ISOWeek?h(y):g(y),b=n.broadcastCalendar?i(y):n.ISOWeek?o(a(y)):c(a(y)),w=e.filter(T=>T>=x&&T<=b),C=n.broadcastCalendar?35:42;if(n.fixedWeeks&&w.length<C){const T=e.filter(E=>{const A=C-w.length;return E>b&&E<=r(b,A)});w.push(...T)}const S=w.reduce((T,E)=>{const A=n.ISOWeek?u(E):d(E),M=T.find(R=>R.weekNumber===A),L=new _w(E,y,s);return M?M.days.push(L):T.push(new rI(A,[L])),T},[]),N=new sI(y,S);return p.push(N),p},[]);return n.reverseMonths?v.reverse():v}function gF(t,e){let{startMonth:n,endMonth:s}=t;const{startOfYear:r,startOfDay:i,startOfMonth:o,endOfMonth:a,addYears:c,endOfYear:u,newDate:d,today:f}=e,{fromYear:h,toYear:g,fromMonth:v,toMonth:p}=t;!n&&v&&(n=v),!n&&h&&(n=e.newDate(h,0,1)),!s&&p&&(s=p),!s&&g&&(s=d(g,11,31));const y=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=o(n):h?n=d(h,0,1):!n&&y&&(n=r(c(t.today??f(),-100))),s?s=a(s):g?s=d(g,11,31):!s&&y&&(s=u(t.today??f())),[n&&i(n),s&&i(s)]}function yF(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i=1}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=s,u=r?i:1,d=o(t);if(!e)return a(d,u);if(!(c(e,t)<i))return a(d,u)}function vF(t,e,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i}=n,{startOfMonth:o,addMonths:a,differenceInCalendarMonths:c}=s,u=r?i??1:1,d=o(t);if(!e)return a(d,-u);if(!(c(d,e)<=0))return a(d,-u)}function xF(t){const e=[];return t.reduce((n,s)=>n.concat(s.weeks.slice()),e.slice())}function Ec(t,e){const[n,s]=m.useState(t);return[e===void 0?n:e,s]}function bF(t,e){const[n,s]=gF(t,e),{startOfMonth:r,endOfMonth:i}=e,o=jp(t,n,s,e),[a,c]=Ec(o,t.month?o:void 0);m.useEffect(()=>{const N=jp(t,n,s,e);c(N)},[t.timeZone]);const u=mF(a,s,t,e),d=fF(u,t.endMonth?i(t.endMonth):void 0,t,e),f=pF(u,d,t,e),h=xF(f),g=hF(f),v=vF(a,n,t,e),p=yF(a,s,t,e),{disableNavigation:y,onMonthChange:x}=t,b=N=>h.some(T=>T.days.some(E=>E.isEqualTo(N))),w=N=>{if(y)return;let T=r(N);n&&T<r(n)&&(T=r(n)),s&&T>r(s)&&(T=r(s)),c(T),x==null||x(T)};return{months:f,weeks:h,days:g,navStart:n,navEnd:s,previousMonth:v,nextMonth:p,goToMonth:w,goToDay:N=>{b(N)||w(N.date)}}}var pn;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(pn||(pn={}));function Ap(t){return!t[ze.disabled]&&!t[ze.hidden]&&!t[ze.outside]}function wF(t,e,n,s){let r,i=-1;for(const o of t){const a=e(o);Ap(a)&&(a[ze.focused]&&i<pn.FocusedModifier?(r=o,i=pn.FocusedModifier):s!=null&&s.isEqualTo(o)&&i<pn.LastFocused?(r=o,i=pn.LastFocused):n(o.date)&&i<pn.Selected?(r=o,i=pn.Selected):a[ze.today]&&i<pn.Today&&(r=o,i=pn.Today))}return r||(r=t.find(o=>Ap(e(o)))),r}function SF(t,e,n,s,r,i,o){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:u,addMonths:d,addWeeks:f,addYears:h,endOfBroadcastWeek:g,endOfISOWeek:v,endOfWeek:p,max:y,min:x,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:C}=o;let N={day:u,week:f,month:d,year:h,startOfWeek:T=>c?b(T,o):a?w(T):C(T),endOfWeek:T=>c?g(T):a?v(T):p(T)}[t](n,e==="after"?1:-1);return e==="before"&&s?N=y([s,N]):e==="after"&&r&&(N=x([r,N])),N}function Iw(t,e,n,s,r,i,o,a=0){if(a>365)return;const c=SF(t,e,n.date,s,r,i,o),u=!!(i.disabled&&Gn(c,i.disabled,o)),d=!!(i.hidden&&Gn(c,i.hidden,o)),f=c,h=new _w(c,f,o);return!u&&!d?h:Iw(t,e,h,s,r,i,o,a+1)}function CF(t,e,n,s,r){const{autoFocus:i}=t,[o,a]=m.useState(),c=wF(e.days,n,s||(()=>!1),o),[u,d]=m.useState(i?c:void 0);return{isFocusTarget:p=>!!(c!=null&&c.isEqualTo(p)),setFocused:d,focused:u,blur:()=>{a(u),d(void 0)},moveFocus:(p,y)=>{if(!u)return;const x=Iw(p,y,u,e.navStart,e.navEnd,t,r);x&&(e.goToDay(x),d(x))}}}function kF(t,e){const{selected:n,required:s,onSelect:r}=t,[i,o]=Ec(n,r?n:void 0),a=r?n:i,{isSameDay:c}=e,u=g=>(a==null?void 0:a.some(v=>c(v,g)))??!1,{min:d,max:f}=t;return{selected:a,select:(g,v,p)=>{let y=[...a??[]];if(u(g)){if((a==null?void 0:a.length)===d||s&&(a==null?void 0:a.length)===1)return;y=a==null?void 0:a.filter(x=>!c(x,g))}else(a==null?void 0:a.length)===f?y=[g]:y=[...y,g];return r||o(y),r==null||r(y,g,v,p),y},isSelected:u}}function _F(t,e,n=0,s=0,r=!1,i=In){const{from:o,to:a}=e||{},{isSameDay:c,isAfter:u,isBefore:d}=i;let f;if(!o&&!a)f={from:t,to:n>0?void 0:t};else if(o&&!a)c(o,t)?n===0?f={from:o,to:t}:r?f={from:o,to:void 0}:f=void 0:d(t,o)?f={from:t,to:o}:f={from:o,to:t};else if(o&&a)if(c(o,t)&&c(a,t))r?f={from:o,to:a}:f=void 0;else if(c(o,t))f={from:o,to:n>0?void 0:t};else if(c(a,t))f={from:t,to:n>0?void 0:t};else if(d(t,o))f={from:t,to:a};else if(u(t,o))f={from:o,to:t};else if(u(t,a))f={from:o,to:t};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const h=i.differenceInCalendarDays(f.to,f.from);s>0&&h>s?f={from:t,to:void 0}:n>1&&h<n&&(f={from:t,to:void 0})}return f}function NF(t,e,n=In){const s=Array.isArray(e)?e:[e];let r=t.from;const i=n.differenceInCalendarDays(t.to,t.from),o=Math.min(i,6);for(let a=0;a<=o;a++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function Rp(t,e,n=In){return Yn(t,e.from,!1,n)||Yn(t,e.to,!1,n)||Yn(e,t.from,!1,n)||Yn(e,t.to,!1,n)}function TF(t,e,n=In){const s=Array.isArray(e)?e:[e];if(s.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Yn(t,a,!1,n):jw(a,n)?a.some(c=>Yn(t,c,!1,n)):mf(a)?a.from&&a.to?Rp(t,{from:a.from,to:a.to},n):!1:Ow(a)?NF(t,a.dayOfWeek,n):Tw(a)?n.isAfter(a.before,a.after)?Rp(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):Gn(t.from,a,n)||Gn(t.to,a,n):Pw(a)||Ew(a)?Gn(t.from,a,n)||Gn(t.to,a,n):!1))return!0;const o=s.filter(a=>typeof a=="function");if(o.length){let a=t.from;const c=n.differenceInCalendarDays(t.to,t.from);for(let u=0;u<=c;u++){if(o.some(d=>d(a)))return!0;a=n.addDays(a,1)}}return!1}function PF(t,e){const{disabled:n,excludeDisabled:s,selected:r,required:i,onSelect:o}=t,[a,c]=Ec(r,o?r:void 0),u=o?r:a;return{selected:u,select:(h,g,v)=>{const{min:p,max:y}=t,x=h?_F(h,u,p,y,i,e):void 0;return s&&n&&(x!=null&&x.from)&&x.to&&TF({from:x.from,to:x.to},n,e)&&(x.from=h,x.to=void 0),o||c(x),o==null||o(x,h,g,v),x},isSelected:h=>u&&Yn(u,h,!1,e)}}function EF(t,e){const{selected:n,required:s,onSelect:r}=t,[i,o]=Ec(n,r?n:void 0),a=r?n:i,{isSameDay:c}=e;return{selected:a,select:(f,h,g)=>{let v=f;return!s&&a&&a&&c(f,a)&&(v=void 0),r||o(v),r==null||r(v,f,h,g),v},isSelected:f=>a?c(a,f):!1}}function OF(t,e){const n=EF(t,e),s=kF(t,e),r=PF(t,e);switch(t.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function jF(t){var Mi;let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new St(e.today,e.timeZone)),e.month&&(e.month=new St(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new St(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new St(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new St(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new St(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Mi=e.selected)==null?void 0:Mi.map(ve=>new St(ve,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new St(e.selected.from,e.timeZone):void 0,to:e.selected.to?new St(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:s,labels:r,dateLib:i,locale:o,classNames:a}=m.useMemo(()=>{const ve={...df,...e.locale};return{dateLib:new ts({locale:ve,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:MI(e.components),formatters:HI(e.formatters),labels:{...aF,...e.labels},locale:ve,classNames:{...II(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:u,navLayout:d,numberOfMonths:f=1,onDayBlur:h,onDayClick:g,onDayFocus:v,onDayKeyDown:p,onDayMouseEnter:y,onDayMouseLeave:x,onNextClick:b,onPrevClick:w,showWeekNumber:C,styles:S}=e,{formatCaption:N,formatDay:T,formatMonthDropdown:E,formatWeekNumber:A,formatWeekNumberHeader:M,formatWeekdayName:L,formatYearDropdown:R}=s,I=bF(e,i),{days:q,months:ee,navStart:G,navEnd:Y,previousMonth:W,nextMonth:Z,goToMonth:ce}=I,xe=AI(q,e,G,Y,i),{isSelected:at,select:Xe,selected:Je}=OF(e,i)??{},{blur:ct,focused:mt,isFocusTarget:se,moveFocus:_e,setFocused:Le}=CF(e,I,xe,at??(()=>!1),i),{labelDayButton:Se,labelGridcell:Ne,labelGrid:ye,labelMonthDropdown:lt,labelNav:X,labelPrevious:re,labelNext:Ve,labelWeekday:Ge,labelWeekNumber:pt,labelWeekNumberHeader:Te,labelYearDropdown:k}=r,P=m.useMemo(()=>GI(i,e.ISOWeek),[i,e.ISOWeek]),j=u!==void 0||g!==void 0,$=m.useCallback(()=>{W&&(ce(W),w==null||w(W))},[W,ce,w]),V=m.useCallback(()=>{Z&&(ce(Z),b==null||b(Z))},[ce,Z,b]),F=m.useCallback((ve,Ue)=>he=>{he.preventDefault(),he.stopPropagation(),Le(ve),Xe==null||Xe(ve.date,Ue,he),g==null||g(ve.date,Ue,he)},[Xe,g,Le]),K=m.useCallback((ve,Ue)=>he=>{Le(ve),v==null||v(ve.date,Ue,he)},[v,Le]),fe=m.useCallback((ve,Ue)=>he=>{ct(),h==null||h(ve.date,Ue,he)},[ct,h]),Oe=m.useCallback((ve,Ue)=>he=>{const He={ArrowLeft:[he.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[he.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[he.shiftKey?"year":"week","after"],ArrowUp:[he.shiftKey?"year":"week","before"],PageUp:[he.shiftKey?"year":"month","before"],PageDown:[he.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(He[he.key]){he.preventDefault(),he.stopPropagation();const[Ht,je]=He[he.key];_e(Ht,je)}p==null||p(ve.date,Ue,he)},[_e,p,e.dir]),gt=m.useCallback((ve,Ue)=>he=>{y==null||y(ve.date,Ue,he)},[y]),ns=m.useCallback((ve,Ue)=>he=>{x==null||x(ve.date,Ue,he)},[x]),qt=m.useCallback(ve=>Ue=>{const he=Number(Ue.target.value),He=i.setMonth(i.startOfMonth(ve),he);ce(He)},[i,ce]),ji=m.useCallback(ve=>Ue=>{const he=Number(Ue.target.value),He=i.setYear(i.startOfMonth(ve),he);ce(He)},[i,ce]),{className:Lt,style:Fn}=m.useMemo(()=>({className:[a[te.Root],e.className].filter(Boolean).join(" "),style:{...S==null?void 0:S[te.Root],...e.style}}),[a,e.className,e.style,S]),Ai=DI(e),Ri=m.useRef(null);dF(Ri,!!e.animate,{classNames:a,months:ee,focused:mt,dateLib:i});const Dc={dayPickerProps:e,selected:Je,select:Xe,isSelected:at,months:ee,nextMonth:Z,previousMonth:W,goToMonth:ce,getModifiers:xe,components:n,classNames:a,styles:S,labels:r,formatters:s};return D.createElement(Nw.Provider,{value:Dc},D.createElement(n.Root,{rootRef:e.animate?Ri:void 0,className:Lt,style:Fn,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...Ai},D.createElement(n.Months,{className:a[te.Months],style:S==null?void 0:S[te.Months]},!e.hideNavigation&&!d&&D.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[te.Nav],style:S==null?void 0:S[te.Nav],"aria-label":X(),onPreviousClick:$,onNextClick:V,previousMonth:W,nextMonth:Z}),ee.map((ve,Ue)=>D.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:a[te.Month],style:S==null?void 0:S[te.Month],key:Ue,displayIndex:Ue,calendarMonth:ve},d==="around"&&!e.hideNavigation&&Ue===0&&D.createElement(n.PreviousMonthButton,{type:"button",className:a[te.PreviousMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":re(W),onClick:$,"data-animated-button":e.animate?"true":void 0},D.createElement(n.Chevron,{disabled:W?void 0:!0,className:a[te.Chevron],orientation:e.dir==="rtl"?"right":"left"})),D.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:a[te.MonthCaption],style:S==null?void 0:S[te.MonthCaption],calendarMonth:ve,displayIndex:Ue},c!=null&&c.startsWith("dropdown")?D.createElement(n.DropdownNav,{className:a[te.Dropdowns],style:S==null?void 0:S[te.Dropdowns]},c==="dropdown"||c==="dropdown-months"?D.createElement(n.MonthsDropdown,{className:a[te.MonthsDropdown],"aria-label":lt(),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:qt(ve.date),options:zI(ve.date,G,Y,s,i),style:S==null?void 0:S[te.Dropdown],value:i.getMonth(ve.date)}):D.createElement("span",null,E(ve.date,i)),c==="dropdown"||c==="dropdown-years"?D.createElement(n.YearsDropdown,{className:a[te.YearsDropdown],"aria-label":k(i.options),classNames:a,components:n,disabled:!!e.disableNavigation,onChange:ji(ve.date),options:KI(G,Y,s,i,!!e.reverseYears),style:S==null?void 0:S[te.Dropdown],value:i.getYear(ve.date)}):D.createElement("span",null,R(ve.date,i)),D.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(ve.date,i.options,i))):D.createElement(n.CaptionLabel,{className:a[te.CaptionLabel],role:"status","aria-live":"polite"},N(ve.date,i.options,i))),d==="around"&&!e.hideNavigation&&Ue===f-1&&D.createElement(n.NextMonthButton,{type:"button",className:a[te.NextMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":Ve(Z),onClick:V,"data-animated-button":e.animate?"true":void 0},D.createElement(n.Chevron,{disabled:Z?void 0:!0,className:a[te.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ue===f-1&&d==="after"&&!e.hideNavigation&&D.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:a[te.Nav],style:S==null?void 0:S[te.Nav],"aria-label":X(),onPreviousClick:$,onNextClick:V,previousMonth:W,nextMonth:Z}),D.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":ye(ve.date,i.options,i)||void 0,className:a[te.MonthGrid],style:S==null?void 0:S[te.MonthGrid]},!e.hideWeekdays&&D.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:a[te.Weekdays],style:S==null?void 0:S[te.Weekdays]},C&&D.createElement(n.WeekNumberHeader,{"aria-label":Te(i.options),className:a[te.WeekNumberHeader],style:S==null?void 0:S[te.WeekNumberHeader],scope:"col"},M()),P.map(he=>D.createElement(n.Weekday,{"aria-label":Ge(he,i.options,i),className:a[te.Weekday],key:String(he),style:S==null?void 0:S[te.Weekday],scope:"col"},L(he,i.options,i)))),D.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:a[te.Weeks],style:S==null?void 0:S[te.Weeks]},ve.weeks.map(he=>D.createElement(n.Week,{className:a[te.Week],key:he.weekNumber,style:S==null?void 0:S[te.Week],week:he},C&&D.createElement(n.WeekNumber,{week:he,style:S==null?void 0:S[te.WeekNumber],"aria-label":pt(he.weekNumber,{locale:o}),className:a[te.WeekNumber],scope:"row",role:"rowheader"},A(he.weekNumber,i)),he.days.map(He=>{const{date:Ht}=He,je=xe(He);if(je[ze.focused]=!je.hidden&&!!(mt!=null&&mt.isEqualTo(He)),je[an.selected]=(at==null?void 0:at(Ht))||je.selected,mf(Je)){const{from:Ic,to:Fc}=Je;je[an.range_start]=!!(Ic&&Fc&&i.isSameDay(Ht,Ic)),je[an.range_end]=!!(Ic&&Fc&&i.isSameDay(Ht,Fc)),je[an.range_middle]=Yn(Je,Ht,!0,i)}const d0=YI(je,S,e.modifiersStyles),f0=RI(je,a,e.modifiersClassNames),h0=!j&&!je.hidden?Ne(Ht,je,i.options,i):void 0;return D.createElement(n.Day,{key:`${i.format(Ht,"yyyy-MM-dd")}_${i.format(He.displayMonth,"yyyy-MM")}`,day:He,modifiers:je,className:f0.join(" "),style:d0,role:"gridcell","aria-selected":je.selected||void 0,"aria-label":h0,"data-day":i.format(Ht,"yyyy-MM-dd"),"data-month":He.outside?i.format(Ht,"yyyy-MM"):void 0,"data-selected":je.selected||void 0,"data-disabled":je.disabled||void 0,"data-hidden":je.hidden||void 0,"data-outside":He.outside||void 0,"data-focused":je.focused||void 0,"data-today":je.today||void 0},!je.hidden&&j?D.createElement(n.DayButton,{className:a[te.DayButton],style:S==null?void 0:S[te.DayButton],type:"button",day:He,modifiers:je,disabled:je.disabled||void 0,tabIndex:se(He)?0:-1,"aria-label":Se(Ht,je,i.options,i),onClick:F(He,je),onBlur:fe(He,je),onFocus:K(He,je),onKeyDown:Oe(He,je),onMouseEnter:gt(He,je),onMouseLeave:ns(He,je)},T(Ht,i.options,i)):!je.hidden&&T(He.date,i.options,i))})))))))),e.footer&&D.createElement(n.Footer,{className:a[te.Footer],style:S==null?void 0:S[te.Footer],role:"status","aria-live":"polite"},e.footer)))}function Fw({className:t,classNames:e,showOutsideDays:n=!0,locale:s=Fb,...r}){return l.jsx(jF,{locale:s,showOutsideDays:n,className:we("p-3 w-full",t),...r})}Fw.displayName="Calendar";var Oc="Popover",[Lw,HV]=yi(Oc,[bi]),Ho=bi(),[AF,$s]=Lw(Oc),Vw=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:o=!1}=t,a=Ho(e),c=m.useRef(null),[u,d]=m.useState(!1),[f,h]=Oa({prop:s,defaultProp:r??!1,onChange:i,caller:Oc});return l.jsx(Ag,{...a,children:l.jsx(AF,{scope:e,contentId:ur(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:n})})};Vw.displayName=Oc;var Bw="PopoverAnchor",RF=m.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=$s(Bw,n),i=Ho(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=r;return m.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(ac,{...i,...s,ref:e})});RF.displayName=Bw;var Ww="PopoverTrigger",$w=m.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=$s(Ww,n),i=Ho(n),o=$e(e,r.triggerRef),a=l.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Yw(r.open),...s,ref:o,onClick:be(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:l.jsx(ac,{asChild:!0,...i,children:a})});$w.displayName=Ww;var pf="PopoverPortal",[MF,DF]=Lw(pf,{forceMount:void 0}),Uw=t=>{const{__scopePopover:e,forceMount:n,children:s,container:r}=t,i=$s(pf,e);return l.jsx(MF,{scope:e,forceMount:n,children:l.jsx(Ms,{present:n||i.open,children:l.jsx(jo,{asChild:!0,container:r,children:s})})})};Uw.displayName=pf;var gi="PopoverContent",qw=m.forwardRef((t,e)=>{const n=DF(gi,t.__scopePopover),{forceMount:s=n.forceMount,...r}=t,i=$s(gi,t.__scopePopover);return l.jsx(Ms,{present:s||i.open,children:i.modal?l.jsx(FF,{...r,ref:e}):l.jsx(LF,{...r,ref:e})})});qw.displayName=gi;var IF=pr("PopoverContent.RemoveScroll"),FF=m.forwardRef((t,e)=>{const n=$s(gi,t.__scopePopover),s=m.useRef(null),r=$e(e,s),i=m.useRef(!1);return m.useEffect(()=>{const o=s.current;if(o)return gd(o)},[]),l.jsx(yc,{as:IF,allowPinchZoom:!0,children:l.jsx(Hw,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),LF=m.forwardRef((t,e)=>{const n=$s(gi,t.__scopePopover),s=m.useRef(!1),r=m.useRef(!1);return l.jsx(Hw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),Hw=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=$s(gi,n),g=Ho(n);return pd(),l.jsx(pc,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:l.jsx(Eo,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(ed,{"data-state":Yw(h.open),role:"dialog",id:h.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zw="PopoverClose",VF=m.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=$s(zw,n);return l.jsx(Re.button,{type:"button",...s,ref:e,onClick:be(t.onClick,()=>r.onOpenChange(!1))})});VF.displayName=zw;var BF="PopoverArrow",WF=m.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=Ho(n);return l.jsx(td,{...r,...s,ref:e})});WF.displayName=BF;function Yw(t){return t?"open":"closed"}var $F=Vw,UF=$w,qF=Uw,Gw=qw;const HF=$F,zF=UF,Kw=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,container:s,disablePortal:r,...i},o)=>{const a=l.jsx(Gw,{ref:o,align:e,sideOffset:n,className:we("z-[9999] pointer-events-auto w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...i});return r?a:s?Qp.createPortal(a,s):l.jsx(qF,{children:a})});Kw.displayName=Gw.displayName;function YF({value:t,onChange:e,placeholder:n="Выберите время",disabled:s}){const r=Array.from({length:24},(d,f)=>f.toString().padStart(2,"0")),i=Array.from({length:6},(d,f)=>(f*10).toString().padStart(2,"0")),[o,a]=t?t.split(":"):["",""],c=d=>{const f=`${d}:${a||"00"}`;e(f)},u=d=>{const f=`${o||"00"}:${d}`;e(f)};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Du,{value:o,onValueChange:c,disabled:s,children:[l.jsx(Qa,{className:"w-20",children:l.jsx(Iu,{placeholder:"ЧЧ"})}),l.jsx(Xa,{children:r.map(d=>l.jsx(Ja,{value:d,children:d},d))})]}),l.jsx("span",{className:"text-muted-foreground",children:":"}),l.jsxs(Du,{value:a,onValueChange:u,disabled:s,children:[l.jsx(Qa,{className:"w-20",children:l.jsx(Iu,{placeholder:"ММ"})}),l.jsx(Xa,{children:i.map(d=>l.jsx(Ja,{value:d,children:d},d))})]})]})}const jc={getUserSubscription:async t=>(await We.get(`/subscriptions/user/${t}`)).data,getUserSubscriptionByUserId:async t=>{const n=(await We.get(`/subscriptions?userId=${t}`)).data;return n.subscriptions&&n.subscriptions.length>0?n.subscriptions[0]:null},createSubscription:async t=>(await We.post("/subscriptions",t)).data,createPaymentLink:async t=>(await We.post("/subscriptions/payment/create",t)).data,simulatePayment:async t=>(await We.post(`/subscriptions/payment/simulate/${t}`)).data,getPaymentInfo:async t=>(await We.get(`/subscriptions/payment/${t}`)).data,deleteSubscription:async t=>(await We.delete(`/subscriptions/${t}`)).data},gf=()=>{const{data:t}=wt();return ld({queryKey:["user-subscription",t==null?void 0:t.userId],queryFn:async()=>{console.log("Getting user subscription for user:",t);const e=await jc.getUserSubscriptionByUserId(t.userId);return console.log("API returned:",e),e},enabled:!!(t!=null&&t.userId),staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:(e,n)=>{var s;return((s=n==null?void 0:n.response)==null?void 0:s.status)===401?!1:e<2}})},GF=()=>{const t=Dn(),{data:e,isLoading:n}=wt();return Ds({mutationFn:s=>{if(n)throw new Error("Загрузка данных пользователя...");if(!(e!=null&&e.userId))throw new Error("Пользователь не найден");if(console.log("User data:",e),console.log("User ID:",e.userId,"Type:",typeof e.userId),!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e.userId))throw console.error("Invalid UUID format:",e.userId),new Error(`Неверный формат ID пользователя: ${e.userId}`);const i=new Date,o=i.getFullYear(),a=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),u=String(i.getHours()).padStart(2,"0"),d=String(i.getMinutes()).padStart(2,"0"),f=String(i.getSeconds()).padStart(2,"0"),h=`${o}-${a}-${c}T${u}:${d}:${f}.000`,g=new Date(i);s.type==="monthly"?g.setMonth(g.getMonth()+1):g.setFullYear(g.getFullYear()+1);const v=g.getFullYear(),p=String(g.getMonth()+1).padStart(2,"0"),y=String(g.getDate()).padStart(2,"0"),x=String(g.getHours()).padStart(2,"0"),b=String(g.getMinutes()).padStart(2,"0"),w=String(g.getSeconds()).padStart(2,"0"),C=`${v}-${p}-${y}T${x}:${b}:${w}.000`,S={userId:e.userId,type:s.type,price:s.price,startDate:h,endDate:C};return console.log("Creating subscription with data:",S),jc.createSubscription(S)},onSuccess:s=>{Ie.success("Подписка создана!",{description:s.message||"Подписка успешно создана",duration:4e3}),t.invalidateQueries({queryKey:["user-subscription",e==null?void 0:e.userId]})},onError:s=>{var i,o;console.error("Subscription creation error:",s);let r="Ошибка создания подписки";(o=(i=s==null?void 0:s.response)==null?void 0:i.data)!=null&&o.message&&(Array.isArray(s.response.data.message)?r=s.response.data.message.join(", "):r=s.response.data.message),Ie.error("Ошибка создания подписки",{description:r,duration:5e3})}})},KF=()=>{const{data:t}=wt();return Ds({mutationFn:e=>jc.createPaymentLink({subscriptionId:e.subscriptionId,subscriptionType:e.subscriptionType,amount:e.amount}),onSuccess:e=>{Ie.success("Ссылка на оплату создана!",{description:e.message,duration:4e3})},onError:e=>{var s,r;const n=((r=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:r.message)||"Ошибка создания ссылки на оплату";Ie.error("Ошибка",{description:n,duration:5e3})}})},ZF=()=>{const t=Dn(),{data:e}=wt();return Ds({mutationFn:n=>jc.deleteSubscription(n),onSuccess:n=>{Ie.success("Подписка удалена!",{description:n.message,duration:4e3}),t.invalidateQueries({queryKey:["user-subscription",e==null?void 0:e.userId]})},onError:n=>{var r,i;const s=((i=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:i.message)||"Ошибка удаления подписки";Ie.error("Ошибка",{description:s,duration:5e3})}})},QF=({hasActiveSubscription:t})=>{const e=_r(),n=()=>{e("/subscriptions")};return l.jsx("div",{className:"mb-4 p-3 rounded-lg border",children:t?l.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[l.jsx(lr,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"У вас активная подписка"})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[l.jsx(ng,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Нет активной подписки"})]}),l.jsxs(me,{variant:"outline",size:"sm",onClick:n,className:"flex items-center gap-1 text-xs",children:["Оформить подписку",l.jsx(_a,{className:"h-3 w-3"})]})]})})},XF=Ed({address:Ir().min(1,"Адрес обязателен").max(500,"Адрес слишком длинный"),description:Ir().max(1e3,"Описание слишком длинное").optional(),scheduledDate:iE().optional(),scheduledTime:Ir().optional(),notes:Ir().max(500,"Заметки слишком длинные").optional(),paymentMethod:oE(["subscription","online"])}),JF=({isOpen:t,onClose:e,onSubmit:n,isLoading:s=!1})=>{const[r,i]=m.useState(!1),{data:o}=gf(),a=eu({resolver:nu(XF),defaultValues:{address:"",description:"",scheduledDate:void 0,scheduledTime:"",notes:"",paymentMethod:(o==null?void 0:o.status)==="active"?"subscription":"online"}}),c=f=>{let h;if(f.scheduledDate&&f.scheduledTime){const[v,p]=f.scheduledTime.split(":"),y=new Date(f.scheduledDate);y.setHours(parseInt(v),parseInt(p),0,0);const x=y.getFullYear(),b=String(y.getMonth()+1).padStart(2,"0"),w=String(y.getDate()).padStart(2,"0"),C=String(y.getHours()).padStart(2,"0"),S=String(y.getMinutes()).padStart(2,"0"),N=String(y.getSeconds()).padStart(2,"0");h=`${x}-${b}-${w}T${C}:${S}:${N}.000`}else f.scheduledDate&&(h=f.scheduledDate.toISOString());const g={address:f.address,description:f.description,scheduledAt:h,notes:f.notes,paymentMethod:f.paymentMethod};n(g)},u=(o==null?void 0:o.status)==="active",d=u?[{value:"subscription",label:"По подписке",icon:"📋"}]:[{value:"online",label:"Оплата онлайн",icon:"💳"}];return l.jsx(Nr,{open:t,onOpenChange:e,children:l.jsxs(Is,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Fs,{children:l.jsxs(Ls,{className:"flex items-center gap-2",children:[l.jsx(nc,{className:"h-5 w-5"}),"Создать заказ"]})}),l.jsx(QF,{hasActiveSubscription:u}),l.jsx(cu,{...a,children:l.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-6",children:[l.jsx(Ys,{control:a.control,name:"address",render:({field:f})=>l.jsxs(Wn,{children:[l.jsxs($n,{className:"flex items-center gap-2",children:[l.jsx(tc,{className:"h-4 w-4"}),"Адрес *"]}),l.jsx(us,{children:l.jsx(Od,{placeholder:"ул. Пушкина, д. 10, кв. 5",...f})}),l.jsx(ds,{})]})}),l.jsx(Ys,{control:a.control,name:"description",render:({field:f})=>l.jsxs(Wn,{children:[l.jsx($n,{children:"Описание"}),l.jsx(us,{children:l.jsx(Vb,{placeholder:"Описание заказа (опционально)",className:"min-h-[80px]",...f})}),l.jsx(ds,{})]})}),l.jsx(Ys,{control:a.control,name:"scheduledDate",render:({field:f})=>l.jsxs(Wn,{children:[l.jsxs($n,{className:"flex items-center gap-2",children:[l.jsx(jn,{className:"h-4 w-4"}),"Запланированная дата"]}),l.jsxs(HF,{open:r,onOpenChange:i,children:[l.jsx(zF,{asChild:!0,children:l.jsx(us,{children:l.jsxs(me,{variant:"outline",className:we("w-full justify-start text-left font-normal",!f.value&&"text-muted-foreground"),children:[l.jsx(jn,{className:"mr-2 h-4 w-4"}),f.value?Ib(f.value,"PPP",{locale:Fb}):l.jsx("span",{children:"Выберите дату"})]})})}),l.jsx(Kw,{className:"w-auto p-0 z-50",align:"start",children:l.jsx(Fw,{mode:"single",selected:f.value,onSelect:h=>{f.onChange(h),i(!1)},disabled:h=>{const g=new Date;return g.setHours(0,0,0,0),h<g},className:"rounded-md border bg-background"})})]}),l.jsx(ds,{})]})}),l.jsx(Ys,{control:a.control,name:"scheduledTime",render:({field:f})=>l.jsxs(Wn,{children:[l.jsxs($n,{className:"flex items-center gap-2",children:[l.jsx(oi,{className:"h-4 w-4"}),"Запланированное время"]}),l.jsx(us,{children:l.jsx(YF,{value:f.value,onChange:f.onChange,placeholder:"Выберите время"})}),l.jsx(ds,{})]})}),(o==null?void 0:o.status)==="active"?l.jsxs(Wn,{children:[l.jsx($n,{children:"Способ оплаты *"}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-green-50 border-green-200",children:l.jsxs("span",{className:"text-green-700 font-medium",children:["Подписка активна до ",o.endDate?new Date(o.endDate).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}):"неизвестно"]})}),l.jsx("input",{type:"hidden",...a.register("paymentMethod"),value:"subscription"})]}):l.jsx(Ys,{control:a.control,name:"paymentMethod",render:({field:f})=>l.jsxs(Wn,{children:[l.jsx($n,{children:"Способ оплаты *"}),l.jsxs(Du,{onValueChange:f.onChange,defaultValue:f.value,children:[l.jsx(us,{children:l.jsx(Qa,{children:l.jsx(Iu,{placeholder:"Выберите способ оплаты"})})}),l.jsx(Xa,{children:d.map(h=>l.jsx(Ja,{value:h.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:h.icon}),l.jsx("span",{children:h.label})]})},h.value))})]}),l.jsx(ds,{})]})}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(me,{type:"button",variant:"outline",onClick:e,className:"flex-1",disabled:s,children:"Отмена"}),l.jsx(me,{type:"submit",className:"flex-1",disabled:s,children:s?"Создание...":"Создать заказ"})]})]})})]})})},Rn=Object.create(null);Rn.open="0";Rn.close="1";Rn.ping="2";Rn.pong="3";Rn.message="4";Rn.upgrade="5";Rn.noop="6";const wa=Object.create(null);Object.keys(Rn).forEach(t=>{wa[Rn[t]]=t});const Lu={type:"error",data:"parser error"},Zw=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Qw=typeof ArrayBuffer=="function",Xw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,yf=({type:t,data:e},n,s)=>Zw&&e instanceof Blob?n?s(e):Mp(e,s):Qw&&(e instanceof ArrayBuffer||Xw(e))?n?s(e):Mp(new Blob([e]),s):s(Rn[t]+(e||"")),Mp=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Dp(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let wl;function eL(t,e){if(Zw&&t.data instanceof Blob)return t.data.arrayBuffer().then(Dp).then(e);if(Qw&&(t.data instanceof ArrayBuffer||Xw(t.data)))return e(Dp(t.data));yf(t,!1,n=>{wl||(wl=new TextEncoder),e(wl.encode(n))})}const Ip="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ip.length;t++)Qi[Ip.charCodeAt(t)]=t;const tL=t=>{let e=t.length*.75,n=t.length,s,r=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(s=0;s<n;s+=4)i=Qi[t.charCodeAt(s)],o=Qi[t.charCodeAt(s+1)],a=Qi[t.charCodeAt(s+2)],c=Qi[t.charCodeAt(s+3)],d[r++]=i<<2|o>>4,d[r++]=(o&15)<<4|a>>2,d[r++]=(a&3)<<6|c&63;return u},nL=typeof ArrayBuffer=="function",vf=(t,e)=>{if(typeof t!="string")return{type:"message",data:Jw(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:sL(t.substring(1),e)}:wa[n]?t.length>1?{type:wa[n],data:t.substring(1)}:{type:wa[n]}:Lu},sL=(t,e)=>{if(nL){const n=tL(t);return Jw(n,e)}else return{base64:!0,data:t}},Jw=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},e0="",rL=(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach((i,o)=>{yf(i,!1,a=>{s[o]=a,++r===n&&e(s.join(e0))})})},iL=(t,e)=>{const n=t.split(e0),s=[];for(let r=0;r<n.length;r++){const i=vf(n[r],e);if(s.push(i),i.type==="error")break}return s};function oL(){return new TransformStream({transform(t,e){eL(t,n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let Sl;function oa(t){return t.reduce((e,n)=>e+n.length,0)}function aa(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)n[r]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function aL(t,e){Sl||(Sl=new TextDecoder);const n=[];let s=0,r=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(s===0){if(oa(n)<1)break;const c=aa(n,1);i=(c[0]&128)===128,r=c[0]&127,r<126?s=3:r===126?s=1:s=2}else if(s===1){if(oa(n)<2)break;const c=aa(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(oa(n)<8)break;const c=aa(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Lu);break}r=d*Math.pow(2,32)+u.getUint32(4),s=3}else{if(oa(n)<r)break;const c=aa(n,r);a.enqueue(vf(i?c:Sl.decode(c),e)),s=0}if(r===0||r>t){a.enqueue(Lu);break}}}})}const t0=4;function ot(t){if(t)return cL(t)}function cL(t){for(var e in ot.prototype)t[e]=ot.prototype[e];return t}ot.prototype.on=ot.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ot.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,r=0;r<n.length;r++)if(s=n[r],s===e||s.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ot.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,r=n.length;s<r;++s)n[s].apply(this,e)}return this};ot.prototype.emitReserved=ot.prototype.emit;ot.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ot.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ac=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Zt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),lL="arraybuffer";function n0(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const uL=Zt.setTimeout,dL=Zt.clearTimeout;function Rc(t,e){e.useNativeTimers?(t.setTimeoutFn=uL.bind(Zt),t.clearTimeoutFn=dL.bind(Zt)):(t.setTimeoutFn=Zt.setTimeout.bind(Zt),t.clearTimeoutFn=Zt.clearTimeout.bind(Zt))}const fL=1.33;function hL(t){return typeof t=="string"?mL(t):Math.ceil((t.byteLength||t.size)*fL)}function mL(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function s0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function pL(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function gL(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let i=n[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class yL extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class xf extends ot{constructor(e){super(),this.writable=!1,Rc(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new yL(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=vf(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=pL(e);return n.length?"?"+n:""}}class vL extends xf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};iL(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,rL(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=s0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let r0=!1;try{r0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xL=r0;function bL(){}class wL extends vL{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}let Yr=class Sa extends ot{constructor(e,n,s){super(),this.createRequest=e,Rc(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=n0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&s.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var r;s.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=Sa.requestsCount++,Sa.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=bL,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Sa.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yr.requestsCount=0;Yr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Fp);else if(typeof addEventListener=="function"){const t="onpagehide"in Zt?"pagehide":"unload";addEventListener(t,Fp,!1)}}function Fp(){for(let t in Yr.requests)Yr.requests.hasOwnProperty(t)&&Yr.requests[t].abort()}const SL=(function(){const t=i0({xdomain:!1});return t&&t.responseType!==null})();class CL extends wL{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=SL&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Yr(i0,this.uri(),e)}}function i0(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||xL))return new XMLHttpRequest}catch{}if(!e)try{return new Zt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const o0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kL extends xf{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=o0?{}:n0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;yf(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}r&&Ac(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=s0()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Cl=Zt.WebSocket||Zt.MozWebSocket;class _L extends kL{createSocket(e,n,s){return o0?new Cl(e,n,s):n?new Cl(e,n):new Cl(e)}doWrite(e,n){this.ws.send(n)}}class NL extends xf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=aL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),r=oL();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],r=n===e.length-1;this._writer.write(s).then(()=>{r&&Ac(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const TL={websocket:_L,webtransport:NL,polling:CL},PL=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,EL=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vu(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=PL.exec(t||""),i={},o=14;for(;o--;)i[EL[o]]=r[o]||"";return n!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=OL(i,i.path),i.queryKey=jL(i,i.query),i}function OL(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function jL(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,r,i){r&&(n[r]=i)}),n}const Bu=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ca=[];Bu&&addEventListener("offline",()=>{Ca.forEach(t=>t())},!1);class _s extends ot{constructor(e,n){if(super(),this.binaryType=lL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Vu(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Vu(n.host).host);Rc(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const r=s.prototype.name;this.transports.push(r),this._transportsByName[r]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=gL(this.opts.query)),Bu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ca.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=t0,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&_s.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_s.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const r=this.writeBuffer[s].data;if(r&&(n+=hL(r)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ac(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,r){if(typeof n=="function"&&(r=n,n=void 0),typeof s=="function"&&(r=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(_s.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Bu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Ca.indexOf(this._offlineEventListener);s!==-1&&Ca.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}_s.protocol=t0;class AL extends _s{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;_s.priorWebsocketSuccess=!1;const r=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!s)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_s.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){s||(s=!0,d(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function c(){o("socket closed")}function u(f){n&&f.name!==n.name&&i()}const d=()=>{n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let RL=class extends AL{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(r=>TL[r]).filter(r=>!!r)),super(e,s)}};function ML(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Vu(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}const DL=typeof ArrayBuffer=="function",IL=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,a0=Object.prototype.toString,FL=typeof Blob=="function"||typeof Blob<"u"&&a0.call(Blob)==="[object BlobConstructor]",LL=typeof File=="function"||typeof File<"u"&&a0.call(File)==="[object FileConstructor]";function bf(t){return DL&&(t instanceof ArrayBuffer||IL(t))||FL&&t instanceof Blob||LL&&t instanceof File}function ka(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(ka(t[n]))return!0;return!1}if(bf(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ka(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ka(t[n]))return!0;return!1}function VL(t){const e=[],n=t.data,s=t;return s.data=Wu(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Wu(t,e){if(!t)return t;if(bf(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Wu(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Wu(t[s],e));return n}return t}function BL(t,e){return t.data=$u(t.data,e),delete t.attachments,t}function $u(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=$u(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=$u(t[n],e));return t}const WL=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$L=5;var ke;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ke||(ke={}));class UL{constructor(e){this.replacer=e}encode(e){return(e.type===ke.EVENT||e.type===ke.ACK)&&ka(e)?this.encodeAsBinary({type:e.type===ke.EVENT?ke.BINARY_EVENT:ke.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===ke.BINARY_EVENT||e.type===ke.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=VL(e),s=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(s),r}}function Lp(t){return Object.prototype.toString.call(t)==="[object Object]"}class wf extends ot{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===ke.BINARY_EVENT;s||n.type===ke.BINARY_ACK?(n.type=s?ke.EVENT:ke.ACK,this.reconstructor=new qL(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(bf(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(ke[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ke.BINARY_EVENT||s.type===ke.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(i,n)}else s.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}s.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(wf.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case ke.CONNECT:return Lp(n);case ke.DISCONNECT:return n===void 0;case ke.CONNECT_ERROR:return typeof n=="string"||Lp(n);case ke.EVENT:case ke.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&WL.indexOf(n[0])===-1);case ke.ACK:case ke.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qL{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=BL(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const HL=Object.freeze(Object.defineProperty({__proto__:null,Decoder:wf,Encoder:UL,get PacketType(){return ke},protocol:$L},Symbol.toStringTag,{value:"Module"}));function sn(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const zL=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class c0 extends ot{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[sn(e,"open",this.onopen.bind(this)),sn(e,"packet",this.onpacket.bind(this)),sn(e,"error",this.onerror.bind(this)),sn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,r,i;if(zL.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:ke.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,f=n.pop();this._registerAckCallback(d,f),o.id=d}const a=(r=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var s;const r=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((s,r)=>{const i=(o,a)=>o?r(o):s(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>s!==this._queue[0]?void 0:(r!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ke.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ke.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ke.EVENT:case ke.BINARY_EVENT:this.onevent(e);break;case ke.ACK:case ke.BINARY_ACK:this.onack(e);break;case ke.DISCONNECT:this.ondisconnect();break;case ke.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...r){s||(s=!0,n.packet({type:ke.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ke.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Oi(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Oi.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Oi.prototype.reset=function(){this.attempts=0};Oi.prototype.setMin=function(t){this.ms=t};Oi.prototype.setMax=function(t){this.max=t};Oi.prototype.setJitter=function(t){this.jitter=t};class Uu extends ot{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Rc(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Oi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||HL;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new RL(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const r=sn(n,"open",function(){s.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=sn(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(sn(e,"ping",this.onping.bind(this)),sn(e,"data",this.ondata.bind(this)),sn(e,"error",this.onerror.bind(this)),sn(e,"close",this.onclose.bind(this)),sn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Ac(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new c0(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const qi={};function oo(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=ML(t,e.path||"/socket.io"),s=n.source,r=n.id,i=n.path,o=qi[r]&&i in qi[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new Uu(s,e):(qi[r]||(qi[r]=new Uu(s,e)),c=qi[r]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(oo,{Manager:Uu,Socket:c0,io:oo,connect:oo});class YL{constructor(){Pr(this,"subscriptionSocket",null);Pr(this,"orderSocket",null);Pr(this,"isSubscriptionConnected",!1);Pr(this,"isOrderConnected",!1);Pr(this,"paymentStatusIntervals",new Map)}getWebSocketUrl(e){return`ws://${"https://cleanhouse123-cleanhouseapi-209c.twc1.net".replace(/^https?:\/\//,"")}:3000/${e==="subscription"?"subscription-payment":"order-payment"}`}log(e,n){const s=new Date().toISOString();console.log(`[WebSocketService ${s}] ${e}`,n||"")}async checkPaymentStatus(e){try{const s=await fetch(`https://cleanhouse123-cleanhouseapi-209c.twc1.net/payment-status/${e}`);if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const r=await s.json();return this.log("Статус платежа получен",{paymentId:e,status:r.status}),r}catch(n){throw this.log("Ошибка проверки статуса платежа",{paymentId:e,error:n.message}),n}}async getPaymentType(e){try{const s=await fetch(`https://cleanhouse123-cleanhouseapi-209c.twc1.net/payment-status/${e}/type`);if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const r=await s.json();return this.log("Тип платежа получен",{paymentId:e,type:r.type,exists:r.exists}),r.exists?r.type:null}catch(n){return this.log("Ошибка определения типа платежа",{paymentId:e,error:n.message}),null}}connectSubscription(){if(this.subscriptionSocket&&this.isSubscriptionConnected)return this.log("WebSocket подписок уже подключен, возвращаем существующее соединение"),this.subscriptionSocket;const e=this.getWebSocketUrl("subscription");return this.log("Инициализация подключения к WebSocket подписок",{url:e}),this.subscriptionSocket=oo(e,{transports:["websocket"],upgrade:!1,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),this.subscriptionSocket.on("connect",()=>{var n,s;this.log("✅ WebSocket подписок успешно подключен",{id:(n=this.subscriptionSocket)==null?void 0:n.id,connected:(s=this.subscriptionSocket)==null?void 0:s.connected}),this.isSubscriptionConnected=!0}),this.subscriptionSocket.on("disconnect",n=>{this.log("❌ WebSocket подписок отключен",{reason:n}),this.isSubscriptionConnected=!1}),this.subscriptionSocket.on("connect_error",n=>{this.log("💥 Ошибка подключения WebSocket подписок",{error:n.message}),this.isSubscriptionConnected=!1}),this.subscriptionSocket.on("reconnect_attempt",n=>{this.log(`🔄 Попытка переподключения подписок #${n}`)}),this.subscriptionSocket.on("reconnect_failed",()=>{this.log("❌ Не удалось переподключиться к WebSocket подписок"),this.isSubscriptionConnected=!1}),this.subscriptionSocket.on("pong",()=>{this.log("Получен pong от сервера подписок")}),this.subscriptionSocket.onAny((n,...s)=>{this.log(`Получено событие от сервера подписок: ${n}`,s)}),this.subscriptionSocket}connectOrder(){if(this.orderSocket&&this.isOrderConnected)return this.log("WebSocket заказов уже подключен, возвращаем существующее соединение"),this.orderSocket;const e=this.getWebSocketUrl("order");return this.log("Инициализация подключения к WebSocket заказов",{url:e}),this.orderSocket=oo(e,{transports:["websocket"],upgrade:!1,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),this.orderSocket.on("connect",()=>{var n,s;this.log("✅ WebSocket заказов успешно подключен",{id:(n=this.orderSocket)==null?void 0:n.id,connected:(s=this.orderSocket)==null?void 0:s.connected}),this.isOrderConnected=!0}),this.orderSocket.on("disconnect",n=>{this.log("❌ WebSocket заказов отключен",{reason:n}),this.isOrderConnected=!1}),this.orderSocket.on("connect_error",n=>{this.log("💥 Ошибка подключения WebSocket заказов",{error:n.message}),this.isOrderConnected=!1}),this.orderSocket.on("reconnect_attempt",n=>{this.log(`🔄 Попытка переподключения заказов #${n}`)}),this.orderSocket.on("reconnect_failed",()=>{this.log("❌ Не удалось переподключиться к WebSocket заказов"),this.isOrderConnected=!1}),this.orderSocket.on("pong",()=>{this.log("Получен pong от сервера заказов")}),this.orderSocket.onAny((n,...s)=>{this.log(`Получено событие от сервера заказов: ${n}`,s)}),this.orderSocket}connect(){return this.connectSubscription()}disconnect(){this.log("Отключение от всех WebSocket соединений"),this.stopAllPaymentStatusChecks(),this.subscriptionSocket&&(this.log("Отключение от WebSocket подписок"),this.subscriptionSocket.disconnect(),this.subscriptionSocket=null,this.isSubscriptionConnected=!1),this.orderSocket&&(this.log("Отключение от WebSocket заказов"),this.orderSocket.disconnect(),this.orderSocket=null,this.isOrderConnected=!1),this.log("Все WebSocket соединения отключены")}joinPaymentRoom(e){this.log("Попытка подключения к комнате платежа подписки",e),this.subscriptionSocket&&this.isSubscriptionConnected?(this.log("WebSocket подписок подключен, отправляем join_payment_room",e),this.subscriptionSocket.emit("join_payment_room",{userId:e.userId,paymentId:e.paymentId})):(this.log("WebSocket подписок не подключен, пытаемся переподключиться..."),this.connectSubscription(),setTimeout(()=>{this.subscriptionSocket&&this.isSubscriptionConnected?(this.log("Повторное подключение к комнате платежа подписки",e),this.subscriptionSocket.emit("join_payment_room",{userId:e.userId,paymentId:e.paymentId})):this.log("Не удалось подключиться к WebSocket подписок после повторной попытки")},1e3))}leavePaymentRoom(e){this.log("Попытка отключения от комнаты платежа подписки",e),this.subscriptionSocket&&this.isSubscriptionConnected?(this.log("WebSocket подписок подключен, отправляем leave_payment_room",e),this.subscriptionSocket.emit("leave_payment_room",{userId:e.userId,paymentId:e.paymentId})):this.log("WebSocket подписок не подключен, невозможно отключиться от комнаты")}joinOrderPaymentRoom(e,n){const s={paymentId:e,userId:n};this.log("Попытка подключения к комнате платежа заказа",s),this.orderSocket&&this.isOrderConnected?(this.log("WebSocket заказов подключен, отправляем join_order_payment_room",s),this.orderSocket.emit("join_order_payment_room",{userId:n,paymentId:e})):(this.log("WebSocket заказов не подключен, пытаемся переподключиться..."),this.connectOrder(),setTimeout(()=>{this.orderSocket&&this.isOrderConnected?(this.log("Повторное подключение к комнате платежа заказа",s),this.orderSocket.emit("join_order_payment_room",{userId:n,paymentId:e})):this.log("Не удалось подключиться к WebSocket заказов после повторной попытки")},1e3))}leaveOrderPaymentRoom(e,n){const s={paymentId:e,userId:n};this.log("Попытка отключения от комнаты платежа заказа",s),this.orderSocket&&this.isOrderConnected?(this.log("WebSocket заказов подключен, отправляем leave_order_payment_room",s),this.orderSocket.emit("leave_order_payment_room",{userId:n,paymentId:e})):this.log("WebSocket заказов не подключен, невозможно отключиться от комнаты")}onSubscriptionPaymentSuccess(e){this.log("Регистрация обработчика payment_success для подписок"),this.subscriptionSocket?this.subscriptionSocket.on("payment_success",n=>{this.log("🎉 Получено событие payment_success для подписки",n),e(n)}):this.log("WebSocket подписок не инициализирован, обработчик не зарегистрирован")}onSubscriptionPaymentError(e){this.log("Регистрация обработчика payment_error для подписок"),this.subscriptionSocket?this.subscriptionSocket.on("payment_error",n=>{this.log("💥 Получено событие payment_error для подписки",n),e(n)}):this.log("WebSocket подписок не инициализирован, обработчик не зарегистрирован")}onSubscriptionPaymentStatusUpdate(e){this.log("Регистрация обработчика payment_status_update для подписок"),this.subscriptionSocket?this.subscriptionSocket.on("payment_status_update",n=>{this.log("Получено событие payment_status_update для подписки",n),e(n)}):this.log("WebSocket подписок не инициализирован, обработчик не зарегистрирован")}onOrderPaymentSuccess(e){this.log("Регистрация обработчика order_payment_success для заказов"),this.orderSocket?this.orderSocket.on("order_payment_success",n=>{this.log("🎉 Получено событие order_payment_success для заказа",n),e(n)}):this.log("WebSocket заказов не инициализирован, обработчик не зарегистрирован")}onOrderPaymentError(e){this.log("Регистрация обработчика order_payment_error для заказов"),this.orderSocket?this.orderSocket.on("order_payment_error",n=>{this.log("💥 Получено событие order_payment_error для заказа",n),e(n)}):this.log("WebSocket заказов не инициализирован, обработчик не зарегистрирован")}onOrderPaymentStatusUpdate(e){this.log("Регистрация обработчика order_payment_status_update для заказов"),this.orderSocket?this.orderSocket.on("order_payment_status_update",n=>{this.log("Получено событие order_payment_status_update для заказа",n),e(n)}):this.log("WebSocket заказов не инициализирован, обработчик не зарегистрирован")}onPaymentSuccess(e){this.onSubscriptionPaymentSuccess(e)}onPaymentError(e){this.onSubscriptionPaymentError(e)}onPaymentStatusUpdate(e){this.onSubscriptionPaymentStatusUpdate(e)}offSubscriptionPaymentSuccess(e){this.log("Отписка от обработчика payment_success для подписок"),this.subscriptionSocket?this.subscriptionSocket.off("payment_success",e):this.log("WebSocket подписок не инициализирован, отписка невозможна")}offSubscriptionPaymentError(e){this.log("Отписка от обработчика payment_error для подписок"),this.subscriptionSocket?this.subscriptionSocket.off("payment_error",e):this.log("WebSocket подписок не инициализирован, отписка невозможна")}offSubscriptionPaymentStatusUpdate(e){this.log("Отписка от обработчика payment_status_update для подписок"),this.subscriptionSocket?this.subscriptionSocket.off("payment_status_update",e):this.log("WebSocket подписок не инициализирован, отписка невозможна")}offOrderPaymentSuccess(e){this.log("Отписка от обработчика order_payment_success для заказов"),this.orderSocket?this.orderSocket.off("order_payment_success",e):this.log("WebSocket заказов не инициализирован, отписка невозможна")}offOrderPaymentError(e){this.log("Отписка от обработчика order_payment_error для заказов"),this.orderSocket?this.orderSocket.off("order_payment_error",e):this.log("WebSocket заказов не инициализирован, отписка невозможна")}offOrderPaymentStatusUpdate(e){this.log("Отписка от обработчика order_payment_status_update для заказов"),this.orderSocket?this.orderSocket.off("order_payment_status_update",e):this.log("WebSocket заказов не инициализирован, отписка невозможна")}offPaymentSuccess(e){this.offSubscriptionPaymentSuccess(e)}offPaymentError(e){this.offSubscriptionPaymentError(e)}offPaymentStatusUpdate(e){this.offSubscriptionPaymentStatusUpdate(e)}getSubscriptionSocket(){return this.subscriptionSocket}getOrderSocket(){return this.orderSocket}getSocket(){return this.subscriptionSocket}isSubscriptionSocketConnected(){return this.isSubscriptionConnected}isOrderSocketConnected(){return this.isOrderConnected}isSocketConnected(){return this.isSubscriptionConnected}pingOrderServer(){this.log("Попытка пинга сервера заказов"),this.orderSocket&&this.isOrderConnected?(this.log("Отправка ping на сервер заказов"),this.orderSocket.emit("ping")):this.log("WebSocket заказов не подключен, пинг невозможен")}pingSubscriptionServer(){this.log("Попытка пинга сервера подписок"),this.subscriptionSocket&&this.isSubscriptionConnected?(this.log("Отправка ping на сервер подписок"),this.subscriptionSocket.emit("ping")):this.log("WebSocket подписок не подключен, пинг невозможен")}ping(){this.log("Универсальный пинг - пингуем сервер подписок"),this.pingSubscriptionServer()}startPaymentStatusCheck(e,n,s=5e3){this.log("Запуск периодической проверки статуса платежа",{paymentId:e,intervalMs:s}),this.stopPaymentStatusCheck(e);const r=setInterval(async()=>{try{const i=await this.checkPaymentStatus(e);n(i),(i.status==="paid"||i.status==="success"||i.status==="failed")&&(this.log("Платеж завершен, останавливаем проверку",{paymentId:e,status:i.status}),this.stopPaymentStatusCheck(e))}catch(i){this.log("Ошибка при проверке статуса платежа",{paymentId:e,error:i.message})}},s);this.paymentStatusIntervals.set(e,r)}stopPaymentStatusCheck(e){this.log("Остановка проверки статуса платежа",{paymentId:e});const n=this.paymentStatusIntervals.get(e);n&&(clearInterval(n),this.paymentStatusIntervals.delete(e))}stopAllPaymentStatusChecks(){this.log("Остановка всех проверок статуса платежей"),this.paymentStatusIntervals.forEach((e,n)=>{clearInterval(e),this.log("Остановлена проверка статуса",{paymentId:n})}),this.paymentStatusIntervals.clear()}async getPaymentStatus(e){return await this.checkPaymentStatus(e)}async getPaymentTypeInfo(e){return await this.getPaymentType(e)}}const pe=new YL,l0=({isOpen:t,onClose:e,paymentUrl:n,paymentId:s,userId:r,onSuccess:i,onError:o})=>{const[a,c]=m.useState(!0),[u,d]=m.useState(null),[f,h]=m.useState(!1);m.useEffect(()=>{if(t&&n&&s&&r){const y={paymentUrl:n,paymentId:s,userId:r,timestamp:Date.now()};localStorage.setItem("pending_payment",JSON.stringify(y))}},[t,n,s,r]),m.useEffect(()=>{f&&localStorage.removeItem("pending_payment")},[f]),m.useEffect(()=>{if(t&&s&&r){c(!0),d(null),pe.connectOrder(),pe.joinOrderPaymentRoom(s,r);const y=setInterval(()=>{pe.pingOrderServer()},3e4);pe.startPaymentStatusCheck(s,w=>{console.log("Статус платежа заказа обновлен через API:",w),w.status==="paid"||w.status==="success"?x(w):w.status==="failed"&&b({error:"Платеж не прошел",message:"Ошибка обработки платежа"})},5e3);const x=w=>{console.log("Order payment successful via WebSocket:",w),h(!0);const C=w.amount||"неизвестную";Ie.success("Заказ успешно оплачен!",{description:`Заказ на сумму ${C}₽ будет обработан в ближайшее время`,duration:5e3}),console.log("Закрываем модалку оплаты заказа..."),setTimeout(()=>{console.log("Вызываем onSuccess callback"),i?(console.log("onSuccess callback существует, вызываем..."),i()):(console.error("onSuccess callback не передан!"),console.log("Закрываем модалку через onClose..."),e())},2e3)},b=w=>{console.log("Order payment error via WebSocket:",w),o==null||o(w.error||"Ошибка оплаты")};return pe.onOrderPaymentSuccess(x),pe.onOrderPaymentError(b),()=>{clearInterval(y),pe.stopPaymentStatusCheck(s),pe.leaveOrderPaymentRoom(s,r),pe.offOrderPaymentSuccess(x),pe.offOrderPaymentError(b)}}},[t,s,r,i,o]);const g=()=>{c(!1)},v=()=>{c(!1),d("Ошибка загрузки формы оплаты")},p=()=>{e()};return l.jsx(Nr,{open:t,onOpenChange:e,children:l.jsxs(Is,{className:"max-w-4xl max-h-[90vh] p-0 z-[9999]",children:[l.jsx(Fs,{className:"p-6 pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(Ls,{className:"flex items-center gap-2",children:[l.jsx(mr,{className:"h-5 w-5"}),"Оплата заказа"]})})}),l.jsxs("div",{className:"relative",children:[a&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Загрузка формы оплаты..."})]})}),f?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(lr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Оплата успешна!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Ваш заказ успешно оплачен. Окно закроется автоматически..."}),l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mx-auto"})]}):u?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Hi,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ошибка загрузки"}),l.jsx("p",{className:"text-gray-600 mb-4",children:u}),l.jsx(me,{onClick:p,children:"Закрыть"})]}):l.jsx("iframe",{src:n,className:"w-full h-[600px] border-0",onLoad:g,onError:v,title:"Форма оплаты"})]}),l.jsx("div",{className:"p-4 border-t bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lr,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{children:"Безопасная оплата"})]}),l.jsx("span",{children:"Стоимость: 200₽"})]})})]})})},GL=({isOpen:t,onClose:e,order:n,userId:s,onPaymentSuccess:r})=>{const{locale:i}=uf(),[o,a]=m.useState(!1),[c,u]=m.useState(""),[d,f]=m.useState("");if(!n)return null;const h=async()=>{try{const y=await Pi.createPaymentLink(n.id,200);u(y.paymentUrl),f(y.paymentId),a(!0)}catch(y){console.error("Ошибка создания платежа:",y)}},g=()=>{a(!1),r==null||r()},v=y=>{console.error("Ошибка оплаты:",y),a(!1)},p=n.status!=="paid"&&n.payments.some(y=>y.status==="pending");return l.jsxs(l.Fragment,{children:[l.jsx(Nr,{open:t,onOpenChange:e,children:l.jsxs(Is,{className:"max-w-2xl max-h-[95vh] overflow-y-auto z-[9999] mx-4 sm:mx-auto",children:[l.jsx(Fs,{className:"pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(Ls,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[l.jsx(mr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Заказ #",n.id.slice(-8)]})})}),l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 p-3 sm:p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(wb,{status:n.status}),l.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Статус заказа"})]}),l.jsxs("div",{className:"text-left sm:text-right",children:[l.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-primary",children:[n.price,"₽"]}),l.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:"Стоимость"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(tc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Адрес"}),l.jsx("p",{className:"text-muted-foreground text-sm sm:text-base break-words",children:n.address})]})]}),n.description&&l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(A0,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Описание"}),l.jsx("p",{className:"text-muted-foreground text-sm sm:text-base break-words",children:n.description})]})]}),n.scheduledAt&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(jn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Запланировано"}),l.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:f1(n.scheduledAt,i)})]})]}),n.currier&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ao,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground flex-shrink-0"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Курьер"}),l.jsxs("p",{className:"text-muted-foreground text-sm sm:text-base break-words",children:[n.currier.name," (",n.currier.phone,")"]})]})]}),n.notes&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[l.jsx("p",{className:"font-medium text-gray-700 mb-2 text-sm sm:text-base",children:"Заметки"}),l.jsx("p",{className:"text-gray-600 text-sm sm:text-base break-words",children:n.notes})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground border-t pt-4",children:[l.jsx(oi,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),l.jsxs("span",{children:["Создан ",Lb(n.createdAt,i)]})]}),p&&l.jsx("div",{className:"border-t pt-4",children:l.jsxs(me,{onClick:h,className:"w-full",size:"lg",children:[l.jsx(R0,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Оплатить заказ"}),l.jsx("span",{className:"sm:hidden",children:"Оплатить"})]})})]})]})}),l.jsx(l0,{isOpen:o,onClose:()=>a(!1),paymentUrl:c,paymentId:d,userId:s,onSuccess:g,onError:v})]})},u0=m.createContext(void 0),Mc=({children:t,onOrderCreated:e})=>{const[n,s]=m.useState(!1),[r,i]=m.useState(!1),[o,a]=m.useState(""),[c,u]=m.useState(""),{mutateAsync:d,isPending:f}=uM(),{data:h}=wt(),{data:g}=gf(),v=()=>{s(!0)},p=()=>{s(!1)},y=async C=>{if(h!=null&&h.userId)try{const S=await d({customerId:h.userId,...C});if((g==null?void 0:g.status)==="active")p(),Ie.success("Заявка направлена менеджеру!",{description:"Ваш заказ будет обработан в ближайшее время. Спасибо за использование подписки!",duration:5e3}),e==null||e();else if(C.paymentMethod==="online"){const T=await Pi.createPaymentLink(S.id,200);a(T.paymentUrl),u(T.paymentId),i(!0),p()}else p(),e==null||e()}catch(S){console.error("Ошибка создания заказа:",S),Ie.error("Ошибка создания заказа",{description:"Произошла ошибка при создании заказа. Попробуйте еще раз.",duration:5e3})}},x=()=>{console.log("CreateOrderContext: handlePaymentSuccess вызван"),i(!1),console.log("CreateOrderContext: модалка оплаты закрыта"),e==null||e(),console.log("CreateOrderContext: данные заказов обновлены")},b=C=>{console.error("Ошибка оплаты:",C),i(!1)},w=()=>{i(!1)};return l.jsxs(u0.Provider,{value:{openCreateOrderModal:v,closeCreateOrderModal:p,isCreateOrderModalOpen:n},children:[t,l.jsx(JF,{isOpen:n,onClose:p,onSubmit:y,isLoading:f}),l.jsx(l0,{isOpen:r,onClose:w,paymentUrl:o,paymentId:c,userId:h==null?void 0:h.userId,onSuccess:x,onError:b})]})},Sf=()=>{const t=m.useContext(u0);if(t===void 0)throw new Error("useCreateOrderModal must be used within a CreateOrderProvider");return t},KL=()=>{const t=_r(),{openCreateOrderModal:e}=Sf(),n=[{title:"Создать заказ",description:"Новый заказ",icon:xn,onClick:e,isPrimary:!0},{title:"Мои заказы",description:"Все заказы",icon:xn,onClick:()=>t("/orders"),isPrimary:!1},{title:"Подписки",description:"Управление",icon:mr,onClick:()=>t("/subscriptions"),isPrimary:!1}];return l.jsxs(xt,{className:"border-0 shadow-sm bg-gradient-to-br from-white to-gray-50/50",children:[l.jsx(cn,{className:"pb-4",children:l.jsxs(ln,{className:"flex items-center gap-2 text-lg font-semibold text-gray-800",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(sg,{className:"h-4 w-4 text-blue-600"})}),"Быстрые действия"]})}),l.jsx(bt,{className:"pt-0",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map((s,r)=>{const i=s.icon;return l.jsx(me,{variant:"ghost",className:`w-full h-auto p-4 rounded-xl transition-all duration-200 hover:scale-[1.02] ${s.isPrimary?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl":"bg-white hover:bg-gray-50 border border-gray-200 hover:border-gray-300 text-gray-700 hover:text-gray-900"}`,onClick:s.onClick,children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx("div",{className:`p-2 rounded-lg ${s.isPrimary?"bg-white/20":"bg-gray-100"}`,children:l.jsx(i,{className:`h-4 w-4 ${s.isPrimary?"text-white":"text-gray-600"}`})}),l.jsxs("div",{className:"text-left  min-w-0",children:[l.jsx("div",{className:`font-medium text-sm ${s.isPrimary?"text-white":"text-gray-900"}`,children:s.title}),l.jsx("div",{className:" mt-0.5",children:l.jsx("span",{className:`whitespace-break-spaces text-xs ${s.isPrimary?"text-blue-100":"text-gray-500"}`,children:s.description})})]})]})},r)})})})]})},ZL=({orders:t,isLoading:e})=>{const n=_r(),{openCreateOrderModal:s}=Sf(),{locale:r}=uf(),i=a=>{switch(a.toLowerCase()){case"new":return"bg-blue-100 text-blue-800 border-blue-200";case"paid":return"bg-green-100 text-green-800 border-green-200";case"assigned":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"in_progress":return"bg-orange-100 text-orange-800 border-orange-200";case"done":return"bg-green-100 text-green-800 border-green-200";case"canceled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=a=>{switch(a.toLowerCase()){case"new":return"Новый";case"paid":return"Оплачен";case"assigned":return"Назначен";case"in_progress":return"Выполняется";case"done":return"Завершен";case"canceled":return"Отменен";default:return a}};return e?l.jsxs(xt,{children:[l.jsx(cn,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(xn,{className:"h-5 w-5"}),"Последние заказы"]})}),l.jsx(bt,{children:l.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"h-20 bg-muted rounded-lg"})},a))})})]}):!t||t.length===0?l.jsxs(xt,{children:[l.jsx(cn,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(xn,{className:"h-5 w-5"}),"Последние заказы"]})}),l.jsx(bt,{children:l.jsxs("div",{className:"text-center py-8",children:[l.jsx(xn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Заказов пока нет"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Создайте свой первый заказ на вынос мусора"}),l.jsxs(me,{onClick:s,children:[l.jsx(xn,{className:"h-4 w-4 mr-2"}),"Создать заказ"]})]})})]}):l.jsxs(xt,{children:[l.jsx(cn,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(xn,{className:"h-5 w-5"}),"Последние заказы"]}),l.jsxs(me,{variant:"outline",size:"sm",onClick:()=>n("/orders"),children:["Все заказы",l.jsx(_a,{className:"h-4 w-4 ml-2"})]})]})}),l.jsx(bt,{children:l.jsx("div",{className:"space-y-4",children:t.slice(0,3).map(a=>l.jsxs("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>n("/orders"),children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xn,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{className:"font-medium text-sm",children:["Заказ #",a.id.slice(-8)]})]}),l.jsx(As,{className:i(a.status),children:o(a.status)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(tc,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:a.address})]}),a.scheduledAt&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(jn,{className:"h-3 w-3"}),l.jsx("span",{children:Np(a.scheduledAt.toString(),r)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm font-medium",children:[a.price," ₽"]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:Np(a.createdAt.toString(),r)})]})]})]},a.id))})})]})},QL=()=>{const{data:t,isLoading:e,error:n}=wt(),{data:s,isLoading:r}=bb();return e?l.jsx(li,{}):n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:"Ошибка загрузки данных"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Не удалось загрузить информацию о пользователе"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Попробовать снова"})]})}):t?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Sc,{}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Добро пожаловать, ",t.name,"!"]}),l.jsx("p",{className:"text-gray-600",children:"Управляйте своими заказами и подписками"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(ZL,{orders:(s==null?void 0:s.orders)||[],isLoading:r})}),l.jsx("div",{children:l.jsx(KL,{})})]})]})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:"Пользователь не найден"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Данные пользователя не найдены"})]})})},XL=()=>l.jsx(Mc,{onOrderCreated:()=>window.location.reload(),children:l.jsx(QL,{})}),JL=()=>{var N,T;const[t,e]=m.useState("all"),[n,s]=m.useState(null),[r,i]=m.useState(!1),{data:o,isLoading:a,refetch:c}=bb(),{mutateAsync:u}=dM(),{mutateAsync:d}=fM(),{data:f}=wt(),{openCreateOrderModal:h}=Sf(),g=((N=o==null?void 0:o.orders)==null?void 0:N.filter(E=>t==="all"||E.status===t))||[],v=E=>{var A,M;return E==="all"?((A=o==null?void 0:o.orders)==null?void 0:A.length)||0:((M=o==null?void 0:o.orders)==null?void 0:M.filter(L=>L.status===E).length)||0},p=async(E,A)=>{try{await u({id:E,data:{status:A}})}catch(M){console.error("Ошибка обновления статуса:",M)}},y=async E=>{try{await d(E)}catch(A){console.error("Ошибка отмены заказа:",A)}},x=()=>{c()},b=E=>{s(E),i(!0)},w=()=>{i(!1),s(null)},C=()=>{c()},S=[{value:"all",label:"Все заказы"},{value:"new",label:"Новые"},{value:"paid",label:"Оплаченные"},{value:"assigned",label:"Назначенные"},{value:"in_progress",label:"Выполняются"},{value:"done",label:"Завершенные"},{value:"canceled",label:"Отмененные"}];return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Sc,{}),l.jsx("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Мои заказы"}),l.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Управление заказами на вынос мусора"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[l.jsxs(me,{variant:"outline",onClick:x,disabled:a,className:"w-full sm:w-auto",children:[l.jsx(M0,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),l.jsx("span",{className:"hidden sm:inline",children:"Обновить"}),l.jsx("span",{className:"sm:hidden",children:"Обновить"})]}),l.jsxs(me,{onClick:h,className:"bg-primary hover:bg-primary/90 w-full sm:w-auto",children:[l.jsx(nc,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Создать заказ"}),l.jsx("span",{className:"sm:hidden",children:"Создать"})]})]})]}),l.jsxs(xt,{children:[l.jsx(cn,{className:"pb-3",children:l.jsxs(ln,{className:"flex items-center gap-2 text-sm",children:[l.jsx(D0,{className:"h-4 w-4"}),"Фильтр по статусам"]})}),l.jsx(bt,{children:l.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(E=>l.jsxs(me,{variant:t===E.value?"default":"outline",size:"sm",onClick:()=>e(E.value),className:"text-xs",children:[E.label," (",v(E.value),")"]},E.value))})})]}),l.jsxs(xt,{children:[l.jsx(cn,{className:"pb-3",children:l.jsxs(ln,{className:"flex items-center gap-2 text-sm sm:text-base",children:[l.jsx(xn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Заказы",t!=="all"&&l.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["(",(T=S.find(E=>E.value===t))==null?void 0:T.label,": ",g.length,")"]}),t==="all"&&l.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["(Всего: ",g.length,")"]})]})}),l.jsx(bt,{className:"p-2 sm:p-6",children:l.jsx(g1,{orders:g,isLoading:a,onStatusUpdate:p,onCancel:y,showActions:!1,onOrderClick:b})})]})]})}),l.jsx(GL,{isOpen:r,onClose:w,order:n,userId:f==null?void 0:f.userId,onPaymentSuccess:C})]})},eV=()=>l.jsx(Mc,{onOrderCreated:()=>window.location.reload(),children:l.jsx(JL,{})}),kl=({children:t})=>{const e=localStorage.getItem("accessToken"),n=x0();if(!e)return l.jsx(kf,{to:"/",state:{from:n},replace:!0});const{data:s,isLoading:r,error:i}=wt();return r?l.jsx(li,{}):i||!s?l.jsx(kf,{to:"/",state:{from:n},replace:!0}):t},tV=({paymentId:t,type:e="subscription",onSuccess:n,onError:s}={})=>{const{data:r}=wt(),i=Dn(),o=m.useCallback(c=>{if(console.log("Платеж успешно обработан!",c),n){n(c);return}c.subscriptionId&&(Ie.success("Подписка успешно оплачена!",{description:`Подписка на сумму ${c.amount||"неизвестную"}₽ активирована`,duration:5e3}),r!=null&&r.userId&&(console.log("Обновление кэша подписок через usePaymentWebSocket"),i.invalidateQueries({queryKey:["user-subscription",r.userId]}))),c.orderId&&(Ie.success("Заказ успешно оплачен!",{description:`Заказ на сумму ${c.amount||"неизвестную"}₽ будет обработан в ближайшее время`,duration:5e3}),r!=null&&r.userId&&(console.log("Обновление кэша заказов через usePaymentWebSocket"),i.invalidateQueries({queryKey:["orders",r.userId]})))},[r==null?void 0:r.userId,i,n]),a=m.useCallback(c=>{if(console.log("Ошибка оплаты:",c),s){s(c);return}Ie.error("Ошибка оплаты",{description:"Произошла ошибка при обработке платежа",duration:5e3})},[s]);return m.useEffect(()=>{if(!(!t||!(r!=null&&r.userId)))return e==="subscription"?(pe.connectSubscription(),pe.joinPaymentRoom({paymentId:t,userId:r.userId}),pe.onSubscriptionPaymentSuccess(o),pe.onSubscriptionPaymentError(a),()=>{pe.leavePaymentRoom({paymentId:t,userId:r.userId}),pe.offSubscriptionPaymentSuccess(o),pe.offSubscriptionPaymentError(a)}):(pe.connectOrder(),pe.joinOrderPaymentRoom(t,r.userId),pe.onOrderPaymentSuccess(o),pe.onOrderPaymentError(a),()=>{pe.leaveOrderPaymentRoom(t,r.userId),pe.offOrderPaymentSuccess(o),pe.offOrderPaymentError(a)})},[t,e,r==null?void 0:r.userId,o,a]),{isConnected:e==="subscription"?pe.isSubscriptionSocketConnected():pe.isOrderSocketConnected(),socket:e==="subscription"?pe.getSubscriptionSocket():pe.getOrderSocket()}},nV=({onSelect:t,isLoading:e=!1})=>{const[n,s]=m.useState(null),r=[{type:"monthly",name:"Месячная подписка",description:"Подписка на месяц с доступом ко всем функциям",price:1e3,duration:"1 месяц",features:["Неограниченное количество заказов","Приоритетная поддержка","Уведомления в реальном времени","История заказов"],icon:l.jsx(jn,{className:"h-6 w-6 text-blue-500"}),badgeColor:"bg-blue-100 text-blue-800 hover:bg-blue-200",popular:!1},{type:"yearly",name:"Годовая подписка",description:"Подписка на год со скидкой 20%",price:9600,duration:"12 месяцев",features:["Неограниченное количество заказов","Приоритетная поддержка","Уведомления в реальном времени","История заказов","Эксклюзивные функции","Скидка 20%"],icon:l.jsx(sg,{className:"h-6 w-6 text-purple-500"}),badgeColor:"bg-purple-100 text-purple-800 hover:bg-purple-200",popular:!0}],i=(o,a)=>{s(o),t(o,a)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Выберите тип подписки"}),l.jsx("p",{className:"text-muted-foreground",children:"У вас может быть только одна активная подписка"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(o=>l.jsxs(xt,{className:`relative transition-all duration-200 hover:shadow-lg ${n===o.type?"ring-2 ring-primary shadow-lg":""} ${e?"opacity-50 pointer-events-none":""}`,children:[o.popular&&l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:l.jsx(As,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:"Популярный"})}),l.jsxs(cn,{className:"text-center pb-4 gap-4",children:[l.jsx("div",{className:"flex justify-center mb-3",children:o.icon}),l.jsx(ln,{className:"text-xl text-center font-bold",children:o.name}),l.jsx(As,{className:`w-fit mx-auto ${o.badgeColor}`,children:o.duration}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("span",{className:"text-3xl font-bold text-primary",children:[o.price,"₽"]}),o.type==="yearly"&&l.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[l.jsx("span",{className:"line-through",children:"12000₽"}),l.jsx("span",{className:"ml-2 text-green-600 font-medium",children:"-20%"})]})]})]}),l.jsxs(bt,{className:"space-y-4",children:[l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:o.description})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm text-foreground",children:"Включено:"}),l.jsx("ul",{className:"space-y-1",children:o.features.map((a,c)=>l.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[l.jsx(tg,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),l.jsx("span",{className:"text-muted-foreground",children:a})]},c))})]}),l.jsx(me,{onClick:()=>i(o.type,o.price),className:"w-full",disabled:e,children:e?"Обработка...":"Выбрать подписку"})]})]},o.type))})]})},sV=({isOpen:t,onClose:e,onConfirm:n,isLoading:s=!1,subscriptionType:r="monthly"})=>l.jsx(Nr,{open:t,onOpenChange:e,children:l.jsxs(Is,{className:"max-w-md",children:[l.jsxs(Fs,{children:[l.jsxs(Ls,{className:"flex items-center gap-2",children:[l.jsx(ng,{className:"h-5 w-5 text-red-500"}),"Удаление подписки"]}),l.jsxs(uv,{children:["Вы уверены, что хотите удалить свою ",r==="monthly"?"месячную":"годовую"," подписку? Это действие нельзя отменить."]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Xi,{className:"h-5 w-5 text-red-500 mt-0.5"}),l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"Внимание!"}),l.jsx("p",{children:"После удаления подписки вы потеряете доступ к премиум функциям. Вы сможете оформить новую подписку в любое время."})]})]})}),l.jsxs("div",{className:"flex gap-3 justify-end",children:[l.jsx(me,{variant:"outline",onClick:e,disabled:s,children:"Отмена"}),l.jsx(me,{variant:"destructive",onClick:n,disabled:s,className:"bg-red-600 hover:bg-red-700",children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Удаление..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Удалить подписку"]})})]})]})]})}),rV=({userSubscription:t,onPay:e,onDelete:n})=>{const[s,r]=m.useState(!1);console.log("UserSubscriptionCard received data:",t);const i=()=>{switch(t.status){case"active":return l.jsx(lr,{className:"h-5 w-5 text-green-500"});case"cancelled":return l.jsx(Xi,{className:"h-5 w-5 text-gray-500"});case"expired":return l.jsx(oi,{className:"h-5 w-5 text-red-500"});case"pending":return l.jsx(Hi,{className:"h-5 w-5 text-yellow-500"});default:return l.jsx(Hi,{className:"h-5 w-5 text-gray-500"})}},o=()=>{switch(t.status){case"active":return"bg-green-100 text-green-800 hover:bg-green-200";case"cancelled":return"bg-gray-100 text-gray-800 hover:bg-gray-200";case"expired":return"bg-red-100 text-red-800 hover:bg-red-200";case"pending":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},a=()=>{switch(t.status){case"active":return"Активна";case"cancelled":return"Отменена";case"expired":return"Истекла";case"pending":return"Ожидает оплаты";default:return"Неизвестно"}},c=g=>{if(console.log("Formatting date:",g,"Type:",typeof g),!g)return"Не указано";try{const v=new Date(g),p=v.getUTCFullYear(),y=v.getUTCMonth(),x=v.getUTCDate();return new Date(p,y,x).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})}catch{return console.error("Invalid date:",g),"Неверная дата"}},u=()=>{if(t.status!=="active")return!1;const g=new Date(t.endDate),v=new Date,p=Math.ceil((g.getTime()-v.getTime())/(1e3*60*60*24));return p<=3&&p>0},d=()=>{r(!0)},f=()=>{n&&n(t.id),r(!1)},h=()=>{r(!1)};return l.jsxs(l.Fragment,{children:[l.jsxs(xt,{className:`transition-all duration-200 ${u()?"ring-2 ring-yellow-500":""}`,children:[l.jsx(cn,{className:"pb-4",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(ln,{className:"text-lg font-semibold",children:t.type==="monthly"?"Месячная подписка":"Годовая подписка"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.type==="monthly"?"Подписка на месяц":"Подписка на год"})]}),l.jsx(As,{className:`${o()}`,children:l.jsxs("div",{className:"flex items-center gap-1",children:[i(),a()]})})]})}),l.jsxs(bt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(jn,{className:"h-4 w-4"}),l.jsx("span",{children:"Начало"})]}),l.jsx("p",{className:"font-medium",children:c(t.startDate)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(jn,{className:"h-4 w-4"}),l.jsx("span",{children:"Окончание"})]}),l.jsx("p",{className:"font-medium",children:c(t.endDate)})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(oi,{className:"h-4 w-4"}),l.jsx("span",{children:"Стоимость"})]}),l.jsxs("p",{className:"text-lg font-bold text-primary",children:[t.price,"₽"]})]}),t.status==="pending"&&e&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hi,{className:"h-4 w-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Подписка ожидает оплаты"})]}),l.jsxs(me,{onClick:()=>e(t.id),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(mr,{className:"h-4 w-4 mr-2"}),"Оплатить"]})]})}),t.status==="active"&&n&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xi,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"text-sm text-red-800 font-medium",children:"Управление подпиской"})]}),l.jsxs(me,{onClick:d,size:"sm",variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[l.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Удалить"]})]})}),u()&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hi,{className:"h-4 w-4 text-yellow-600"}),l.jsx("span",{className:"text-sm text-yellow-800 font-medium",children:"Подписка скоро истекает"})]})})]})]}),l.jsx(sV,{isOpen:s,onClose:h,onConfirm:f,subscriptionType:t.type})]})},iV=({isOpen:t,onClose:e,subscriptionType:n,paymentUrl:s})=>{const[r,i]=m.useState("pending"),[o,a]=m.useState(!1),{data:c}=wt(),u=Dn(),d=m.useRef(null),f=m.useRef(null),h=m.useRef(null),g=()=>(s==null?void 0:s.split("/").pop())||"mock-payment-id",v=S=>{console.log("Подключение к WebSocket комнате платежа подписки:",S),c!=null&&c.userId&&(pe.connectSubscription(),pe.joinPaymentRoom({paymentId:S,userId:c.userId}),a(!0))},p=S=>{console.log("Отключение от WebSocket комнаты платежа подписки:",S),c!=null&&c.userId&&(pe.leavePaymentRoom({paymentId:S,userId:c.userId}),a(!1))},y=S=>{console.log("Получено уведомление об успешной оплате:",S),i("success"),w();const N=S.amount||"неизвестную";Ie.success("Подписка успешно оплачена!",{description:`Подписка на сумму ${N}₽ активирована`,duration:5e3}),c!=null&&c.userId&&(console.log("Обновление кэша подписок после успешной оплаты"),u.invalidateQueries({queryKey:["user-subscription",c.userId]})),setTimeout(()=>{e()},2e3)},x=S=>{console.log("Получено уведомление об ошибке оплаты:",S),i("failed"),w(),Ie.error("Ошибка обработки платежа",{description:S.message||"Платеж не был обработан",duration:5e3})},b=S=>{console.log("Запуск проверки статуса платежа через API:",S),pe.startPaymentStatusCheck(S,N=>{console.log("Статус платежа обновлен через API:",N),N.status==="paid"||N.status==="success"?y(N):N.status==="failed"&&x({error:"Платеж не прошел",message:"Ошибка обработки платежа"})},5e3)},w=()=>{d.current&&(clearInterval(d.current),d.current=null,console.log("Проверка статуса платежа остановлена")),h.current&&pe.stopPaymentStatusCheck(h.current)},C=()=>{w(),f.current&&(clearInterval(f.current),f.current=null),h.current&&p(h.current),i("pending"),a(!1)};return m.useEffect(()=>{if(t&&s){const S=g();h.current=S,v(S),b(S),f.current=setInterval(()=>{pe.pingSubscriptionServer()},3e4),pe.onSubscriptionPaymentSuccess(y),pe.onSubscriptionPaymentError(x),console.log("PaymentModal: WebSocket подключение установлено для платежа:",S)}return()=>{t&&(f.current&&(clearInterval(f.current),f.current=null),C(),pe.offSubscriptionPaymentSuccess(y),pe.offSubscriptionPaymentError(x),console.log("PaymentModal: WebSocket подключение очищено"))}},[t,s]),m.useEffect(()=>{t||C()},[t]),n?l.jsx(Nr,{open:t,onOpenChange:e,children:l.jsxs(Is,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Fs,{children:l.jsxs(Ls,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mr,{className:"h-5 w-5"}),"Оплата подписки"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[o?l.jsx(rg,{className:"h-4 w-4 text-green-500"}):l.jsx(ig,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:"text-xs text-muted-foreground",children:o?"Подключено":"Отключено"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`h-2 w-2 rounded-full ${r==="success"?"bg-green-500":r==="failed"?"bg-red-500":r==="processing"?"bg-yellow-500":"bg-gray-400"}`}),l.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:r==="success"?"Успешно":r==="failed"?"Ошибка":r==="processing"?"Обработка":"Ожидание"})]})]})]})}),l.jsxs("div",{className:"space-y-4",children:[s?l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsx("iframe",{src:s,className:"w-full h-[600px] border-0",title:"Страница оплаты",sandbox:"allow-scripts allow-forms allow-same-origin allow-top-navigation"})}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[l.jsx(mr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Загрузка ссылки на оплату..."})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(me,{variant:"outline",onClick:e,className:"flex-1",children:"Закрыть"})})]})]})}):null},oV=()=>{const[t,e]=m.useState(null),[n,s]=m.useState(null),[r,i]=m.useState(!1),{data:o,isLoading:a}=wt(),{data:c,isLoading:u}=gf(),{mutateAsync:d,isPending:f}=GF(),{mutateAsync:h,isPending:g}=KF(),{mutateAsync:v}=ZF(),{isConnected:p}=tV(),y=async(C,S)=>{try{e(C);const N=await d({type:C,price:S});console.log("Subscription created:",N);const T=await h({subscriptionId:N.id,subscriptionType:C,amount:S});s(T.paymentUrl),i(!0)}catch(N){console.error("Ошибка при выборе подписки:",N)}},x=()=>{i(!1),e(null),s(null)},b=async C=>{try{const S=await h({subscriptionId:C,subscriptionType:(c==null?void 0:c.type)||"monthly",amount:Number(c==null?void 0:c.price)||1e3});e((c==null?void 0:c.type)||"monthly"),s(S.paymentUrl),i(!0)}catch(S){console.error("Ошибка при создании ссылки на оплату:",S)}},w=async C=>{try{await v(C)}catch(S){console.error("Ошибка при удалении подписки:",S)}};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Sc,{}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Подписки"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"У вас может быть только одна активная подписка"})]}),l.jsx("div",{className:"flex items-center gap-2",children:p?l.jsx(As,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:l.jsx(rg,{className:"h-3 w-3 mr-1"})}):l.jsx(As,{variant:"outline",className:"text-orange-600 border-orange-200",children:l.jsx(ig,{className:"h-3 w-3 mr-1"})})})]})}),a||u?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(li,{})}):c?l.jsx("div",{className:"space-y-6",children:l.jsxs(xt,{children:[l.jsx(cn,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(mr,{className:"h-5 w-5"}),"Текущая подписка"]})}),l.jsx(bt,{children:l.jsx(rV,{userSubscription:c,onPay:b,onDelete:w})})]})}):o?l.jsx("div",{className:"space-y-6",children:l.jsxs(xt,{children:[l.jsx(cn,{children:l.jsxs(ln,{className:"flex items-center gap-2",children:[l.jsx(nc,{className:"h-5 w-5"}),"Оформить подписку"]})}),l.jsx(bt,{children:l.jsx(nV,{onSelect:y,isLoading:f||g})})]})}):l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Ошибка загрузки данных пользователя"})})})]}),l.jsx(iV,{isOpen:r,onClose:x,subscriptionType:t,paymentUrl:n})]})},aV=b0([{path:"/",element:l.jsx(lM,{})},{path:"dashboard",element:l.jsx(kl,{children:l.jsx(XL,{})})},{path:"subscriptions",element:l.jsx(kl,{children:l.jsx(oV,{})})},{path:"orders",element:l.jsx(kl,{children:l.jsx(eV,{})})}]);function cV(){function t(){const e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${e}px`)}m.useEffect(()=>(t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}),[])}const lV=()=>{const[t,e]=m.useState(null),[n,s]=m.useState(!1),[r,i]=m.useState(!1),[o,a]=m.useState(!1),[c,u]=m.useState(!1);m.useEffect(()=>{const h=()=>{const x=window.navigator.userAgent.toLowerCase(),b=/iphone|ipad|ipod/.test(x),w=/safari/.test(x)&&!/chrome/.test(x);a(b&&w)},g=()=>{const x=window.matchMedia("(display-mode: standalone)").matches,b="standalone"in window.navigator&&window.navigator.standalone===!0;u(x),i(x||b)};h(),g();const v=x=>{x.preventDefault(),e(x),s(!0)},p=()=>{i(!0),s(!1),e(null)},y=()=>{o&&!r&&setTimeout(()=>{s(!0)},3e3)};return window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",p),y(),()=>{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",p)}},[o,r]);const d=async()=>{if(!t)return;t.prompt();const{outcome:h}=await t.userChoice;console.log(h==="accepted"?"Пользователь принял предложение установки":"Пользователь отклонил предложение установки"),e(null),s(!1)},f=()=>{s(!1),localStorage.setItem("pwa-install-dismissed","true")};return r||!n||!o&&!t||localStorage.getItem("pwa-install-dismissed")==="true"?null:l.jsxs("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-background border border-border rounded-lg shadow-lg p-4 md:left-auto md:right-4 md:w-80",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:l.jsx(Dr,{className:"w-4 h-4 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:"Установить приложение"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Для быстрого доступа"})]})]}),l.jsx(me,{variant:"ghost",size:"sm",onClick:f,className:"h-6 w-6 p-0",children:l.jsx(Hu,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"space-y-2",children:o?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Установите ЧистоДом для быстрого доступа и работы офлайн"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(I0,{className:"w-4 h-4 text-primary"}),l.jsx("span",{children:'1. Нажмите кнопку "Поделиться" внизу экрана'})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(nc,{className:"w-4 h-4 text-primary"}),l.jsx("span",{children:'2. Выберите "На экран Домой"'})]})]}),l.jsx("div",{className:"flex gap-2",children:l.jsx(me,{variant:"outline",size:"sm",onClick:f,className:"flex-1",children:"Понятно"})})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Установите ЧистоДом для быстрого доступа и работы офлайн"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(me,{onClick:d,size:"sm",className:"flex-1",children:[l.jsx(F0,{className:"w-4 h-4 mr-2"}),"Установить"]}),l.jsx(me,{variant:"outline",size:"sm",onClick:f,children:"Позже"})]})]})})]})};function uV(){return cV(),l.jsxs(Mc,{children:[l.jsx(w0,{router:aV}),l.jsx(lV,{}),l.jsx(L0,{position:"top-right",expand:!0,richColors:!0,closeButton:!0})]})}const dV={theme:"system",setTheme:()=>null},fV=m.createContext(dV);function hV({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...s}){const[r,i]=m.useState(()=>localStorage.getItem(n)||e);m.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),r==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(c);return}a.classList.add(r),a.style.transition="background-color 0.3s ease, color 0.3s ease"},[r]);const o={theme:r,setTheme:a=>{localStorage.setItem(n,a),i(a)}};return l.jsx(fV.Provider,{...s,value:o,children:t})}function mV({children:t,defaultLocale:e="ru",storageKey:n="clean-house-locale"}){const[s,r]=m.useState(()=>{try{const o=localStorage.getItem(n);if(o&&(o==="ru"||o==="en"))return o}catch(o){console.warn("Failed to read locale from localStorage:",o)}return e});m.useEffect(()=>{try{localStorage.setItem(n,s)}catch(o){console.warn("Failed to save locale to localStorage:",o)}},[s,n]);const i={locale:s,setLocale:r};return l.jsx(Sb.Provider,{value:i,children:t})}const pV=new e_({defaultOptions:{queries:{staleTime:60*1e3,gcTime:180*1e3,refetchOnWindowFocus:!1,retry:1}}});p_.createRoot(document.getElementById("root")).render(l.jsx(D.StrictMode,{children:l.jsx(Ok,{children:l.jsx(t_,{client:pV,children:l.jsx(hV,{defaultTheme:"system",storageKey:"vite-ui-theme",children:l.jsx(mV,{defaultLocale:"ru",storageKey:"clean-house-locale",children:l.jsx(Mc,{children:l.jsx(uV,{})})})})})})}));
